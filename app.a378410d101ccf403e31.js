/*! For license information please see app.a378410d101ccf403e31.js.LICENSE.txt */
(()=>{"use strict";var t,e={336:(t,e,n)=>{const r=function(){function t(){}return t.prototype.fetchPage=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=function(){return!0}),r=this,o=void 0,a=function(){var r,o,i,a;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(s){switch(s.label){case 0:if(r=t.getNorth().toFixed(2),o=t.getEast().toFixed(2),i=t.getSouth().toFixed(2),a=t.getWest().toFixed(2),!n())throw new Error("Proceed function returned false. Stopping fetch.");return e=Math.max(1,Number(e)),"https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(e),[4,new Promise((function(t,n){fetch("https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(e),{method:"GET",redirect:"follow"}).then((function(t){return t.text()})).then((function(e){var n=JSON.parse(e);t(n.data)})).catch(n)}))];case 1:return[2,s.sent()]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function s(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,s)}l((a=a.apply(r,o||[])).next())}));var r,o,i,a},t}();var o=n(243),i=(n(732),n(256),function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}),a=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const s=function(){function t(t,e,n){this.points={},this.map=t,this.datastore=e,this.modeHandler=n,this.markers=new o.MarkerClusterGroup({maxClusterRadius:this.markerClusterRadius,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:18,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,iconCreateFunction:this.iconCreateFunction,chunkedLoading:!0,chunkInterval:150,chunkDelay:150,chunkProgress:function(t,e,n){console.log("chunkProgress",{processed:t,total:e,elapsed:n})}}),this.markers.addTo(this.map),this.map.on("zoomend",(function(t){console.log("zoomend",t.target.getZoom())}))}return t.prototype.iconCreateFunction=function(t){var e=t.getAllChildMarkers().map((function(t){return t.options.fillColor})),n={};e.forEach((function(t){n[t]||(n[t]=0),n[t]++}));var r=Object.keys(n).sort((function(t,e){return n[e]-n[t]})),i="background: conic-gradient(",a=0;r.forEach((function(t,r){0==r&&(i+="\n"+t+" 0%");var o=n[t]/e.length*100;i+=", \n"+t+" "+a+"%",i+=", \n"+t+" "+(a+o)+"%",a+=o})),i+="\n);";var s=Math.random().toString(36).substring(7);return o.divIcon({html:"<style>#cluster_".concat(s,"::before { ").concat(i," }</style> <div id='cluster_").concat(s,"'><span>")+t.getChildCount()+"</span></div>",className:"marker-cluster"})},t.prototype.markerClusterRadius=function(t){switch(t){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:return 150;case 14:return 100;default:return 0}},t.prototype.setModeHandler=function(t){return this.modeHandler=t,Object.values(this.points).forEach((function(e){var n=e.layer,r=e.point;n.setStyle({fillColor:t.pointColour(r)}),n.redraw()})),console.error(this.markers),this.markers&&this.markers.getLayers().length&&this.markers.refreshClusters(),this},t.prototype.refreshMarkersInsideBounds=function(t,e){var n,r,o;return i(this,void 0,void 0,(function(){var i,s,l=this;return a(this,(function(a){switch(a.label){case 0:if(!this.datastore)throw new Error("Datastore not set");return[4,this.datastore.getFullPointsWithinBounds(t)];case 1:return a.sent().forEach((function(t){var e=t.latlng;l.points[e]?l.points[e].point=t:l.points[e]={layer:l.renderPoint(t),point:t}})),e?(i=[],s=Object.values(this.points).filter((function(t){var n=t.layer,r=t.point.places.filter(e).length>0;return r||i.push(n),r})),i.length&&(null===(n=this.markers)||void 0===n||n.removeLayers(i)),null===(r=this.markers)||void 0===r||r.addLayers(s.map((function(t){return t.layer})))):null===(o=this.markers)||void 0===o||o.addLayers(Object.values(this.points).map((function(t){return t.layer}))),[2]}}))}))},t.prototype.removeMarkersOutsideBounds=function(t){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2]}))}))},t.prototype.removeAllMarkers=function(){var t;return i(this,void 0,void 0,(function(){return a(this,(function(e){return null===(t=this.markers)||void 0===t||t.clearLayers(),[2]}))}))},t.prototype.renderPoint=function(t){var e,n=this,r=o.circleMarker([t.latitude,t.longitude],{radius:5,fillColor:null===(e=this.modeHandler)||void 0===e?void 0:e.pointColour(t),color:"#000000",weight:1,opacity:1,fillOpacity:.8});return r.bindPopup((function(e){return n.renderPopup(t.places)||""}),{autoPan:!0,autoClose:!1}),r.bindTooltip((function(e){return n.modeHandler.renderTooltip(t.places)||""}),{}),r},t.prototype.renderPopup=function(t){return 1==t.length?this.modeHandler.renderPopupContent(t[0]):this.rendorPopupMulti(t)},t.prototype.rendorPopupMulti=function(t){var e,n,r=document.createElement("div"),o=[];t.sort((function(t,e){return t.address1<e.address1?-1:t.address1>e.address1?1:0}));var i=function(t){var e=document.createElement("div"),n=a.modeHandler.placeColour(t),i=document.createElement("button");i.classList.add("accordion"),i.type="button",i.innerHTML='<svg height="15" width="15" style="margin-right:3px">'+'<circle class="circle" cx="7.5" cy="9" r="5" stroke="#000" stroke-width="1" fill="'.concat(n,'" />')+"</svg>"+"<span>".concat(t.address1,"</span>");var s=document.createElement("div");s.classList.add("panel"),s.appendChild(a.modeHandler.renderPopupContent(t)),i.addEventListener("click",(function(){var t=e.classList.contains("active");o.forEach((function(t){t.classList.remove("active")})),t||e.classList.add("active")})),e.appendChild(i),e.appendChild(s),r.appendChild(e),o.push(e)},a=this;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),l=s.next();!l.done;l=s.next())i(l.value)}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},t}();function l(){return window.location.href.includes("localhost")||window.location.href.includes("debug=true")}var c=function(){return c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},c.apply(this,arguments)},u=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},d=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function h(t){var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=Math.floor(50*t.getSouth())/50,i=Math.ceil(25*t.getEast())/25;return o.latLngBounds([r,n],[e,i])}const p=function(){function t(e){var n=this;this.markerFilter=function(t){return!0},this.controls={},e=c(c({},t.DEFAULT_OPTIONS),e),this.api=e.api,this.datastore=e.datastore,this.modeHandler=e.defaultModeHandler,this.map=o.map(e.mapContainerId,{preferCanvas:!0}),this.markerLayer=new s(this.map,this.datastore,this.modeHandler),this.mapTileLayer=o.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",crossOrigin:!0,maxZoom:20}),this.mapTileLayer.addTo(this.map);var r=JSON.parse(localStorage.getItem("startpos")||"");r?this.map.setView([r.lat,r.lng],r.zoom):this.map.setView([-26.1772288,133.4170119],4),this.map.on("moveend",(function(){return u(n,void 0,void 0,(function(){var t,e;return d(this,(function(n){return t=this.map.getCenter(),e=this.map.getZoom(),localStorage.setItem("startpos",JSON.stringify({lat:t.lat,lng:t.lng,zoom:e})),this.fetchDataForCurrentView(),[2]}))}))})),this.fetchDataForCurrentView()}return t.prototype.getBoxesInBounds=function(t){for(var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=[],i=e;i>t.getSouth();i-=.02)for(var a=n;a<t.getEast();a+=.04)r.push([i,a]);return r.map((function(t){var e=t[0],n=t[1],r=e-.02,i=n+.04;return o.latLngBounds([r,n],[e,i])}))},t.prototype.getCurrentViewBoxes=function(){return this.getBoxesInBounds(this.map.getBounds())},t.prototype.hideMarkersOutsideCurrentView=function(){if(!this.markerLayer)throw new Error("Marker Layer not set");var t=this.map.getBounds().pad(.5);this.markerLayer.removeMarkersOutsideBounds(t)},t.prototype.displayMarkersInCurrentView=function(t){return void 0===t&&(t=1),u(this,void 0,void 0,(function(){var e,n=this;return d(this,(function(r){return!1===this.datastore.isReady()?t>10?(console.error("Could not get datastore ready. Giving up."),[2]):(console.warn("Datastore is not ready. Delaying displayMarkersInCurrentView()"),setTimeout((function(){return n.displayMarkersInCurrentView(t+1)}),1e3),[2]):(console.log("Displaying markers in current view"),e=h(this.map.getBounds()),console.log("Fetching from Datastore",e),this.refreshPointsFromStore(e),[2])}))}))},t.prototype.fetchDataForCurrentView=function(){return u(this,void 0,void 0,(function(){var t,e,n=this;return d(this,(function(r){switch(r.label){case 0:return this.hideMarkersOutsideCurrentView(),this.displayMarkersInCurrentView(),t=this.getCurrentViewBoxes(),l()&&console.log("Current view boxes",t),t.length>1e3?(console.warn("Too many boxes to fetch. Skipping."),[2]):(l()&&console.log("Fetching boxes"),e=t.map((function(t){return n.fetchData(t)})),l()&&console.log("Waiting for boxes to be fetched"),[4,Promise.all(e)]);case 1:return r.sent(),l()&&console.log("All boxes fetched"),[4,this.refreshPointsFromStore(this.map.getBounds().pad(.5))];case 2:return r.sent(),[2]}}))}))},t.prototype.fetchData=function(t,e){return void 0===e&&(e=1),u(this,void 0,void 0,(function(){var n,r,o=this;return d(this,(function(i){switch(i.label){case 0:l()&&console.log("Fetching Box",t.getCenter().toString(),e),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,this.api.fetchPage(t,e,(function(){return o.map.getBounds().intersects(t)}))];case 2:return n=i.sent(),[4,this.processFetchResult(n,t)];case 3:return i.sent(),n.next?[4,this.fetchData(t,n.next)]:[3,5];case 4:return[2,i.sent()];case 5:return[2];case 6:return"Page already loaded this session."==(r=i.sent()).message?[2]:(console.error(r),[3,7]);case 7:return[2]}}))}))},t.prototype.processFetchResult=function(t,e){return u(this,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:return console.log("Storing places."),e=this.datastore.storePlaces(t.places),console.log("Waiting for place storing to finish"),[4,e];case 1:return n.sent(),[2]}}))}))},t.prototype.refreshPointsFromStore=function(t){return u(this,void 0,void 0,(function(){return d(this,(function(e){if(!this.markerLayer)throw new Error("Marker Layer not set");return t||(console.log("Bounds not passed. Using map bounds."),t=this.map.getBounds()),t=h(t),this.markerLayer.refreshMarkersInsideBounds(t,this.markerFilter),[2]}))}))},t.prototype.addControl=function(t,e){if(this.controls[t])throw new Error("Control with key ".concat(t," already exists"));this.controls[t]=e,this.map.addControl(e.getControl()),console.log("Added control",t)},t.prototype.setMarkerFilter=function(t){if(!this.markerLayer)throw new Error("Marker Layer not set");this.markerFilter=t,this.markerLayer.refreshMarkersInsideBounds(this.map.getBounds(),this.markerFilter)},t.prototype.setModeHandler=function(t){var e;this.modeHandler=t,null===(e=this.markerLayer)||void 0===e||e.setModeHandler(t)},t.DEFAULT_OPTIONS={mapContainerId:"map"},t}(),f=function(){function t(){this.eventHandlers={},this.control=new o.Control}return t.prototype.on=function(t,e){this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},t.prototype.emit=function(t,e){var n=this;console.debug("Emitting event: ".concat(t),{data:e,handlers:this.eventHandlers[t]}),this.eventHandlers[t]&&this.eventHandlers[t].forEach((function(r){return r({name:t,state:n.getState(),data:e})}))},t.prototype.getControl=function(){return this.control},t}();var v,g=(v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},v(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const y=function(t){function e(){var e=t.call(this)||this;return e.displayMode="all",e.elControlDiv=document.createElement("div"),e.elDropdown=document.createElement("select"),e.allLabel=null,e.allRadio=null,e.allText=null,e.upgradeLabel=null,e.upgradeRadio=null,e.upgradeText=null,e.eeLabel=null,e.eeRadio=null,e.eeText=null,e.generateControlDiv(),e.control.onAdd=function(t){return e.generateDropdown(),e.elControlDiv},e}return g(e,t),e.prototype.getState=function(){return this.displayMode},e.prototype.changeMode=function(t){this.displayMode=t,this.emit("change",t)},e.prototype.generateControlDiv=function(){this.elControlDiv&&console.warn("ControlDiv already exists"),this.elControlDiv.classList.add("info","legend"),this.elControlDiv.style.backgroundColor="#ffffff",this.elControlDiv.style.opacity="0.8",this.elControlDiv.style.padding="5px",this.elControlDiv.style.borderRadius="5px"},e.prototype.generateDropdown=function(){var t=this;this.elDropdown&&console.warn("Dropdown already exists");var e=this.elDropdown;e.classList.add("control-select");var n=document.createElement("option");n.value="all",n.innerText="Show All Locations",e.appendChild(n),e.addEventListener("change",(function(e){return t.changeMode(e.target.value)})),this.elDropdown=e,this.elControlDiv.appendChild(e)},e}(f);var m=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},w=function(){function t(){this.latLngIndex={},this.nbnPlaceStore={}}return t.prototype.isReady=function(){return!0},t.prototype.storePlace=function(t){return m(this,void 0,void 0,(function(){var e,n,r,o;return b(this,(function(i){return e=t.latitude,n=t.longitude,r="".concat(e,",").concat(n),o=t.locid,this.latLngIndex[r]?this.latLngIndex[r].includes(o)||this.latLngIndex[r].push(o):this.latLngIndex[r]=[o],this.nbnPlaceStore[o]=t,[2]}))}))},t.prototype.storePlaces=function(t){return m(this,void 0,void 0,(function(){var e=this;return b(this,(function(n){return t.forEach((function(t){return e.storePlace(t)})),[2]}))}))},t.prototype.getPlace=function(t){return m(this,void 0,void 0,(function(){return b(this,(function(e){return[2,this.nbnPlaceStore[t]]}))}))},t.prototype.getPlaces=function(){return m(this,void 0,void 0,(function(){var t=this;return b(this,(function(e){return[2,Object.keys(this.nbnPlaceStore).map((function(e){return t.nbnPlaceStore[e]}))]}))}))},t.prototype.getPoints=function(){return m(this,void 0,void 0,(function(){var t=this;return b(this,(function(e){return[2,Object.keys(this.latLngIndex).map((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e.split(",").map(Number),2);return{latlng:e,latitude:n[0],longitude:n[1],locids:t.latLngIndex[e]}}))]}))}))},t.prototype.getPointsWithinBounds=function(t){return m(this,void 0,void 0,(function(){var e=this;return b(this,(function(n){switch(n.label){case 0:return[4,this.getPoints()];case 1:return[2,n.sent().filter((function(n){var r=n.latitude,o=n.longitude;return e.isLatLngWithinBounds(r,o,t)}))]}}))}))},t.prototype.getFullPointsWithinBounds=function(t){return m(this,void 0,void 0,(function(){var e,n=this;return b(this,(function(r){switch(r.label){case 0:return[4,this.getPoints()];case 1:return e=r.sent().filter((function(e){var r=e.latitude,o=e.longitude;return n.isLatLngWithinBounds(r,o,t)})).map((function(t){return{latlng:t.latlng,latitude:t.latitude,longitude:t.longitude,places:t.locids.map((function(t){return n.nbnPlaceStore[t]}))}})),[2,e]}}))}))},t.prototype.getPlacesAtLatLng=function(t,e){return m(this,void 0,void 0,(function(){var n,r=this;return b(this,(function(o){return n="".concat(t,",").concat(e),[2,this.latLngIndex[n].map((function(t){return r.nbnPlaceStore[t]}))]}))}))},t.prototype.isLatLngWithinBounds=function(t,e,n){return t>n.getSouth()&&t<n.getNorth()&&e>n.getWest()&&e<n.getEast()},t}(),C="#1D7044",T="#75AD6F",k="#C8E3C5",L="#FFBE00",x="#FF7E01",P="#E3071D",S="#02B9E3",E="#022BE3",F="#6B02E3",M="#888888";function O(t){switch(t){case"FTTP":return C;case"FTTC":return x;case"FTTN":case"FTTB":return P;case"HFC":return L;case"WIRELESS":return S;case"SATELLITE":return F}return M}const D=function(){function t(){}return t.prototype.filter=function(t){return!0},t.prototype.pointColour=function(t){return this.placeColour(t.places[0])},t.prototype.placeColour=function(t){return function(t){return"FTTP"===t.techType}(t)?C:function(t){return!(!t.altReasonCode||!t.altReasonCode.match(/^FTTP/)||"Eligible To Order"!==t.techChangeStatus)}(t)?T:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/))switch(t.techChangeStatus){case"In Design":case"Build Finalised":case"Planned":case"MDU Complex Eligible To Apply":case"MDU Complex Premises In Build":return!0}return!1}(t)?k:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/)&&"Committed"===t.techChangeStatus)return!0}(t)?O(t.techType):function(t){return!("FTTC"!=t.techType||!t.reasonCode||!t.reasonCode.match(/^FTTC/)||"New Tech Connected"!=t.techChangeStatus)}(t)?x:function(t){return"FTTC"==t.techType&&"FTTC_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?"#FF7E01":function(t){return"FTTN"==t.techType&&"FTTN_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?P:function(t){return"WIRELESS"==t.techType&&"FW_SA"==t.reasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?E:(t.altReasonCode&&"NULL_NA"!=t.altReasonCode&&console.log(t),O(t.techType))},t.prototype.renderPopupContent=function(t){var e=o.DomUtil.create("div");if(e.innerHTML="<b>"+t.locid+"</b></br>"+t.address1+"</br>"+t.address2+"</br><br />",e.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=t.techType&&t.altReasonCode&&"NULL_NA"!=t.altReasonCode?(t.altReasonCode&&t.altReasonCode.match(/^FTTP/),e.innerHTML+="Current: "+t.techType+"<br />",e.innerHTML+="Change: "+t.altReasonCode+"<br />",e.innerHTML+="Status: "+t.techChangeStatus+"<br />",e.innerHTML+="Program: "+t.programType+"<br />",e.innerHTML+="Target Qtr: "+t.targetEligibilityQuarter+"<br />"):(e.innerHTML+="Technology: "+t.techType+"<br />","FTTP"!=t.techType&&(e.innerHTML+="No tech upgrade planned<br />")),e.innerHTML+="<br />",t.ee&&(e.innerHTML+="<b>Enterprise Ethernet</b></br>",e.innerHTML+="Price Zone: "+(t.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",e.innerHTML+="Build Cost: "+(t.zeroBuildCost?"$0":"POA")+"<br />",e.innerHTML+="<br />"),l()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(t,null,2),e.appendChild(n),e.appendChild(r)}return e},t.prototype.renderTooltip=function(t){var e=t[0].address1;return t.length>1&&(e+=" ( + "+(t.length-1)+" more)"),e},t.prototype.getLegendItems=function(){return[{label:"FTTP",colour:C},{label:"FTTP Upgrade",colour:T},{label:"FTTP Upgrade Soon",colour:k},{label:"HFC",colour:L},{label:"FTTC",colour:x},{label:"FTTN/FTTB",colour:P},{label:"FW",colour:S},{label:"FW Upgrade",colour:E},{label:"Satellite",colour:F},{label:"Unknown",colour:M}]},t}();var H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const B=function(t){function e(){var e=t.call(this)||this;return e.elControlDiv=document.createElement("div"),e.control.setPosition("bottomright"),e.elControlDiv.classList.add("info","legend"),e.elControlDiv.style.backgroundColor="#ffffff",e.elControlDiv.style.opacity="0.8",e.elControlDiv.style.padding="5px",e.elControlDiv.style.borderRadius="5px",e.control.onAdd=function(t){return e.elControlDiv},e}return H(e,t),e.prototype.getState=function(){},e.prototype.updateLegend=function(t){var e="";t.forEach((function(t){e+='<svg height="10" width="10"><circle cx="5" cy="5" r="5" fill="'+t.colour+'" stroke="#000000" stroke-width="1" opacity="1" fill-opacity="0.8" /></svg> '+t.label,t.count&&(e+=" ("+t.count+")"),e+="<br>"})),this.elControlDiv.innerHTML=e},e}(f);var I;n(623),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(t){console.log("SW registered: ",t)})).catch((function(t){console.log("SW registration failed: ",t)}))})),I=function(){var t=new r,e=new w,n=new D,o=new p({mapContainerId:"map",api:t,datastore:e,defaultModeHandler:n}),i=new y;o.addControl("displaymode",i);var a=new B;a.updateLegend(n.getLegendItems()),o.addControl("legend",a),i.on("change",(function(t){"all"===t.state&&o.setModeHandler(n)}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(I,1):document.addEventListener("DOMContentLoaded",I)}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,o,i]=t[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!t;)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{r.b=document.baseURI||self.location.href;var t={143:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[a,s,l]=n,c=0;if(a.some((e=>0!==t[e]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(e&&e(n);c<a.length;c++)i=a[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.nc=void 0;var o=r.O(void 0,[651],(()=>r(336)));o=r.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eUQsU0FBUzJOLFNBQVdDLEtBQUt4TSxTQUFTQyxLQUsxRCxJQUFJd00sRUFBa0IsQ0FDckIsSUFBSyxHQWFOOUMsRUFBb0JVLEVBQUVPLEVBQUs4QixHQUEwQyxJQUE3QkQsRUFBZ0JDLEdBR3hELElBQUlDLEVBQXVCLENBQUNDLEVBQTRCclUsS0FDdkQsSUFHSXFSLEVBQVU4QyxHQUhUcEMsRUFBVXVDLEVBQWFDLEdBQVd2VSxFQUdoQm1TLEVBQUksRUFDM0IsR0FBR0osRUFBU3lDLE1BQU05QyxHQUFnQyxJQUF4QndDLEVBQWdCeEMsS0FBYSxDQUN0RCxJQUFJTCxLQUFZaUQsRUFDWmxELEVBQW9CMEIsRUFBRXdCLEVBQWFqRCxLQUNyQ0QsRUFBb0JTLEVBQUVSLEdBQVlpRCxFQUFZakQsSUFHaEQsR0FBR2tELEVBQVMsSUFBSTNVLEVBQVMyVSxFQUFRbkQsRUFDbEMsQ0FFQSxJQURHaUQsR0FBNEJBLEVBQTJCclUsR0FDckRtUyxFQUFJSixFQUFTOU8sT0FBUWtQLElBQ3pCZ0MsRUFBVXBDLEVBQVNJLEdBQ2hCZixFQUFvQjBCLEVBQUVvQixFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBTy9DLEVBQW9CVSxFQUFFbFMsRUFBTyxFQUdqQzZVLEVBQXFCUixLQUFtQixhQUFJQSxLQUFtQixjQUFLLEdBQ3hFUSxFQUFtQnBTLFFBQVErUixFQUFxQk0sS0FBSyxLQUFNLElBQzNERCxFQUFtQjNQLEtBQU9zUCxFQUFxQk0sS0FBSyxLQUFNRCxFQUFtQjNQLEtBQUs0UCxLQUFLRCxRQ2hEdkZyRCxFQUFvQnVELFFBQUtwRCxFQ0d6QixJQUFJcUQsRUFBc0J4RCxFQUFvQlUsT0FBRVAsRUFBVyxDQUFDLE1BQU0sSUFBT0gsRUFBb0IsT0FDN0Z3RCxFQUFzQnhELEVBQW9CVSxFQUFFOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2xpcF9hcGkuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzZXMvbWFya2VybGF5ZXIuY2x1c3Rlci5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25ibl90ZWNoX21hcC5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbC5hYnN0cmFjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9kaXNwbGF5X21vZGUuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFzdG9yZS9kYXRhc3RvcmUubWVtb3J5LmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2Rlcy9tb2RlLmFsbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9sZWdlbmQuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgSUFwaSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE5iblBsYWNlQXBpUmVzcG9uc2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgaXNEZWJ1Z01vZGUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpcEFwaSBpbXBsZW1lbnRzIElBcGkge1xyXG5cclxuICAgIGFzeW5jIGZldGNoUGFnZShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLFxyXG4gICAgICAgIHBhZ2U6IG51bWJlciA9IDEsXHJcbiAgICAgICAgcHJvY2VlZDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHRydWUsXHJcbiAgICApIDogUHJvbWlzZTxOYm5QbGFjZUFwaVJlc3BvbnNlPlxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBub3J0aCA9IGJvdW5kcy5nZXROb3J0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3QgZWFzdCA9IGJvdW5kcy5nZXRFYXN0KCkudG9GaXhlZCgyKTtcclxuICAgICAgICBjb25zdCBzb3V0aCA9IGJvdW5kcy5nZXRTb3V0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3Qgd2VzdCA9IGJvdW5kcy5nZXRXZXN0KCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcm9jZWVkKCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9jZWVkIGZ1bmN0aW9uIHJldHVybmVkIGZhbHNlLiBTdG9wcGluZyBmZXRjaC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGFnZSA9IE1hdGgubWF4KDEsIE51bWJlcihwYWdlKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2VVcmwgPSBgaHR0cHM6Ly9hcGkubGlwLm5ldC5hdS9uYm4tYnVsay9tYXAvJHtub3J0aH0vJHtlYXN0fS8ke3NvdXRofS8ke3dlc3R9P3BhZ2U9JHtwYWdlfWA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHBhZ2UgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQgdGhpcyBzZXNzaW9uLlxyXG4gICAgICAgIC8vY29uc3QgY2FjaGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHBhZ2VVcmwpO1xyXG4gICAgICAgIC8vY29uc3QgY2FjaGVkVGltZSA9IGNhY2hlID8gbmV3IERhdGUoY2FjaGUpIDogbnVsbDtcclxuICAgICAgICAvL2lmIChjYWNoZWRUaW1lICYmIGNhY2hlZFRpbWUuZ2V0VGltZSgpID4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAxMDAwICogNjAgKiA2MCAqIDI0KSB7XHJcbiAgICAgICAgLy8gICAgdGhyb3cgbmV3IEVycm9yKCdQYWdlIGFscmVhZHkgbG9hZGVkIHRoaXMgc2Vzc2lvbi4nKTtcclxuICAgICAgICAvL31cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmxpcC5uZXQuYXUvbmJuLWJ1bGsvbWFwLyR7bm9ydGh9LyR7ZWFzdH0vJHtzb3V0aH0vJHt3ZXN0fT9wYWdlPSR7cGFnZX1gLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCkgYXMgeyBkYXRhOiBOYm5QbGFjZUFwaVJlc3BvbnNlfTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocGFyc2VkUmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy9zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHBhZ2VVcmwsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBJRGF0YXN0b3JlIGZyb20gXCIuLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IElNYXJrZXJMYXllciBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2VcIjtcclxuaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXInO1xyXG5pbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuY3NzJztcclxuLy9pbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MnO1xyXG5cclxuaW1wb3J0ICogYXMgTCBmcm9tIFwibGVhZmxldFwiO1xyXG5pbXBvcnQgeyBOYm5QbGFjZSwgUG9pbnRBbmRMb2NpZHMsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcblxyXG4vLyBDb25zdGFudCBDb2xvdXJzXHJcbmNvbnN0IGNvbG91ckZUVFAgXHRcdD0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJGVFRQQXZhaWwgICA9ICcjNzVBRDZGJztcclxuY29uc3QgY29sb3VyRlRUUFNvb24gICAgPSAnI0M4RTNDNSc7XHJcbmNvbnN0IGNvbG91ckhGQyBcdFx0PSAnI0ZGQkUwMCc7XHJcbmNvbnN0IGNvbG91ckZUVEMgXHRcdD0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFRDQXZhaWwgICA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUTkIgXHRcdD0gJyNFMzA3MUQnO1xyXG5jb25zdCBjb2xvdXJGVyBcdFx0ICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJGV0F2YWlsIFx0PSAnIzAyMkJFMyc7XHJcbmNvbnN0IGNvbG91clNhdCBcdCAgICA9ICcjNkIwMkUzJztcclxuXHJcbmNvbnN0IGNvbG91ckVFX0NCRF9aQkMgID0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJFRV9DQkRfQkMgICA9ICcjMDJCOUUzJztcclxuY29uc3QgY29sb3VyRUVfWjEyM19aQkMgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckVFX1oxMjNfQkMgID0gJyNFMzA3MUQnO1xyXG5cclxuY29uc3QgQ09MX1RFQ0hfQ09NUExFVEUgICAgICAgICA9ICcjMUQ3MDQ0JztcclxuY29uc3QgQ09MX1RFQ0hfQVZBSUwgICAgICAgICAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQgICA9ICcjRkZCRTAwJztcclxuY29uc3QgQ09MX1RFQ0hfREVTSUdOICAgICAgICAgICA9ICcjRkY3RTAxJztcclxuY29uc3QgQ09MX1RFQ0hfQ09NTUlUVEVEICAgICAgICA9ICcjRTMwNzFEJztcclxuXHJcbmNvbnN0IENPTF9URUNIX01EVV9JTkJVSUxEICAgICAgPSAnIzAyMkJFMyc7XHJcbmNvbnN0IENPTF9URUNIX01EVV9FTElHSUJMRSAgICAgPSAnIzZCMDJFMyc7XHJcblxyXG5jb25zdCBjb2xvdXJVbmtub3duICAgICAgPSAnIzg4ODg4OCc7XHJcblxyXG5pbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlckxheWVyQ2x1c3RlciBpbXBsZW1lbnRzIElNYXJrZXJMYXllciB7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXA6IEwuTWFwO1xyXG4gICAgcHJpdmF0ZSBkYXRhc3RvcmU6IElEYXRhc3RvcmU7XHJcbiAgICBwcml2YXRlIG1vZGVIYW5kbGVyOiBJTW9kZTtcclxuXHJcbiAgICBwcml2YXRlIG1hcmtlcnM6IEwuTWFya2VyQ2x1c3Rlckdyb3VwO1xyXG5cclxuICAgIHByaXZhdGUgcG9pbnRzOiB7XHJcbiAgICAgICAgW2xhdExuZ1N0cmluZzogc3RyaW5nXToge1xyXG4gICAgICAgICAgICBsYXllcjogTC5DaXJjbGVNYXJrZXIsXHJcbiAgICAgICAgICAgIHBvaW50OiBQb2ludEFuZFBsYWNlcyxcclxuICAgICAgICB9XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgY29uc3RydWN0b3IobWFwOiBMLk1hcCwgZGF0YXN0b3JlOiBJRGF0YXN0b3JlLCBtb2RlSGFuZGxlcjogSU1vZGUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgICAgdGhpcy5kYXRhc3RvcmUgPSBkYXRhc3RvcmU7XHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG1vZGVIYW5kbGVyO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlcnMgPSBuZXcgTC5NYXJrZXJDbHVzdGVyR3JvdXAoe1xyXG4gICAgICAgICAgICBtYXhDbHVzdGVyUmFkaXVzOiB0aGlzLm1hcmtlckNsdXN0ZXJSYWRpdXMsXHJcbiAgICAgICAgICAgIHNwaWRlcmZ5T25NYXhab29tOiBmYWxzZSxcclxuICAgICAgICAgICAgZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb206IDE4LFxyXG4gICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiB0cnVlLFxyXG4gICAgICAgICAgICB6b29tVG9Cb3VuZHNPbkNsaWNrOiB0cnVlLFxyXG4gICAgICAgICAgICByZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kczogdHJ1ZSxcclxuICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiB0aGlzLmljb25DcmVhdGVGdW5jdGlvbixcclxuICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGNodW5rSW50ZXJ2YWw6IDE1MCxcclxuICAgICAgICAgICAgY2h1bmtEZWxheTogMTUwLFxyXG4gICAgICAgICAgICBjaHVua1Byb2dyZXNzOiAocHJvY2Vzc2VkLCB0b3RhbCwgZWxhcHNlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NodW5rUHJvZ3Jlc3MnLCB7IHByb2Nlc3NlZCwgdG90YWwsIGVsYXBzZWQgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubWFya2Vycy5hZGRUbyh0aGlzLm1hcCk7XHJcblxyXG4gICAgICAgIHRoaXMubWFwLm9uKCd6b29tZW5kJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd6b29tZW5kJywgZXZlbnQudGFyZ2V0LmdldFpvb20oKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGljb25DcmVhdGVGdW5jdGlvbihjbHVzdGVyOiBMLk1hcmtlckNsdXN0ZXIpIDogTC5EaXZJY29uXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheSA9IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkubWFwKChtYXJrZXIpID0+IChtYXJrZXIgYXMgYW55KS5vcHRpb25zLmZpbGxDb2xvcilcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JDb3VudHM6IHtbY29sb3I6IHN0cmluZ106IG51bWJlcn0gPSB7fTtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheS5mb3JFYWNoKChjb2xvcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNvbG9yQ291bnRzW2NvbG9yXSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckNvdW50c1tjb2xvcl0rKztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheVNvcnRlZCA9IE9iamVjdC5rZXlzKGNvbG9yQ291bnRzKVxyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gY29sb3JDb3VudHNbYl0gLSBjb2xvckNvdW50c1thXSlcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQ6IGNvbmljLWdyYWRpZW50KCdcclxuXHJcbiAgICAgICAgbGV0IGxhc3RDb2xvdXJQZXJjZW50ID0gMDtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheVNvcnRlZC5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQgKz0gXCJcXG5cIiArIGNvbG9yICsgJyAwJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdGhpc0NvbG91clBlcmNlbnQgPSAoY29sb3JDb3VudHNbY29sb3JdIC8gY29sb3JBcnJheS5sZW5ndGggKiAxMDApO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kICs9IFwiLCBcXG5cIiArIGNvbG9yICsgJyAnICsgKGxhc3RDb2xvdXJQZXJjZW50KSArICclJztcclxuICAgICAgICAgICAgYmFja2dyb3VuZCArPSBcIiwgXFxuXCIgKyBjb2xvciArICcgJyArIChsYXN0Q29sb3VyUGVyY2VudCt0aGlzQ29sb3VyUGVyY2VudCkgKyAnJSc7XHJcbiAgICAgICAgICAgIGxhc3RDb2xvdXJQZXJjZW50ICs9IHRoaXNDb2xvdXJQZXJjZW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrZ3JvdW5kICs9IFwiXFxuKTtcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9tSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XHJcblxyXG4gICAgICAgIHJldHVybiBMLmRpdkljb24oe1xyXG4gICAgICAgICAgICBodG1sOiBgPHN0eWxlPiNjbHVzdGVyXyR7cmFuZG9tSWR9OjpiZWZvcmUgeyAke2JhY2tncm91bmR9IH08L3N0eWxlPiA8ZGl2IGlkPSdjbHVzdGVyXyR7cmFuZG9tSWR9Jz48c3Bhbj5gICsgY2x1c3Rlci5nZXRDaGlsZENvdW50KCkgKyAnPC9zcGFuPjwvZGl2PicsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1jbHVzdGVyJyxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG1hcmtlckNsdXN0ZXJSYWRpdXMoem9vbTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3dpdGNoKHpvb20pIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICBjYXNlIDEzOiByZXR1cm4gMTUwO1xyXG4gICAgICAgICAgICBjYXNlIDE0OiByZXR1cm4gMTAwO1xyXG4gICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXI6IElNb2RlKSB7XHJcblxyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb2xvdXIgb2YgdGhlIHBvaW50c1xyXG4gICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5wb2ludHMpLmZvckVhY2goKHtsYXllciwgcG9pbnR9KSA9PiB7XHJcbiAgICAgICAgICAgIGxheWVyLnNldFN0eWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogbW9kZUhhbmRsZXIucG9pbnRDb2xvdXIocG9pbnQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGF5ZXIucmVkcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5tYXJrZXJzKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFya2VycyAmJiB0aGlzLm1hcmtlcnMuZ2V0TGF5ZXJzKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5yZWZyZXNoQ2x1c3RlcnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMsIG1GaWx0ZXI/OiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kYXRhc3RvcmUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhc3RvcmUgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbmV3UG9pbnRzID0gYXdhaXQgdGhpcy5kYXRhc3RvcmUuZ2V0RnVsbFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG5ld1BvaW50c1xyXG4gICAgICAgICAgICAuZm9yRWFjaChwb2ludCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRMbmdTdHJpbmcgPSBwb2ludC5sYXRsbmc7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1tsYXRMbmdTdHJpbmddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogdGhpcy5yZW5kZXJQb2ludChwb2ludCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10ucG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGlmIChtRmlsdGVyKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMYXllcnM6IEwuTGF5ZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRQb2ludHMgPSBPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoe2xheWVyLCBwb2ludH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG93UG9pbnQgPSBwb2ludC5wbGFjZXMuZmlsdGVyKG1GaWx0ZXIpLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93UG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvd1BvaW50O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVtb3ZlTGF5ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5yZW1vdmVMYXllcnMocmVtb3ZlTGF5ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5hZGRMYXllcnMoZmlsdGVyZWRQb2ludHMubWFwKHAgPT4gcC5sYXllcikpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnM/LmFkZExheWVycyhPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKS5tYXAocCA9PiBwLmxheWVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIHtcclxuICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nIGhlcmUsIGFzIHRoZSBtYXJrZXIgY2x1c3RlciBwbHVnaW4gaGFuZGxlcyB0aGlzIGZvciB1c1xyXG4gICAgICAgIC8vY29uc3QgcmVtb3ZlTWFya2VycyA9IHRoaXMubWFya2Vycy5nZXRMYXllcnMoKVxyXG4gICAgICAgIC8vICAgIC5maWx0ZXIoKGxheWVyOiBMLkNpcmNsZU1hcmtlcikgPT4gIWJvdW5kcy5jb250YWlucyhsYXllci5nZXRMYXRMbmcoKSkpXHJcbiAgICAgICAgLy87XHJcbiAgICAgICAgLy90aGlzLm1hcmtlcnMucmVtb3ZlTGF5ZXJzKHJlbW92ZU1hcmtlcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZUFsbE1hcmtlcnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJzPy5jbGVhckxheWVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVycyBhIHBvaW50IHVzaW5nIHRoZSBjdXJyZW50IG1vZGUgaGFuZGxlci5cclxuICAgICAqIEBwYXJhbSBwb2ludFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHJlbmRlclBvaW50KHBvaW50OiBQb2ludEFuZFBsYWNlcyk6IEwuQ2lyY2xlTWFya2VyIHtcclxuXHJcbiAgICAgICAgY29uc3QgY2lyY2xlTWFya2VyTGF5ZXIgPSBMLmNpcmNsZU1hcmtlcihbIHBvaW50LmxhdGl0dWRlLCBwb2ludC5sb25naXR1ZGUgXSwge1xyXG4gICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogdGhpcy5tb2RlSGFuZGxlcj8ucG9pbnRDb2xvdXIocG9pbnQpLCAvL3RoaXMuZ2V0UGxhY2VDb2xvdXIocGxhY2UpLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFBvcHVwKFxyXG4gICAgICAgICAgICAobGF5ZXIpID0+IHRoaXMucmVuZGVyUG9wdXAocG9pbnQucGxhY2VzKSB8fCAnJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYXV0b1BhbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGF1dG9DbG9zZTogZmFsc2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjaXJjbGVNYXJrZXJMYXllci5iaW5kVG9vbHRpcChcclxuICAgICAgICAgICAgKGxheWVyKSA9PiB0aGlzLm1vZGVIYW5kbGVyLnJlbmRlclRvb2x0aXAocG9pbnQucGxhY2VzKSB8fCAnJyxcclxuICAgICAgICAgICAge31cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjaXJjbGVNYXJrZXJMYXllcjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2VzWzBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRvclBvcHVwTXVsdGkocGxhY2VzKTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbmRvclBvcHVwTXVsdGkocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBncm91cERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lcnM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgcGxhY2VzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPCBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPiBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcGxhY2Ugb2YgcGxhY2VzKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb2xvdXIgPSB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBBY2NvcmRpb24gQnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWNjb3JkaW9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPHN2ZyBoZWlnaHQ9XCIxNVwiIHdpZHRoPVwiMTVcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDozcHhcIj5gXHJcbiAgICAgICAgICAgICAgICArIGA8Y2lyY2xlIGNsYXNzPVwiY2lyY2xlXCIgY3g9XCI3LjVcIiBjeT1cIjlcIiByPVwiNVwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIiR7cGxhY2VDb2xvdXJ9XCIgLz5gXHJcbiAgICAgICAgICAgICAgICArIGA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICArIGA8c3Bhbj4ke3BsYWNlLmFkZHJlc3MxfTwvc3Bhbj5gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgUGFuZWxcclxuICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncGFuZWwnKTtcclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2UpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBFdmVudHNcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRseUFjdGl2ZSA9IHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgYnV0dG9ucyBhbmQgcGFuZWxzXHJcbiAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lcnMuZm9yRWFjaCgocGxhY2VDb250YWluZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudGx5QWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBET01cclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xyXG4gICAgICAgICAgICBncm91cERpdi5hcHBlbmRDaGlsZChwbGFjZUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVycy5wdXNoKHBsYWNlQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIGdldFBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG5cclxuICAgICAgICAvKiogRUUgRGlzcGxheSBNb2RlICovXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodGhpcy5jb250cm9scy5kaXNwbGF5TW9kZS5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmIHBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvdXJFRV9DQkRfWkJDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfQ0JEX0JDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19aQkM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCFwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19CQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHMuZGlzcGxheU1vZGUuZGlzcGxheU1vZGUgPT0gJ3VwZ3JhZGUnKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1ByZXZpb3VzIFRlY2ggRGlzY29ubmVjdGVkJzogcmV0dXJuIENPTF9URUNIX0NPTVBMRVRFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTmV3IFRlY2ggQ29ubmVjdGVkJyA6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6IHJldHVybiBDT0xfVEVDSF9ERVNJR047XHJcbiAgICAgICAgICAgICAgICBjYXNlICdCdWlsZCBGaW5hbGlzZWQnOiByZXR1cm4gQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb21taXR0ZWQnOiByZXR1cm4gQ09MX1RFQ0hfQ09NTUlUVEVEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOiByZXR1cm4gQ09MX1RFQ0hfQVZBSUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6IHJldHVybiBDT0xfVEVDSF9NRFVfRUxJR0lCTEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBQcmVtaXNlcyBJbiBCdWlsZCc6IHJldHVybiBDT0xfVEVDSF9NRFVfSU5CVUlMRDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbiAgICAgICAgfSovXHJcbi8qXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEF2YWlsKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUEF2YWlsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNQbGFjZUZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRld0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgIT0gJ05VTExfTkEnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgfVxyXG4qL1xyXG5cclxufSIsImltcG9ydCB7IE5iblBsYWNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RlYnVnTW9kZSgpIHtcclxuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xyXG4gICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdsb2NhbGhvc3QnKVxyXG4gICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdkZWJ1Zz10cnVlJylcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUUCc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUTihwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZUVE4nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUhGQyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0hGQyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUQihwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZUVEInO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVEMocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZihwbGFjZS50ZWNoVHlwZSA9PSBcIkZUVENcIlxyXG4gICAgICAgICYmIHBsYWNlLnJlYXNvbkNvZGUgJiYgcGxhY2UucmVhc29uQ29kZS5tYXRjaCgvXkZUVEMvKVxyXG4gICAgICAgICYmIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ05ldyBUZWNoIENvbm5lY3RlZCdcclxuICAgICkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZpeGVkV2lyZWxlc3MocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdGaXhlZCBXaXJlbGVzcyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlU2F0ZWxsaXRlKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnU2F0ZWxsaXRlJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQQXZhaWwocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBTb29uKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6XHJcbiAgICAgICAgICAgIGNhc2UgJ0J1aWxkIEZpbmFsaXNlZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYW5uZWQnOlxyXG4gICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IFByZW1pc2VzIEluIEJ1aWxkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQRmFyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbW1pdHRlZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z3dG9GVFROKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09IFwiRlRUTlwiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZUVE5fU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gXCJGV19DVFwiXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnRWxpZ2libGUgVG8gT3JkZXInXHJcbiAgICA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z3dG9GVFRDKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09IFwiRlRUQ1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZUVENfU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gXCJGV19DVFwiXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnRWxpZ2libGUgVG8gT3JkZXInXHJcbiAgICA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1NhdFRvRlcocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJXSVJFTEVTU1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZXX1NBXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG5cclxuaW1wb3J0IHsgTmJuUGxhY2UsIFBvaW50QW5kTG9jaWRzLCBOYm5QbGFjZUFwaVJlc3BvbnNlLCBOYm5UZWNoTWFwT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xyXG4vL2ltcG9ydCBNYXJrZXJHcm91cCBmcm9tICcuL21hcmtlcl9ncm91cC5jbGFzcy50cy5kZXYnO1xyXG4vL2ltcG9ydCBDb250cm9sWm9vbVdhcm5pbmcgZnJvbSAnLi9jb250cm9sX3pvb21fd2FybmluZy5jbGFzcyc7XHJcbi8vaW1wb3J0IENvbnRyb2xGaWx0ZXIgZnJvbSAnLi9jb250cm9sX2ZpbHRlci5jbGFzcyc7XHJcblxyXG4vL2ltcG9ydCAnbGVhZmxldC1nb29nbGUtcGxhY2VzLWF1dG9jb21wbGV0ZSc7XHJcbi8vaW1wb3J0ICogYXMgTWFya2VyQ2x1c3RlciBmcm9tICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXInO1xyXG5cclxuLy9pbXBvcnQgKiBhcyBMb2NhdGVDb250cm9sIGZyb20gJ2xlYWZsZXQubG9jYXRlY29udHJvbCc7XHJcbi8vaW1wb3J0ICdsZWFmbGV0LmxvY2F0ZWNvbnRyb2wvZGlzdC9MLkNvbnRyb2wuTG9jYXRlLm1pbi5jc3MnXHJcbmltcG9ydCBJQXBpIGZyb20gJy4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlJztcclxuaW1wb3J0IElEYXRhc3RvcmUgZnJvbSAnLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgSU1hcmtlckxheWVyIGZyb20gJy4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgTWFya2VyTGF5ZXJDbHVzdGVyIGZyb20gJy4vY2xhc3Nlcy9tYXJrZXJsYXllci5jbHVzdGVyLmNsYXNzJztcclxuaW1wb3J0IElDb250cm9sIGZyb20gJy4vaW50ZXJmYWNlcy9jb250cm9sLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IGlzRGVidWdNb2RlIH0gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCBJTW9kZSBmcm9tICcuL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2UnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpOiBMLkxhdExuZ0JvdW5kcyB7XHJcbiAgICBjb25zdCBub3J0aCA9IE1hdGguY2VpbChib3VuZHMuZ2V0Tm9ydGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgY29uc3Qgd2VzdCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFdlc3QoKSAqIDI1KSAvIDI1O1xyXG4gICAgY29uc3Qgc291dGggPSBNYXRoLmZsb29yKGJvdW5kcy5nZXRTb3V0aCgpICogNTApIC8gNTA7XHJcbiAgICBjb25zdCBlYXN0ID0gTWF0aC5jZWlsKGJvdW5kcy5nZXRFYXN0KCkgKiAyNSkgLyAyNTtcclxuICAgIHJldHVybiBMLmxhdExuZ0JvdW5kcyhbc291dGgsIHdlc3RdLCBbbm9ydGgsIGVhc3RdKTtcclxufVxyXG5cclxuY29uc3QgTUFYX0JPWEVTX0lOX1ZJRVcgPSAxMDAwO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmJuVGVjaE1hcCB7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfT1BUSU9OUzogUGFydGlhbDxOYm5UZWNoTWFwT3B0aW9ucz4gPSB7XHJcbiAgICAgICAgbWFwQ29udGFpbmVySWQ6ICdtYXAnLFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHttYXB9IC0gTGVhZmxldCBtYXAgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcDogTC5NYXA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcFRpbGVMYXllcn0gLSBMZWFmbGV0IG1hcCB0aWxlIGxheWVyLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcFRpbGVMYXllcjogTC5UaWxlTGF5ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge2FwaX0gLSBBUEkgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFwaTogSUFwaTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBtYXBMb2NhdGU6IGFueTtcclxuICAgIHByaXZhdGUgbWFwU2VhcmNoOiBhbnk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge2RhdGFzdG9yZX0gLSBEYXRhc3RvcmUgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRhdGFzdG9yZTogSURhdGFzdG9yZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFya2VyTGF5ZXJ9IC0gTGF5ZXIgdG8gaG9sZCBtYXJrZXJzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya2VyTGF5ZXI6IElNYXJrZXJMYXllcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFya2VyRmlsdGVyfSAtIEZ1bmN0aW9uIHRvIGZpbHRlciBtYXJrZXJzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya2VyRmlsdGVyOiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuID0gKHBsYWNlOiBOYm5QbGFjZSkgPT4gdHJ1ZTtcclxuXHJcbiAgICBwcml2YXRlIG1vZGVIYW5kbGVyOiBJTW9kZTtcclxuXHJcbiAgICAvLyBTdG9yZXMgbWFwIGNvbnRyb2xzXHJcbiAgICAvKmNvbnRyb2xzOiB7W2tleTogc3RyaW5nXTogYW55fSA9IHtcclxuICAgICAgICB6b29tV2FybmluZzogbnVsbCxcclxuICAgICAgICBsZWdlbmQ6IG51bGwsXHJcbiAgICAgICAgZGlzcGxheU1vZGU6IG51bGwsXHJcbiAgICAgICAgZmlsdGVyOiBudWxsLFxyXG4gICAgfSovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTmJuVGVjaE1hcE9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IHsgLi4uTmJuVGVjaE1hcC5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hcGkgPSBvcHRpb25zLmFwaTtcclxuICAgICAgICB0aGlzLmRhdGFzdG9yZSA9IG9wdGlvbnMuZGF0YXN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBvcHRpb25zLmRlZmF1bHRNb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtYXBcclxuICAgICAgICB0aGlzLm1hcCA9IEwubWFwKG9wdGlvbnMubWFwQ29udGFpbmVySWQsIHsgcHJlZmVyQ2FudmFzOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIG1hcmtlciBsYXllclxyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIgPSBuZXcgTWFya2VyTGF5ZXJDbHVzdGVyKFxyXG4gICAgICAgICAgICB0aGlzLm1hcCwgdGhpcy5kYXRhc3RvcmUsIHRoaXMubW9kZUhhbmRsZXJcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vIFNldCB1cCB0aGUgT1NNIGxheWVyXHJcbiAgICAgICAgdGhpcy5tYXBUaWxlTGF5ZXIgPSBMLnRpbGVMYXllcignaHR0cHM6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL3Jhc3RlcnRpbGVzL3ZveWFnZXIve3p9L3t4fS97eX17cn0ucG5nJywge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb25zXCI+Q0FSVE88L2E+JyxcclxuICAgICAgICAgICAgc3ViZG9tYWluczogJ2FiY2QnLFxyXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZSxcclxuICAgICAgICAgICAgbWF4Wm9vbTogMjBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBsYXllciB0byB0aGUgbWFwXHJcbiAgICAgICAgdGhpcy5tYXBUaWxlTGF5ZXIuYWRkVG8odGhpcy5tYXApO1xyXG5cclxuICAgICAgICAvLyBTZXQgZGVmYXVsdCB2aWV3IChDZW50cmVkIG92ZXIgQXVzdHJhbGlhKVxyXG4gICAgICAgIC8vIEdldCB0aGUgbGFzdCBtYXAgcG9zaXRpb24gZnJvbSBsb2NhbCBzdG9yYWdlXHJcbiAgICAgICAgLy8gSWYgbm8gcG9zaXRpb24gaXMgZm91bmQsIGRlZmF1bHQgdG8gQXVzdHJhbGlhXHJcbiAgICAgICAgY29uc3Qgc3RhcnRQb3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGFydHBvcycpIHx8ICcnKTtcclxuICAgICAgICBpZiAoc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhbIHN0YXJ0UG9zLmxhdCwgc3RhcnRQb3MubG5nIF0sIHN0YXJ0UG9zLnpvb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhbIC0yNi4xNzcyMjg4LCAxMzMuNDE3MDExOSBdLCA0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc3RvcmUgbWFwIHBvc2l0aW9uIHdoZW4gbW92ZWQgb3Igem9vbWVkXHJcbiAgICAgICAgdGhpcy5tYXAub24oJ21vdmVlbmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RhcnRwb3MnLCBKU09OLnN0cmluZ2lmeSh7IGxhdDogY2VudGVyLmxhdCwgbG5nOiBjZW50ZXIubG5nLCB6b29tIH0pKTtcclxuXHJcbiAgICAgICAgICAgIC8vYXdhaXQgdGhpcy5kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaERhdGFGb3JDdXJyZW50VmlldygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCk7XHJcbiAgICAgICAgLyp0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKSkqL1xyXG5cclxuICAgICAgICAvL3RoaXMuY3JlYXRlTWFwKG9wdGlvbnMubWFwQ29udGFpbmVySWQpO1xyXG4gICAgICAgIC8vdGhpcy5kYXRhc3RvcmUgPSBuZXcgTWVtb3J5RGF0YXN0b3JlKHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5tYXJrZXJHcm91cCA9IG5ldyBNYXJrZXJHcm91cCh0aGlzKTtcclxuICAgICAgICAvL3RoaXMuY29udHJvbHMuem9vbVdhcm5pbmcgPSBuZXcgQ29udHJvbFpvb21XYXJuaW5nKHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5jb250cm9scy5kaXNwbGF5TW9kZSA9IG5ldyBDb250cm9EaXNwbGF5TW9kZSh0aGlzKTtcclxuICAgICAgICAvL3RoaXMuY29udHJvbHMubGVnZW5kID0gbmV3IENvbnRyb2xMZWdlbmQodGhpcyk7XHJcbiAgICAgICAgLy90aGlzLmNvbnRyb2xzLmZpbHRlciA9IG5ldyBDb250cm9sRmlsdGVyKHRoaXMpO1xyXG5cclxuICAgICAgICAvL3RoaXMuaW5pdE1hcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEJveGVzSW5Cb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcyk6IEwuTGF0TG5nQm91bmRzW10ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAvLyBTdGFydGluZyBwb2ludCBzaG91bGQgYmUgdGhlIG5vcnRoLXdlc3QgY29ybmVyIG9mIHRoZSBtYXAgcm91bmRlZCBiZXlvbmQgdGhlIG1hcCBib3VuZHNcclxuICAgICAgICAvLyBMYXRpdHVkZSBpcyByb3VuZGVkIHRvIDIgZGVjaW1hbCBwbGFjZXMgbXVsdGlwbGUgb2YgMC4wMlxyXG4gICAgICAgIC8vIExvbmdpdHVkZSBpcyByb3VuZGVkIHRvIDIgZGVjaW1hbCBwbGFjZXMgbXVsdGlwbGUgb2YgMC4wNFxyXG4gICAgICAgIGNvbnN0IG5vcnRobW9zdCA9IE1hdGguY2VpbChib3VuZHMuZ2V0Tm9ydGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgICAgIGNvbnN0IHdlc3RtbW9zdCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFdlc3QoKSAqIDI1KSAvIDI1O1xyXG5cclxuICAgICAgICAvLyBzcGxpdCBtYXAgaW50byBib3hlcyBzdGFydGluZyBmcm9tIG5vcnRoLXdlc3QgY29ybmVyXHJcbiAgICAgICAgLy8gZWFjaCBib3ggc2hvdWxkIGJlIDAuMDIgZGVncmVlcyBsYXRpdHVkZSBieSAwLjA0IGRlZ3JlZXMgbG9uZ2l0dWRlXHJcbiAgICAgICAgY29uc3QgYm94ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBsYXRpdHVkZSA9IG5vcnRobW9zdDsgbGF0aXR1ZGUgPiBib3VuZHMuZ2V0U291dGgoKTsgbGF0aXR1ZGUgLT0gMC4wMikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBsb25naXR1ZGUgPSB3ZXN0bW1vc3Q7IGxvbmdpdHVkZSA8IGJvdW5kcy5nZXRFYXN0KCk7IGxvbmdpdHVkZSArPSAwLjA0KSB7XHJcbiAgICAgICAgICAgICAgICBib3hlcy5wdXNoKFtsYXRpdHVkZSwgbG9uZ2l0dWRlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hcCBlYWNoIGJveCBpbnRvIGEgYm91bmRzIG9iamVjdFxyXG4gICAgICAgIGNvbnN0IGJveEJvdW5kcyA9IGJveGVzLm1hcChib3ggPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3J0aCA9IGJveFswXTtcclxuICAgICAgICAgICAgY29uc3Qgd2VzdCA9IGJveFsxXTtcclxuICAgICAgICAgICAgY29uc3Qgc291dGggPSBub3J0aCAtIDAuMDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGVhc3QgPSB3ZXN0ICsgMC4wNDtcclxuICAgICAgICAgICAgcmV0dXJuIEwubGF0TG5nQm91bmRzKFtzb3V0aCwgd2VzdF0sIFtub3J0aCwgZWFzdF0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYm94Qm91bmRzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIGJveGVzIHRoYXQgYXJlIHZpc2libGUgb24gdGhlIG1hcFxyXG4gICAgICovXHJcbiAgICBnZXRDdXJyZW50Vmlld0JveGVzKCk6IEwuTGF0TG5nQm91bmRzW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRCb3hlc0luQm91bmRzKHRoaXMubWFwLmdldEJvdW5kcygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhpZGUgbWFya2VycyB0aGF0IGFyZSBvdXRzaWRlIHRoZSBtYXAgYm91bmRzXHJcbiAgICAgKi9cclxuICAgIGhpZGVNYXJrZXJzT3V0c2lkZUN1cnJlbnRWaWV3KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYXJrZXJMYXllcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcmtlciBMYXllciBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIaWRlIG1hcmtlcnMgdGhhdCBhcmUgb3V0c2lkZSB0aGUgbWFwIGJvdW5kc1xyXG4gICAgICAgIGNvbnN0IG1hcEJvdW5kcyA9IHRoaXMubWFwLmdldEJvdW5kcygpLnBhZCgwLjUpO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIucmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMobWFwQm91bmRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3BsYXkgbWFya2VycyB0aGF0IGFyZSBpbnNpZGUgdGhlIG1hcCBib3VuZHNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KGF0dGVtcHQ6IG51bWJlciA9IDEpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YXN0b3JlLmlzUmVhZHkoKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChhdHRlbXB0ID4gMTApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBnZXQgZGF0YXN0b3JlIHJlYWR5LiBHaXZpbmcgdXAuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGF0YXN0b3JlIGlzIG5vdCByZWFkeS4gRGVsYXlpbmcgZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KCknKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyhhdHRlbXB0KzEpLCAxMDAwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Rpc3BsYXlpbmcgbWFya2VycyBpbiBjdXJyZW50IHZpZXcnKTtcclxuICAgICAgICBjb25zdCBtYXBCb3VuZHMgPSByb3VuZEJvdW5kcyh0aGlzLm1hcC5nZXRCb3VuZHMoKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIGZyb20gRGF0YXN0b3JlJywgbWFwQm91bmRzKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hQb2ludHNGcm9tU3RvcmUobWFwQm91bmRzKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIGRhdGEgZm9yIGN1cnJlbnQgbWFwIHZpZXdcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXcoKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpO1xyXG5cclxuICAgICAgICAvLyBHZXQgYm94ZXMgdGhhdCBhcmUgY3VycmVudGx5IHZpc2libGVcclxuICAgICAgICBjb25zdCBib3hlcyA9IHRoaXMuZ2V0Q3VycmVudFZpZXdCb3hlcygpO1xyXG5cclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3VycmVudCB2aWV3IGJveGVzJywgYm94ZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRG9uJ3QgZmV0Y2ggYm94ZXMgaWYgbW9yZSB0aGFuIDgwXHJcbiAgICAgICAgaWYgKGJveGVzLmxlbmd0aCA+IE1BWF9CT1hFU19JTl9WSUVXKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVG9vIG1hbnkgYm94ZXMgdG8gZmV0Y2guIFNraXBwaW5nLicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBib3hlcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBmZXRjaFByb21pc2VzID0gYm94ZXMubWFwKGJveCA9PiB0aGlzLmZldGNoRGF0YShib3gpKTtcclxuXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dhaXRpbmcgZm9yIGJveGVzIHRvIGJlIGZldGNoZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGZldGNoUHJvbWlzZXMpO1xyXG5cclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWxsIGJveGVzIGZldGNoZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFBvaW50c0Zyb21TdG9yZSh0aGlzLm1hcC5nZXRCb3VuZHMoKS5wYWQoMC41KSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZmV0Y2hEYXRhKFxyXG4gICAgICAgIGJvdW5kczogTC5MYXRMbmdCb3VuZHMsIHBhZ2U6IG51bWJlciA9IDFcclxuICAgICkgOiBQcm9taXNlPHZvaWQ+XHJcbiAgICB7XHJcblxyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBCb3gnLCBib3VuZHMuZ2V0Q2VudGVyKCkudG9TdHJpbmcoKSwgcGFnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuYXBpLmZldGNoUGFnZShib3VuZHMsIHBhZ2UsICgpID0+IHRoaXMubWFwLmdldEJvdW5kcygpLmludGVyc2VjdHMoYm91bmRzKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2Nlc3NGZXRjaFJlc3VsdChkYXRhLCBib3VuZHMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEubmV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hEYXRhKGJvdW5kcywgZGF0YS5uZXh0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlID09ICdQYWdlIGFscmVhZHkgbG9hZGVkIHRoaXMgc2Vzc2lvbi4nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHByb2Nlc3NGZXRjaFJlc3VsdChyZXN1bHQ6IE5iblBsYWNlQXBpUmVzcG9uc2UsIGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIHtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnUHJvY2Vzc2luZyBwYWdlJywgKHJlc3VsdC5uZXh0IHx8IDIpLTEsICdvZicsIHJlc3VsdC50b3RhbCwgJ3dpdGgnLCByZXN1bHQucGxhY2VzLmxlbmd0aCwgJ3BsYWNlcy4nKTtcclxuXHJcbiAgICAgICAgLy8gSWYgbW9yZSBwYWdlcywgc3RhcnQgZmV0Y2hpbmcgbmV4dCBwYWdlXHJcbiAgICAgICAgLyppZiAocmVzdWx0Lm5leHQpIHtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoYm91bmRzLCByZXN1bHQubmV4dCk7XHJcbiAgICAgICAgfSovXHJcblxyXG4gICAgICAgIC8vIFByb2Nlc3MgcGxhY2VzXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1N0b3JpbmcgcGxhY2VzLicpXHJcbiAgICAgICAgY29uc3QgcHJvY2Vzc1Byb21pc2UgPSB0aGlzLmRhdGFzdG9yZS5zdG9yZVBsYWNlcyhyZXN1bHQucGxhY2VzKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnV2FpdGluZyBmb3IgcGxhY2Ugc3RvcmluZyB0byBmaW5pc2gnKTtcclxuICAgICAgICBhd2FpdCBwcm9jZXNzUHJvbWlzZTtcclxuXHJcbiAgICAgICAgLy8gUmVmcmVzaCBwb2ludHMgaW5zaWRlIGJvdW5kc1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgcG9pbnRzIGluc2lkZSBib3VuZHMuJyk7XHJcbiAgICAgICAgLy9hd2FpdCB0aGlzLnJlZnJlc2hQb2ludHNGcm9tU3RvcmUoYm91bmRzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVmcmVzaFBvaW50c0Zyb21TdG9yZShib3VuZHM/OiBMLkxhdExuZ0JvdW5kcykge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubWFya2VyTGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYXJrZXIgTGF5ZXIgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgYm91bmRzIGFyZSBub3QgcGFzc2VkLCB1c2UgbWFwIGJvdW5kc1xyXG4gICAgICAgIGlmICghYm91bmRzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdCb3VuZHMgbm90IHBhc3NlZC4gVXNpbmcgbWFwIGJvdW5kcy4nKTtcclxuICAgICAgICAgICAgYm91bmRzID0gdGhpcy5tYXAuZ2V0Qm91bmRzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBib3VuZHMgPSByb3VuZEJvdW5kcyhib3VuZHMpO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIucmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMoYm91bmRzLCB0aGlzLm1hcmtlckZpbHRlcik7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgLy8gR2V0IHRoZSBib3hlc1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoaW5nIHBvaW50cyB3aXRoaW4gYm91bmRzJywgYm91bmRzLnRvQkJveFN0cmluZygpKTtcclxuICAgICAgICBjb25zdCBwb2ludHMgPSBhd2FpdCB0aGlzLmRhdGFzdG9yZS5nZXRQb2ludHNXaXRoaW5Cb3VuZHMoYm91bmRzKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gYWRkIHBvaW50cyB0byBtYXAgdGhhdCBkb24ndCBhbHJlYWR5IGV4aXN0IGluIGxheWVyXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtYXJrZXIgPSBMLmNpcmNsZU1hcmtlcihbcG9pbnQubGF0aXR1ZGUsIHBvaW50LmxvbmdpdHVkZV0sIHtcclxuICAgICAgICAgICAgICAgIHJhZGl1czogNSxcclxuICAgICAgICAgICAgICAgIC8vZmlsbENvbG9yOiB0aGlzLmdldFBsYWNlQ29sb3VyKHBsYWNlKSxcclxuICAgICAgICAgICAgICAgIC8vY29sb3I6IFwiIzAwMDAwMFwiLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiAxLFxyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHBvcHVwXHJcbiAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAocG9pbnQubG9jaWRzLmpvaW4oJzxiciAvPicpKTtcclxuICAgICAgICAgICAgbWFya2VyLm9uKCdwb3B1cG9wZW4nLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUG9wdXBDb250ZW50KHBvaW50KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGNvbnRlbnQgPT4gZXZlbnQucG9wdXAuc2V0Q29udGVudChjb250ZW50KSk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLm1hcmtlckxheWVyLmFkZExheWVyKG1hcmtlcik7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnRyb2xzOiB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXTogSUNvbnRyb2w7XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgYWRkQ29udHJvbChrZXk6IHN0cmluZywgY29udHJvbDogSUNvbnRyb2wpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250cm9sc1trZXldKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udHJvbCB3aXRoIGtleSAke2tleX0gYWxyZWFkeSBleGlzdHNgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHNba2V5XSA9IGNvbnRyb2w7XHJcblxyXG4gICAgICAgIHRoaXMubWFwLmFkZENvbnRyb2woY29udHJvbC5nZXRDb250cm9sKCkpXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBZGRlZCBjb250cm9sJywga2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNYXJrZXJGaWx0ZXIoZmlsdGVyOiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5tYXJrZXJMYXllcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcmtlciBMYXllciBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1hcmtlckZpbHRlciA9IGZpbHRlcjtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyLnJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKHRoaXMubWFwLmdldEJvdW5kcygpLCB0aGlzLm1hcmtlckZpbHRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLypwcml2YXRlIHNldE1hcmtlckxheWVyKG1hcmtlckxheWVyOiBJTWFya2VyTGF5ZXIpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFya2VyTGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJMYXllci5yZW1vdmVBbGxNYXJrZXJzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyID0gbWFya2VyTGF5ZXI7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5zZXRNYXAodGhpcy5tYXApO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIuc2V0RGF0YXN0b3JlKHRoaXMuZGF0YXN0b3JlKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5yZWZyZXNoTWFya2Vyc0luc2lkZUJvdW5kcyhcclxuICAgICAgICAgICAgdGhpcy5tYXAuZ2V0Qm91bmRzKCksIHRoaXMubWFya2VyRmlsdGVyXHJcbiAgICAgICAgKTtcclxuICAgIH0qL1xyXG5cclxuICAgIHNldE1vZGVIYW5kbGVyKG1vZGVIYW5kbGVyOiBJTW9kZSkge1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyPy5zZXRNb2RlSGFuZGxlcihtb2RlSGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICogYXMgTCBmcm9tICdsZWFmbGV0JztcclxuaW1wb3J0IElDb250cm9sIGZyb20gXCIuLi9pbnRlcmZhY2VzL2NvbnRyb2wuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBOYm5UZWNoTWFwIGZyb20gXCIuLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IHsgQ29udHJvbEV2ZW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQUNvbnRyb2wgaW1wbGVtZW50cyBJQ29udHJvbCB7XHJcblxyXG4gICAgLy9wcm90ZWN0ZWQgbWFwOiBOYm5UZWNoTWFwO1xyXG4gICAgcHJvdGVjdGVkIGNvbnRyb2w6IEwuQ29udHJvbDtcclxuICAgIC8vcHJvdGVjdGVkIGtleTogc3RyaW5nO1xyXG5cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXZlbnRIYW5kbGVyczoge1xyXG4gICAgICAgIFtldmVudE5hbWU6IHN0cmluZ106ICgoZTogQ29udHJvbEV2ZW50KSA9PiB2b2lkKVtdXHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgY29uc3RydWN0b3IoLyprZXk6IHN0cmluZy8qLCBuYm5UZWNoTWFwOiBOYm5UZWNoTWFwKi8pIHtcclxuICAgICAgICAvL3RoaXMua2V5ID0ga2V5O1xyXG4gICAgICAgIC8vdGhpcy5tYXAgPSBuYm5UZWNoTWFwO1xyXG4gICAgICAgIHRoaXMuY29udHJvbCA9IG5ldyBMLkNvbnRyb2woKTtcclxuICAgIH1cclxuXHJcbiAgICBvbihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChlOiBDb250cm9sRXZlbnQpID0+IHZvaWQpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZW1pdChldmVudE5hbWU6IHN0cmluZywgZGF0YTogYW55KSA6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoYEVtaXR0aW5nIGV2ZW50OiAke2V2ZW50TmFtZX1gLCB7XHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIGhhbmRsZXJzOiB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLmdldFN0YXRlKCksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0U3RhdGUoKSA6IGFueTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29udHJvbCgpIDogTC5Db250cm9sIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcbi8vaW1wb3J0IE5iblRlY2hNYXAgZnJvbSBcIi4uL25ibl90ZWNoX21hcC5jbGFzc1wiO1xyXG5pbXBvcnQgQUNvbnRyb2wgZnJvbSBcIi4vY29udHJvbC5hYnN0cmFjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvRGlzcGxheU1vZGUgZXh0ZW5kcyBBQ29udHJvbCB7XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5TW9kZSA9ICdhbGwnO1xyXG4gICAgcHJpdmF0ZSBlbENvbnRyb2xEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBwcml2YXRlIGVsRHJvcGRvd246IEhUTUxTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVDb250cm9sRGl2KCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sLm9uQWRkID0gKG1hcDogTC5NYXApID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZURyb3Bkb3duKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsQ29udHJvbERpdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdGhpcy5jb250cm9sLm9uQWRkID0gKCkgPT4gdGhpcy5hZGRDb250cm9sRGl2KCk7XHJcbiAgICAgICAgLy90aGlzLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZSgpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TW9kZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBhbGxMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgYWxsUmFkaW86IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGFsbFRleHQ6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHVwZ3JhZGVMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgdXBncmFkZVJhZGlvOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB1cGdyYWRlVGV4dDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVSYWRpbzogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVUZXh0OiBhbnkgPSBudWxsO1xyXG4gICAgXHJcbiAgICBjaGFuZ2VNb2RlKG1vZGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheU1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgbW9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUNvbnRyb2xEaXYoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmKHRoaXMuZWxDb250cm9sRGl2KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29udHJvbERpdiBhbHJlYWR5IGV4aXN0cycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuY2xhc3NMaXN0LmFkZCgnaW5mbycsICdsZWdlbmQnKTtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5wYWRkaW5nID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlRHJvcGRvd24oKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmVsRHJvcGRvd24pIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEcm9wZG93biBhbHJlYWR5IGV4aXN0cycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZHJvcGRvd24gPSB0aGlzLmVsRHJvcGRvd247XHJcbiAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnY29udHJvbC1zZWxlY3QnKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWxsT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgYWxsT3B0aW9uLnZhbHVlID0gJ2FsbCc7XHJcbiAgICAgICAgYWxsT3B0aW9uLmlubmVyVGV4dCA9ICdTaG93IEFsbCBMb2NhdGlvbnMnO1xyXG4gICAgICAgIGRyb3Bkb3duLmFwcGVuZENoaWxkKGFsbE9wdGlvbik7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgY29uc3QgdXBncmFkZU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIHVwZ3JhZGVPcHRpb24udmFsdWUgPSAndXBncmFkZSc7XHJcbiAgICAgICAgdXBncmFkZU9wdGlvbi5pbm5lclRleHQgPSAnVGVjaCBVcGdyYWRlcyc7XHJcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQodXBncmFkZU9wdGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGVlT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgZWVPcHRpb24udmFsdWUgPSAnZWUnO1xyXG4gICAgICAgIGVlT3B0aW9uLmlubmVyVGV4dCA9ICdFbnRlcnByaXNlIEV0aGVybmV0JztcclxuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZChlZU9wdGlvbik7XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHRoaXMuY2hhbmdlTW9kZSgoZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQpLnZhbHVlKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxEcm9wZG93biA9IGRyb3Bkb3duO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmFwcGVuZENoaWxkKGRyb3Bkb3duKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyphZGRDb250cm9sRGl2KCkge1xyXG5cclxuICAgICAgICB0aGlzLmFsbExhYmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGFiZWwnLCAnY29udHJvbC1sYWJlbCcsIHRoaXMuY29udHJvbERpdik7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmFsbExhYmVsKTtcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8udmFsdWUgPSAnYWxsJztcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5hbGxSYWRpbywgJ2NoYW5nZScsIChlKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2FsbCcpKTtcclxuICAgICAgICB0aGlzLmFsbFRleHQgPSBMLkRvbVV0aWwuY3JlYXRlKCdzcGFuJywgJ2NvbnRyb2wtdGV4dCcsIHRoaXMuYWxsTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuYWxsVGV4dC5pbm5lclRleHQgPSAnQWxsJztcclxuXHJcbiAgICAgICAgdGhpcy51cGdyYWRlTGFiZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdsYWJlbCcsICdjb250cm9sLWxhYmVsJywgdGhpcy5jb250cm9sRGl2KTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLnVwZ3JhZGVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8udHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvLnZhbHVlID0gJ3VwZ3JhZGUnO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy51cGdyYWRlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ3VwZ3JhZGUnKSk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlVGV4dCA9IEwuRG9tVXRpbC5jcmVhdGUoJ3NwYW4nLCAnY29udHJvbC10ZXh0JywgdGhpcy51cGdyYWRlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVRleHQuaW5uZXJUZXh0ID0gJ1RlY2ggVXBncmFkZSc7XHJcblxyXG4gICAgICAgIHRoaXMuZWVMYWJlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2xhYmVsJywgJ2NvbnRyb2wtbGFiZWwnLCB0aGlzLmNvbnRyb2xEaXYpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby50eXBlID0gJ3JhZGlvJztcclxuICAgICAgICB0aGlzLmVlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby52YWx1ZSA9ICdlZSc7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmVlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2VlJykpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnc3BhbicsICdjb250cm9sLXRleHQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0LmlubmVyVGV4dCA9ICdFRSc7XHJcblxyXG4gICAgfSovXHJcblxyXG59IiwiaW1wb3J0ICogYXMgTCBmcm9tICdsZWFmbGV0JztcclxuaW1wb3J0IHsgTGF0TG5nTG9jaWRTdG9yYWdlLCBOYm5QbGFjZSwgTmJuUGxhY2VTdG9yZSwgUG9pbnRBbmRMb2NpZHMsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCBJRGF0YXN0b3JlIGZyb20gJy4uL2ludGVyZmFjZXMvZGF0YXN0b3JlLmludGVyZmFjZSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1lbW9yeURhdGFzdG9yZSBpbXBsZW1lbnRzIElEYXRhc3RvcmUge1xyXG5cclxuICAgIHByaXZhdGUgbGF0TG5nSW5kZXg6IExhdExuZ0xvY2lkU3RvcmFnZSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBuYm5QbGFjZVN0b3JlOiBOYm5QbGFjZVN0b3JlID0ge307XHJcblxyXG4gICAgaXNSZWFkeSgpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZSBwbGFjZSBtYXJrZXJzIFxyXG4gICAgICogQHBhcmFtIHBsYWNlTWFya2VyIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzdG9yZVBsYWNlKHBsYWNlOiBOYm5QbGFjZSkgOiBQcm9taXNlPHZvaWQ+IHtcclxuXHJcbiAgICAgICAgY29uc3QgbGF0aXR1ZGUgPSBwbGFjZS5sYXRpdHVkZTtcclxuICAgICAgICBjb25zdCBsb25naXR1ZGUgPSBwbGFjZS5sb25naXR1ZGU7XHJcbiAgICAgICAgY29uc3QgbGF0TG5nID0gYCR7bGF0aXR1ZGV9LCR7bG9uZ2l0dWRlfWA7XHJcbiAgICAgICAgY29uc3QgbG9jaWQgPSBwbGFjZS5sb2NpZDtcclxuXHJcbiAgICAgICAgLy8gU3RvcmUgTE9DSUQgaW50byBpbmRleFxyXG4gICAgICAgIGlmICghdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXSA9IFsgbG9jaWQgXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddLmluY2x1ZGVzKGxvY2lkKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddLnB1c2gobG9jaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdG9yZSBwbGFjZVxyXG4gICAgICAgIHRoaXMubmJuUGxhY2VTdG9yZVtsb2NpZF0gPSBwbGFjZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc3RvcmVQbGFjZXMocGxhY2VzOiBOYm5QbGFjZVtdKSA6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHBsYWNlcy5mb3JFYWNoKHBsYWNlID0+IHRoaXMuc3RvcmVQbGFjZShwbGFjZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBsYWNlKGxvY2lkOiBzdHJpbmcpIDogUHJvbWlzZTxOYm5QbGFjZT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5iblBsYWNlU3RvcmVbbG9jaWRdO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBsYWNlcygpOiBQcm9taXNlPE5iblBsYWNlW10+IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5uYm5QbGFjZVN0b3JlKVxyXG4gICAgICAgICAgICAubWFwKGxvY2lkID0+IHRoaXMubmJuUGxhY2VTdG9yZVtsb2NpZF0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBvaW50cygpIDogUHJvbWlzZTxQb2ludEFuZExvY2lkc1tdPiB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubGF0TG5nSW5kZXgpXHJcbiAgICAgICAgICAgIC5tYXAoKGxhdExuZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgWyBsYXRpdHVkZSwgbG9uZ2l0dWRlIF0gPSBsYXRMbmcuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0bG5nOiBsYXRMbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGUsIGxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICBsb2NpZHM6IHRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKSA6IFByb21pc2U8UG9pbnRBbmRMb2NpZHNbXT4ge1xyXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IChhd2FpdCB0aGlzLmdldFBvaW50cygpKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh7IGxhdGl0dWRlLCBsb25naXR1ZGUgfSkgPT4gdGhpcy5pc0xhdExuZ1dpdGhpbkJvdW5kcyhsYXRpdHVkZSwgbG9uZ2l0dWRlLCBib3VuZHMpKVxyXG4gICAgICAgIHJldHVybiBwb2ludHM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0RnVsbFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKSA6IFByb21pc2U8UG9pbnRBbmRQbGFjZXNbXT4ge1xyXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IChhd2FpdCB0aGlzLmdldFBvaW50cygpKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh7IGxhdGl0dWRlLCBsb25naXR1ZGUgfSkgPT4gdGhpcy5pc0xhdExuZ1dpdGhpbkJvdW5kcyhsYXRpdHVkZSwgbG9uZ2l0dWRlLCBib3VuZHMpKVxyXG4gICAgICAgICAgICAubWFwKCh7IGxhdGxuZywgbGF0aXR1ZGUsIGxvbmdpdHVkZSwgbG9jaWRzIH0pID0+ICh7XHJcbiAgICAgICAgICAgICAgICBsYXRsbmcsIGxhdGl0dWRlLCBsb25naXR1ZGUsXHJcbiAgICAgICAgICAgICAgICBwbGFjZXM6IGxvY2lkcy5tYXAobG9jaWQgPT4gdGhpcy5uYm5QbGFjZVN0b3JlW2xvY2lkXSksXHJcbiAgICAgICAgICAgIH0pKVxyXG4gICAgICAgIHJldHVybiBwb2ludHM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0UGxhY2VzQXRMYXRMbmcobGF0aXR1ZGU6IG51bWJlciwgbG9uZ2l0dWRlOiBudW1iZXIpIDogUHJvbWlzZTxOYm5QbGFjZVtdPiB7XHJcbiAgICAgICAgY29uc3QgbGF0TG5nID0gYCR7bGF0aXR1ZGV9LCR7bG9uZ2l0dWRlfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXVxyXG4gICAgICAgICAgICAubWFwKGxvY2lkID0+IHRoaXMubmJuUGxhY2VTdG9yZVtsb2NpZF0pXHJcbiAgICAgICAgO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNMYXRMbmdXaXRoaW5Cb3VuZHMobGF0aXR1ZGU6IG51bWJlciwgbG9uZ2l0dWRlOiBudW1iZXIsIGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIHtcclxuICAgICAgICByZXR1cm4gbGF0aXR1ZGUgPiBib3VuZHMuZ2V0U291dGgoKVxyXG4gICAgICAgICAgICAmJiBsYXRpdHVkZSA8IGJvdW5kcy5nZXROb3J0aCgpXHJcbiAgICAgICAgICAgICYmIGxvbmdpdHVkZSA+IGJvdW5kcy5nZXRXZXN0KClcclxuICAgICAgICAgICAgJiYgbG9uZ2l0dWRlIDwgYm91bmRzLmdldEVhc3QoKVxyXG4gICAgICAgIDtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSwgTmJuUGxhY2UsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBpc1BsYWNlRlRUUCxcclxuICAgIGlzUGxhY2VGVFRDLFxyXG4gICAgaXNQbGFjZUZUVFBBdmFpbCxcclxuICAgIGlzUGxhY2VGVFRQU29vbixcclxuICAgIGlzUGxhY2VGVFRQRmFyLFxyXG4gICAgaXNGd3RvRlRUQyxcclxuICAgIGlzRnd0b0ZUVE4sXHJcbiAgICBpc1NhdFRvRlcsXHJcbiAgICBpc0RlYnVnTW9kZVxyXG59IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgY29sb3VyRlRUUCBcdFx0PSAnIzFENzA0NCc7XHJcbmNvbnN0IGNvbG91ckZUVFBBdmFpbCAgID0gJyM3NUFENkYnO1xyXG5jb25zdCBjb2xvdXJGVFRQU29vbiAgICA9ICcjQzhFM0M1JztcclxuY29uc3QgY29sb3VySEZDIFx0XHQ9ICcjRkZCRTAwJztcclxuY29uc3QgY29sb3VyRlRUQyBcdFx0PSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVENBdmFpbCAgID0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFROQiBcdFx0PSAnI0UzMDcxRCc7XHJcbmNvbnN0IGNvbG91ckZXIFx0XHQgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IGNvbG91ckZXQXZhaWwgXHQ9ICcjMDIyQkUzJztcclxuY29uc3QgY29sb3VyU2F0IFx0ICAgID0gJyM2QjAyRTMnO1xyXG5jb25zdCBjb2xvdXJVbmtub3duICAgICAgPSAnIzg4ODg4OCc7XHJcblxyXG5mdW5jdGlvbiBnZXRUZWNoQ29sb3VyKHRlY2hUeXBlOiBzdHJpbmcpIHtcclxuICAgIHN3aXRjaCh0ZWNoVHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ0ZUVFAnOiByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICBjYXNlICdGVFRDJzogcmV0dXJuIGNvbG91ckZUVEM7XHJcbiAgICAgICAgY2FzZSAnRlRUTic6XHJcbiAgICAgICAgY2FzZSAnRlRUQic6IHJldHVybiBjb2xvdXJGVFROQjtcclxuICAgICAgICBjYXNlICdIRkMnOiByZXR1cm4gY29sb3VySEZDO1xyXG4gICAgICAgIGNhc2UgJ1dJUkVMRVNTJzogcmV0dXJuIGNvbG91ckZXO1xyXG4gICAgICAgIGNhc2UgJ1NBVEVMTElURSc6IHJldHVybiBjb2xvdXJTYXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3VyVW5rbm93bjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxsTW9kZSBpbXBsZW1lbnRzIElNb2RlIHtcclxuXHJcbiAgICBmaWx0ZXIocGxhY2U6IE5iblBsYWNlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvaW50Q29sb3VyKHBvaW50OiBQb2ludEFuZFBsYWNlcykgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlQ29sb3VyKHBvaW50LnBsYWNlc1swXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxhY2VDb2xvdXIocGxhY2U6IE5iblBsYWNlKSA6IHN0cmluZyB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBBdmFpbChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBTb29uKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUFNvb247XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQztcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNGd3RvRlRUQyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVENBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlICE9ICdOVUxMX05BJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQb3B1cENvbnRlbnQocGxhY2U6IE5iblBsYWNlKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxiPicrcGxhY2UubG9jaWQrJzwvYj48L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMSArICc8L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMiArICc8L2JyPidcclxuICAgICAgICAgICAgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiPlRlY2hub2xvZ3kgUGxhbjwvYj48L2JyPic7XHJcblxyXG4gICAgICAgIC8qKiBUZWNobm9sb2d5IFBsYW4gRmluYWwgU3RhdGUgKi9cclxuICAgICAgICBpZiAocGxhY2UudGVjaFR5cGUgPT0gJ0ZUVFAnXHJcbiAgICAgICAgICAgIHx8ICFwbGFjZS5hbHRSZWFzb25Db2RlXHJcbiAgICAgICAgICAgIHx8IHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gJ05VTExfTkEnXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUZWNobm9sb2d5OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlICE9ICdGVFRQJykge1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ05vIHRlY2ggdXBncmFkZSBwbGFubmVkPGJyIC8+JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0N1cnJlbnQ6ICcgKyBwbGFjZS50ZWNoVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ2hhbmdlOiAnICsgcGxhY2UuYWx0UmVhc29uQ29kZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnU3RhdHVzOiAnICsgcGxhY2UudGVjaENoYW5nZVN0YXR1cyArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnUHJvZ3JhbTogJyArIHBsYWNlLnByb2dyYW1UeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUYXJnZXQgUXRyOiAnICsgcGxhY2UudGFyZ2V0RWxpZ2liaWxpdHlRdWFydGVyICsgJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiciAvPic7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwbGFjZS5lZSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiPkVudGVycHJpc2UgRXRoZXJuZXQ8L2I+PC9icj4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJ1ByaWNlIFpvbmU6ICcgKyAoIHBsYWNlLmNiZHByaWNpbmcgPyAnQ0JEJyA6ICdab25lIDEvMi8zJyApICsgJzxiciAvPidcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdCdWlsZCBDb3N0OiAnICsgKCBwbGFjZS56ZXJvQnVpbGRDb3N0ID8gJyQwJyA6ICdQT0EnICkgKyAnPGJyIC8+J1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBociA9IEwuRG9tVXRpbC5jcmVhdGUoJ2hyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ3ByZScpO1xyXG4gICAgICAgICAgICBwcmUuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkocGxhY2UsIG51bGwsIDIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChwcmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVG9vbHRpcChwbGFjZXM6IE5iblBsYWNlW10pIDogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbGFiZWwgPSBwbGFjZXNbMF0uYWRkcmVzczE7XHJcblxyXG4gICAgICAgIGlmIChwbGFjZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBsYWJlbCArPSAnICggKyAnICsgKHBsYWNlcy5sZW5ndGggLSAxKSArICcgbW9yZSknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRMZWdlbmRJdGVtcygpOiBMZWdlbmRJdGVtW10ge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCBVcGdyYWRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUEF2YWlsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAgVXBncmFkZSBTb29uJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUFNvb24sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnSEZDJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VySEZDLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVEMnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRDLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVE4vRlRUQicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVE5CLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZXJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlcgVXBncmFkZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZXQXZhaWwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnU2F0ZWxsaXRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyU2F0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJVbmtub3duLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgQUNvbnRyb2wgZnJvbSBcIi4vY29udHJvbC5hYnN0cmFjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbExlZ2VuZCBleHRlbmRzIEFDb250cm9sIHtcclxuXHJcbiAgICBwcml2YXRlIGVsQ29udHJvbERpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbC5zZXRQb3NpdGlvbignYm90dG9tcmlnaHQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuY2xhc3NMaXN0LmFkZCgnaW5mbycsICdsZWdlbmQnKTtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5wYWRkaW5nID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2wub25BZGQgPSAobWFwOiBMLk1hcCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbENvbnRyb2xEaXY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTGVnZW5kKGl0ZW1zOiBMZWdlbmRJdGVtW10pIHtcclxuXHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgaXRlbS5jb2xvdXIgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gJyArIGl0ZW0ubGFiZWw7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICcgKCcgKyBpdGVtLmNvdW50ICsgJyknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxicj4nO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5pbm5lckhUTUwgPSBodG1sO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKlxyXG5cclxuICAgIGdldExlZ2VuZEhUTUwoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5iblRlY2hNYXAuY29udHJvbHMuZGlzcGxheU1vZGU/LmRpc3BsYXlNb2RlID09ICdlZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9DQkRfWkJDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSBDQkQgKCQwIEJ1aWxkKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX0NCRF9CQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgQ0JEIChCdWlsZCBQT0EpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfWjEyM19aQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIDEvMi8zICgkMCBCdWlsZCk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9aMTIzX0JDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSAxLzIvMyAoQnVpbGQgUE9BKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5iblRlY2hNYXAuY29udHJvbHMuZGlzcGxheU1vZGU/LmRpc3BsYXlNb2RlID09ICd1cGdyYWRlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9DT01QTEVURSArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBDb21wbGV0ZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQVZBSUwgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQXZhaWxhYmxlPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0JVSUxERklOQUxJU0VEICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEJ1aWxkIEZpbmFsaXNlZDxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9ERVNJR04gKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSW4gRGVzaWduPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0NPTU1JVFRFRCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBDb21taXR0ZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8Yj5NdWx0aSBEd2VsbGluZyBVbml0czwvYj48YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfTURVX0lOQlVJTEQgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSW4gQnVpbGQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfTURVX0VMSUdJQkxFICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEVsbGlnaWJsZTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVFA8YnI+JyArIFxyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUEF2YWlsKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUUCBVcGdyYWRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUFNvb24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRQIFVwZ3JhZGUgU29vbjxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckhGQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEhGQzxicj4nICsgXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFRDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUQzxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVE5CKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUTi9GVFRCPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlcrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVzxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZXQXZhaWwrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVyBVcGdyYWRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyU2F0KydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gU2F0ZWxsaXRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyVW5rbm93bisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFVua25vd24nO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbnRyb2xEaXYobWFwKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jb250cm9sRGl2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbERpdiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdpbmZvIGxlZ2VuZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLndpZHRoID0gXCIxNTBweFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRMZWdlbmRIVE1MKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaCgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRMZWdlbmRIVE1MKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2wuYWRkVG8odGhpcy5uYm5UZWNoTWFwLm1hcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAqL1xyXG59IiwiLyoqXHJcbiAqIEBmaWxlIE1haW4gZW50cnkgcG9pbnQgZm9yIG1hcCBzY3JpcHRzLlxyXG4gKiBAbW9kdWxlIGluZGV4LnRzXHJcbiAqIEB2ZXJzaW9uIDEuMC4wXHJcbiAqIEBhdXRob3IgS29hbGFHXHJcbiAqIEBsaWNlbnNlIE1JVFxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEluZGV4REJEYXRhc3RvcmUgfSBmcm9tIFwiLi9kYXRhc3RvcmUvZGF0YXN0b3JlLmluZGV4ZGIuY2xhc3NcIjtcclxuaW1wb3J0IExpcEFwaSBmcm9tIFwiLi9hcGkvbGlwX2FwaS5jbGFzc1wiO1xyXG5pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IENvbnRyb0Rpc3BsYXlNb2RlIGZyb20gXCIuL2NvbnRyb2xzL2NvbnRyb2xfZGlzcGxheV9tb2RlLmNsYXNzXCI7XHJcbmltcG9ydCB7IE5iblBsYWNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgTWVtb3J5RGF0YXN0b3JlIH0gZnJvbSBcIi4vZGF0YXN0b3JlL2RhdGFzdG9yZS5tZW1vcnkuY2xhc3NcIjtcclxuaW1wb3J0IE1hcmtlckxheWVyQ2x1c3RlciBmcm9tIFwiLi9jbGFzc2VzL21hcmtlcmxheWVyLmNsdXN0ZXIuY2xhc3NcIjtcclxuaW1wb3J0IEFsbE1vZGUgZnJvbSBcIi4vbW9kZXMvbW9kZS5hbGxcIjtcclxuaW1wb3J0IENvbnRyb2xMZWdlbmQgZnJvbSBcIi4vY29udHJvbHMvY29udHJvbF9sZWdlbmQuY2xhc3NcIjtcclxuXHJcbmltcG9ydCAnbGVhZmxldC9kaXN0L2xlYWZsZXQuY3NzJztcclxuXHJcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcignLi9zZXJ2aWNlLXdvcmtlci5qcycpLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NXIHJlZ2lzdGVyZWQ6ICcsIHJlZ2lzdHJhdGlvbik7XHJcbiAgICAgICAgfSkuY2F0Y2gocmVnaXN0cmF0aW9uRXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU1cgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgcmVnaXN0cmF0aW9uRXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gcmVhZHlcclxuICogQGRlc2NyaXB0aW9uIEV4ZWN1dGVzIGEgZnVuY3Rpb24gd2hlbiB0aGUgRE9NIGlzIHJlYWR5LlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bmN0aW9uIHRvIGV4ZWN1dGUuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTg5OTcwMS8xMjkzMjU2fVxyXG4gKi9cclxuZnVuY3Rpb24gcmVhZHkoZm46ICgpID0+IHZvaWQpIHtcclxuICAgIC8vIHNlZSBpZiBET00gaXMgYWxyZWFkeSBhdmFpbGFibGVcclxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgLy8gY2FsbCBvbiBuZXh0IGF2YWlsYWJsZSB0aWNrXHJcbiAgICAgICAgc2V0VGltZW91dChmbiwgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZuKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gRXhlY3V0ZSB3aGVuIERPTSBpcyByZWFkeS5cclxucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgY29uc3QgbWFwQXBpID0gbmV3IExpcEFwaSgpO1xyXG4gICAgLy9jb25zdCBkYXRhc3RvcmUgPSBuZXcgSW5kZXhEQkRhdGFzdG9yZSgpO1xyXG4gICAgY29uc3QgZGF0YXN0b3JlID0gbmV3IE1lbW9yeURhdGFzdG9yZSgpO1xyXG4gICAgLy9jb25zdCBtYXJrZXJMYXllciA9IG5ldyBNYXJrZXJMYXllckNsdXN0ZXIoKTtcclxuXHJcbiAgICBjb25zdCBtb2RlQWxsID0gbmV3IEFsbE1vZGUoKTtcclxuXHJcbiAgICBsZXQgZGlzcGxheU1vZGUgPSAnYWxsJztcclxuXHJcbiAgICBjb25zdCBuYm5UZWNoTWFwID0gbmV3IE5iblRlY2hNYXAoe1xyXG4gICAgICAgIG1hcENvbnRhaW5lcklkOiAnbWFwJyxcclxuICAgICAgICBhcGk6IG1hcEFwaSxcclxuICAgICAgICBkYXRhc3RvcmU6IGRhdGFzdG9yZSxcclxuICAgICAgICAvL21hcmtlckxheWVyOiBtYXJrZXJMYXllcixcclxuICAgICAgICBkZWZhdWx0TW9kZUhhbmRsZXI6IG1vZGVBbGxcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgLy8gQWRkIE1hcmtlckNvbnRyb2xsZXJcclxuICAgIC8qXHJcbiAgICBuYm5UZWNoTWFwLnNldE1hcmtlckZpbHRlcigocGxhY2U6IE5iblBsYWNlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChkaXNwbGF5TW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlICdhbGwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VwZ3JhZGUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlLnByb2dyYW1UeXBlICE9IG51bGw7XHJcbiAgICAgICAgICAgIGNhc2UgJ2VlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZS5lZTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pOyovXHJcblxyXG4gICAgLy8gQWRkIGNvbnRyb2xzXHJcblxyXG4gICAgLy8gRGlzcGxheSBNb2RlIENvbnRyb2xcclxuICAgIGNvbnN0IGNEaXNwbGF5TW9kZSA9IG5ldyBDb250cm9EaXNwbGF5TW9kZSgpO1xyXG4gICAgbmJuVGVjaE1hcC5hZGRDb250cm9sKCdkaXNwbGF5bW9kZScsIGNEaXNwbGF5TW9kZSk7XHJcblxyXG4gICAgLy8gTGVnZW5kIENvbnRyb2xcclxuICAgIGNvbnN0IGNMZWdlbmQgPSBuZXcgQ29udHJvbExlZ2VuZCgpO1xyXG4gICAgY0xlZ2VuZC51cGRhdGVMZWdlbmQobW9kZUFsbC5nZXRMZWdlbmRJdGVtcygpKTtcclxuICAgIG5iblRlY2hNYXAuYWRkQ29udHJvbCgnbGVnZW5kJywgY0xlZ2VuZCk7XHJcblxyXG4gICAgLy8gU2VhcmNoIENvbnRyb2xcclxuXHJcbiAgICAvLyBQcm9ncmVzcyBDb250cm9sXHJcblxyXG4gICAgLy8gQWRkIGV2ZW50IExpc3RlbmVyc1xyXG4gICAgY0Rpc3BsYXlNb2RlLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZS5zdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlICdhbGwnOlxyXG4gICAgICAgICAgICAgICAgbmJuVGVjaE1hcC5zZXRNb2RlSGFuZGxlcihtb2RlQWxsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd1cGdyYWRlJzpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlZSc6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufSkiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTQzOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gPSBzZWxmW1wid2VicGFja0NodW5rXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs2NTFdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXygzMzYpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJmZXRjaFBhZ2UiLCJib3VuZHMiLCJwYWdlIiwicHJvY2VlZCIsIm5vcnRoIiwiZ2V0Tm9ydGgiLCJ0b0ZpeGVkIiwiZWFzdCIsImdldEVhc3QiLCJzb3V0aCIsImdldFNvdXRoIiwid2VzdCIsImdldFdlc3QiLCJFcnJvciIsIk1hdGgiLCJtYXgiLCJOdW1iZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZldGNoIiwibWV0aG9kIiwicmVkaXJlY3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJ0ZXh0IiwicmVzdWx0IiwicGFyc2VkUmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsImNhdGNoIiwibWFwIiwiZGF0YXN0b3JlIiwibW9kZUhhbmRsZXIiLCJwb2ludHMiLCJ0aGlzIiwibWFya2VycyIsIm1heENsdXN0ZXJSYWRpdXMiLCJtYXJrZXJDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlPbk1heFpvb20iLCJkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbSIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJ6b29tVG9Cb3VuZHNPbkNsaWNrIiwicmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHMiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJjaHVua2VkTG9hZGluZyIsImNodW5rSW50ZXJ2YWwiLCJjaHVua0RlbGF5IiwiY2h1bmtQcm9ncmVzcyIsInByb2Nlc3NlZCIsInRvdGFsIiwiZWxhcHNlZCIsImNvbnNvbGUiLCJsb2ciLCJhZGRUbyIsIm9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJnZXRab29tIiwiY2x1c3RlciIsImNvbG9yQXJyYXkiLCJnZXRBbGxDaGlsZE1hcmtlcnMiLCJtYXJrZXIiLCJvcHRpb25zIiwiZmlsbENvbG9yIiwiY29sb3JDb3VudHMiLCJmb3JFYWNoIiwiY29sb3IiLCJjb2xvckFycmF5U29ydGVkIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJhIiwiYiIsImJhY2tncm91bmQiLCJsYXN0Q29sb3VyUGVyY2VudCIsImluZGV4IiwidGhpc0NvbG91clBlcmNlbnQiLCJsZW5ndGgiLCJyYW5kb21JZCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiaHRtbCIsImdldENoaWxkQ291bnQiLCJjbGFzc05hbWUiLCJ6b29tIiwic2V0TW9kZUhhbmRsZXIiLCJ2YWx1ZXMiLCJsYXllciIsInBvaW50Iiwic2V0U3R5bGUiLCJwb2ludENvbG91ciIsInJlZHJhdyIsImVycm9yIiwiZ2V0TGF5ZXJzIiwicmVmcmVzaENsdXN0ZXJzIiwicmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMiLCJtRmlsdGVyIiwiZ2V0RnVsbFBvaW50c1dpdGhpbkJvdW5kcyIsImxhdExuZ1N0cmluZyIsImxhdGxuZyIsInJlbmRlclBvaW50IiwiZmlsdGVyZWRQb2ludHMiLCJmaWx0ZXIiLCJzaG93UG9pbnQiLCJwbGFjZXMiLCJwdXNoIiwicmVtb3ZlTGF5ZXJzIiwiYWRkTGF5ZXJzIiwicCIsInJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzIiwicmVtb3ZlQWxsTWFya2VycyIsImNsZWFyTGF5ZXJzIiwiY2lyY2xlTWFya2VyTGF5ZXIiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInJhZGl1cyIsIndlaWdodCIsIm9wYWNpdHkiLCJmaWxsT3BhY2l0eSIsImJpbmRQb3B1cCIsInJlbmRlclBvcHVwIiwiYXV0b1BhbiIsImF1dG9DbG9zZSIsImJpbmRUb29sdGlwIiwicmVuZGVyVG9vbHRpcCIsInJlbmRlclBvcHVwQ29udGVudCIsInJlbmRvclBvcHVwTXVsdGkiLCJncm91cERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBsYWNlQ29udGFpbmVycyIsImFkZHJlc3MxIiwicGxhY2UiLCJwbGFjZUNvbnRhaW5lciIsInBsYWNlQ29sb3VyIiwiYnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwidHlwZSIsImlubmVySFRNTCIsInBhbmVsIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY3VycmVudGx5QWN0aXZlIiwiY29udGFpbnMiLCJyZW1vdmUiLCJpc0RlYnVnTW9kZSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluY2x1ZGVzIiwicm91bmRCb3VuZHMiLCJjZWlsIiwiZmxvb3IiLCJtYXJrZXJGaWx0ZXIiLCJjb250cm9scyIsIk5iblRlY2hNYXAiLCJERUZBVUxUX09QVElPTlMiLCJhcGkiLCJkZWZhdWx0TW9kZUhhbmRsZXIiLCJtYXBDb250YWluZXJJZCIsInByZWZlckNhbnZhcyIsIm1hcmtlckxheWVyIiwibWFwVGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJzdWJkb21haW5zIiwiY3Jvc3NPcmlnaW4iLCJtYXhab29tIiwic3RhcnRQb3MiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0VmlldyIsImxhdCIsImxuZyIsImNlbnRlciIsImdldENlbnRlciIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJmZXRjaERhdGFGb3JDdXJyZW50VmlldyIsImdldEJveGVzSW5Cb3VuZHMiLCJub3J0aG1vc3QiLCJ3ZXN0bW1vc3QiLCJib3hlcyIsImJveCIsImdldEN1cnJlbnRWaWV3Qm94ZXMiLCJnZXRCb3VuZHMiLCJoaWRlTWFya2Vyc091dHNpZGVDdXJyZW50VmlldyIsIm1hcEJvdW5kcyIsInBhZCIsImRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyIsImF0dGVtcHQiLCJpc1JlYWR5Iiwid2FybiIsInNldFRpbWVvdXQiLCJyZWZyZXNoUG9pbnRzRnJvbVN0b3JlIiwiZmV0Y2hQcm9taXNlcyIsImZldGNoRGF0YSIsImFsbCIsImludGVyc2VjdHMiLCJwcm9jZXNzRmV0Y2hSZXN1bHQiLCJuZXh0IiwibWVzc2FnZSIsInByb2Nlc3NQcm9taXNlIiwic3RvcmVQbGFjZXMiLCJhZGRDb250cm9sIiwia2V5IiwiY29udHJvbCIsImdldENvbnRyb2wiLCJzZXRNYXJrZXJGaWx0ZXIiLCJldmVudEhhbmRsZXJzIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJlbWl0IiwiZGVidWciLCJoYW5kbGVycyIsIm5hbWUiLCJzdGF0ZSIsImdldFN0YXRlIiwiZGlzcGxheU1vZGUiLCJlbENvbnRyb2xEaXYiLCJlbERyb3Bkb3duIiwiYWxsTGFiZWwiLCJhbGxSYWRpbyIsImFsbFRleHQiLCJ1cGdyYWRlTGFiZWwiLCJ1cGdyYWRlUmFkaW8iLCJ1cGdyYWRlVGV4dCIsImVlTGFiZWwiLCJlZVJhZGlvIiwiZWVUZXh0IiwiZ2VuZXJhdGVDb250cm9sRGl2Iiwib25BZGQiLCJnZW5lcmF0ZURyb3Bkb3duIiwiY2hhbmdlTW9kZSIsIm1vZGUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJkcm9wZG93biIsImFsbE9wdGlvbiIsInZhbHVlIiwiaW5uZXJUZXh0IiwiZSIsImxhdExuZ0luZGV4IiwibmJuUGxhY2VTdG9yZSIsInN0b3JlUGxhY2UiLCJsYXRMbmciLCJsb2NpZCIsImdldFBsYWNlIiwiZ2V0UGxhY2VzIiwiZ2V0UG9pbnRzIiwic3BsaXQiLCJsb2NpZHMiLCJnZXRQb2ludHNXaXRoaW5Cb3VuZHMiLCJpc0xhdExuZ1dpdGhpbkJvdW5kcyIsImdldFBsYWNlc0F0TGF0TG5nIiwiZ2V0VGVjaENvbG91ciIsInRlY2hUeXBlIiwiaXNQbGFjZUZUVFAiLCJhbHRSZWFzb25Db2RlIiwibWF0Y2giLCJ0ZWNoQ2hhbmdlU3RhdHVzIiwiaXNQbGFjZUZUVFBBdmFpbCIsImlzUGxhY2VGVFRQU29vbiIsImlzUGxhY2VGVFRQRmFyIiwicmVhc29uQ29kZSIsImlzUGxhY2VGVFRDIiwiaXNGd3RvRlRUQyIsImlzRnd0b0ZUVE4iLCJpc1NhdFRvRlciLCJjb250ZW50IiwiY3JlYXRlIiwiYWRkcmVzczIiLCJwcm9ncmFtVHlwZSIsInRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciIsImVlIiwiY2JkcHJpY2luZyIsInplcm9CdWlsZENvc3QiLCJociIsInByZSIsImxhYmVsIiwiZ2V0TGVnZW5kSXRlbXMiLCJjb2xvdXIiLCJzZXRQb3NpdGlvbiIsInVwZGF0ZUxlZ2VuZCIsIml0ZW1zIiwiaXRlbSIsImNvdW50IiwiZm4iLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciIsIm1hcEFwaSIsIk1lbW9yeURhdGFzdG9yZSIsIm1vZGVBbGwiLCJuYm5UZWNoTWFwIiwiY0Rpc3BsYXlNb2RlIiwiY0xlZ2VuZCIsInJlYWR5U3RhdGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJPIiwiY2h1bmtJZHMiLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiaSIsImZ1bGZpbGxlZCIsImoiLCJldmVyeSIsInNwbGljZSIsInIiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiLCJiYXNlVVJJIiwic2VsZiIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsImJpbmQiLCJuYyIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9