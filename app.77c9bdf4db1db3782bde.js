/*! For license information please see app.77c9bdf4db1db3782bde.js.LICENSE.txt */
(()=>{"use strict";var e,t={609:(e,t,n)=>{const r=function(){function e(){}return e.prototype.fetchPage=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=function(){return!0}),r=this,o=void 0,a=function(){var r,o,i,a;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(s){switch(s.label){case 0:if(r=e.getNorth().toFixed(2),o=e.getEast().toFixed(2),i=e.getSouth().toFixed(2),a=e.getWest().toFixed(2),!n())throw new Error("Proceed function returned false. Stopping fetch.");return t=Math.max(1,Number(t)),"https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(t),[4,new Promise((function(e,n){fetch("https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(t),{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(t){var n=JSON.parse(t);e(n.data)})).catch(n)}))];case 1:return[2,s.sent()]}}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,s)}l((a=a.apply(r,o||[])).next())}));var r,o,i,a},e}();n(623);var o=n(243),i=(n(664),n(687),n(634),n(817)),a=(n(732),n(256),function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}),s=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},l=function(){function e(e){this.name=e}return e.prototype.sub=function(t){return new e("".concat(this.name,".").concat(t))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c()&&console.debug.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e}();function c(){return window.location.href.includes("localhost")||window.location.href.includes("debug=true")}var u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},d=function(){function e(e,t,n){this.logger=new l("MarkerLayerCluster"),this.pointMap=new Map,this.map=e,this.placeStore=n,this.modeHandler=t,this.markers=new o.MarkerClusterGroup({maxClusterRadius:this.markerClusterRadius,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:18,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,iconCreateFunction:this.iconCreateFunction,chunkedLoading:!0,chunkInterval:150,chunkDelay:150,chunkProgress:function(e,t,n){console.log("chunkProgress",{processed:e,total:t,elapsed:n})}}),this.markers.addTo(this.map),this.map.on("zoomend",(function(e){console.log("zoomend",e.target.getZoom())}))}return e.prototype.addPoints=function(e){var t=this,n=this.logger.sub("addPoints"),r=[];e.forEach((function(e){var n=e.lat+","+e.lng,o=t.pointMap.get(n);if(o)o.point=e;else{var i=t.renderPoint(e);r.push(i),t.pointMap.set(n,{layer:i,point:e})}})),n.debug("Adding new layers",r.length),r.length&&this.markers.addLayers(r)},e.prototype.removeAllPoints=function(){this.logger.sub("removeAllPoints").debug("Removing all points",this.pointMap),this.markers.clearLayers(),this.pointMap.clear(),this.logger.sub("removeAllPoints").debug("Removed all points",this.pointMap)},e.prototype.removeAllMarkers=function(){return u(this,void 0,void 0,(function(){return p(this,(function(e){return this.removeAllPoints(),[2]}))}))},e.prototype.markerClusterRadius=function(e){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:return 150;case 14:return 100;default:return 0}},e.prototype.updatePointStyle=function(e,t){t.setStyle({fillColor:this.modeHandler.placeColour(e[0])}),t.setTooltipContent(this.modeHandler.renderTooltip(e)),t.redraw()},e.prototype.setModeHandler=function(e,t){return this.modeHandler=e,this},e.prototype.DEP_refreshMarkersInsideBounds=function(e,t){return u(this,void 0,void 0,(function(){return p(this,(function(e){return[2]}))}))},e.prototype.removeMarkersOutsideBounds=function(e){return u(this,void 0,void 0,(function(){return p(this,(function(e){return[2]}))}))},e.prototype.renderPoint=function(e){var t=this,n=o.circleMarker([e.lat,e.lng],{radius:5,fillColor:e.col?e.col[0]:void 0,color:"#000000",weight:1,opacity:1,fillOpacity:.8});return n.bindPopup((function(n){t.placeStore.getPlaces(e.ids).then((function(e){var r=t.renderPopup(e);n.setPopupContent(r)}));var r=document.createElement("div");return r.innerHTML='<div class="loading">Loading...</div>',r}),{autoPan:!0,autoClose:!1}),n.bindTooltip((function(t){var n=e.add[0];return e.add.length>1&&(n+=" ( + "+(e.add.length-1)+" more)"),n}),{}),n},e.prototype.renderPopup=function(e){return 1==e.length?this.modeHandler.renderPopupContent(e[0]):this.rendorPopupMulti(e)},e.prototype.rendorPopupMulti=function(e){var t,n,r=document.createElement("div"),o=[];e.sort((function(e,t){return e.address1<t.address1?-1:e.address1>t.address1?1:0}));var i=function(e){var t=document.createElement("div"),n=a.modeHandler.placeColour(e),i=document.createElement("button");i.classList.add("accordion"),i.type="button",i.innerHTML='<svg height="15" width="15" style="margin-right:3px">'+'<circle class="circle" cx="7.5" cy="9" r="5" stroke="#000" stroke-width="1" fill="'.concat(n,'" />')+"</svg>"+"<span>".concat(e.address1,"</span>");var s=document.createElement("div");s.classList.add("panel"),s.appendChild(a.modeHandler.renderPopupContent(e)),i.addEventListener("click",(function(){var e=t.classList.contains("active");o.forEach((function(e){e.classList.remove("active")})),e||t.classList.add("active")})),t.appendChild(i),t.appendChild(s),r.appendChild(t),o.push(t)},a=this;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),l=s.next();!l.done;l=s.next())i(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r},e.prototype.iconCreateFunction=function(e){var t=e.getAllChildMarkers().map((function(e){return e.options.fillColor})),n={};t.forEach((function(e){n[e]||(n[e]=0),n[e]++}));var r=Object.keys(n).sort((function(e,t){return n[t]-n[e]})),i="background: conic-gradient(",a=0;r.forEach((function(e,r){0==r&&(i+="\n"+e+" 0%");var o=n[e]/t.length*100;i+=", \n"+e+" "+a+"%",i+=", \n"+e+" "+(a+o)+"%",a+=o})),i+="\n);";var s=Math.random().toString(36).substring(7);return o.divIcon({html:"<style>#cluster_".concat(s,"::before { ").concat(i," }</style> <div id='cluster_").concat(s,"'><span>")+e.getChildCount()+"</span></div>",className:"marker-cluster"})},e}();const h=d;var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},v=function(){function e(t){var n=this;this.MAX_UNFETCHED_BOXES=100,this.logger=new l("NbnTechMap"),this.initialViewSet=!1,this.fetchedBoxes=new Set,this.progressControl=new o.Control({position:"bottomleft"}),this.progressItems={},this.controls={},t=f(f({},e.DEFAULT_OPTIONS),t),this.api=t.api,this.placeStore=t.placestore,this.modeHandler=t.defaultModeHandler,this.map=o.map(t.mapContainerId,{preferCanvas:!0}),this.markerLayer=new h(this.map,this.modeHandler,this.placeStore),this.mapTileLayer=o.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",crossOrigin:!0,minZoom:5,maxZoom:20}),this.mapTileLayer.addTo(this.map),console.log({L:o,Geocoder:i.Ms,geocoder:i.yK});var r=new i.d2.ArcGis({apiKey:"AAPKa97b8a5374db4fa9b0fdd8e55361cba4Z9fEuw3ckAOIFHK1CP_VbzTv3OTeUz3ggrFAzVPzjyn3Q7bQFzbwkDMvDxaJ-JzG",geocodingQueryParams:{countryCode:"AU",category:"Address,LatLong,Neighborhood,District,City,Metro Area"}});this.mapSearch=o.Control.geocoder({position:"topleft",collapsed:!0,defaultMarkGeocode:!1,geocoder:r,suggestMinLength:5,suggestTimeout:1e3}),this.mapSearch.on("markgeocode",(function(e){var t=e.geocode.bbox;n.map.fitBounds(t,{maxZoom:16})})),this.mapSearch.addTo(this.map),this.mapLocate=o.control.locate({position:"topleft",locateOptions:{maxZoom:16},setView:"untilPan",keepCurrentZoomLevel:!0,initialZoomLevel:17,cacheLocation:!0}),this.mapLocate.addTo(this.map),this.map.on("locateactivate",(function(){localStorage.setItem("geolocate","1")})),this.map.on("locatedeactivate",(function(){localStorage.removeItem("geolocate")})),this.setInitialMapView(),this.map.on("moveend",(function(){return g(n,void 0,void 0,(function(){var e,t;return m(this,(function(n){return e=this.map.getCenter(),t=this.map.getZoom(),localStorage.setItem("startpos",JSON.stringify({lat:e.lat,lng:e.lng,zoom:t})),this.pushBrowserHistory(),r.options.geocodingQueryParams&&(r.options.geocodingQueryParams.location="".concat(e.lng,",").concat(e.lat)),this.fetchDataForCurrentView(),[2]}))}))})),this.fetchDataForCurrentView(),window.addEventListener("popstate",(function(){var e=new URLSearchParams(window.location.search),t=e.get("lat"),r=e.get("lng"),o=e.get("zoom");t&&r&&o&&(n.map.setView([Number(t),Number(r)],parseInt(o)),n.initialViewSet=!0)}))}return e.prototype.pushBrowserHistory=function(){var e=this.map.getCenter(),t=this.map.getZoom(),n=new URLSearchParams(window.location.search);n.set("lat",e.lat.toString()),n.set("lng",e.lng.toString()),n.set("zoom",t.toString());var r=window.location.pathname+"?"+n.toString();window.history.pushState({},"",r)},e.prototype.getStartPos=function(){var e=localStorage.getItem("startpos");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},e.prototype.setInitialMapView=function(){var e=this.logger.sub("setInitialMapView");if(this.initialViewSet)e.warn("Initial map view already set");else{var t=new URLSearchParams(window.location.search),n=t.get("lat"),r=t.get("lng"),o=t.get("zoom");if(n&&r&&o)return this.map.setView([Number(n),Number(r)],parseInt(o)),void(this.initialViewSet=!0);var i=localStorage.getItem("geolocate"),a=this.getStartPos();a&&(this.map.setView([a.lat,a.lng],a.zoom),this.initialViewSet=!0),a||(this.map.setView([-26.1772288,133.4170119],10),this.initialViewSet=!0),!i&&a||(this.mapLocate.start(),this.map.setZoom(17),this.initialViewSet=!0),this.initialViewSet||e.error("Could not set initial map view")}},e.prototype.getBoxesInBounds=function(e){for(var t=Math.ceil(50*e.getNorth())/50,n=Math.floor(25*e.getWest())/25,r=[],i=t;i>e.getSouth();i-=.02)for(var a=n;a<e.getEast();a+=.04)r.push([i,a]);return r.map((function(e){var t=e[0],n=e[1],r=t-.02,i=n+.04;return o.latLngBounds([r,n],[t,i])}))},e.prototype.getCurrentViewBoxes=function(){return this.getBoxesInBounds(this.map.getBounds())},e.prototype.hideMarkersOutsideCurrentView=function(){var e=this.map.getBounds().pad(.5);this.markerLayer.removeMarkersOutsideBounds(e)},e.prototype.DEP_displayMarkersInCurrentView=function(e){return void 0===e&&(e=1),g(this,void 0,void 0,(function(){return m(this,(function(e){return[2]}))}))},e.prototype.showZoomInWarning=function(){var e=this;this.zoomInWarningControl||(this.zoomInWarningControl=new o.Control({position:"topright"}),this.zoomInWarningControl.onAdd=function(){var e=o.DomUtil.create("div","info legend");return e.innerHTML='<h4 style="margin:0">Area Too Big!</h4>',e.innerHTML+='<p style="margin:0">Location loading is paused until you zoom in.</p>',e.style.backgroundColor="#ff9800",e.style.opacity="0.8",e.style.padding="10px 20px",e.style.color="#ffffff",e});var t=this.zoomInWarningControl;setTimeout((function(){return e.map.addControl(t)}),1e3)},e.prototype.hideZoomInWarning=function(){this.zoomInWarningControl&&this.map.removeControl(this.zoomInWarningControl)},e.prototype.fetchDataForCurrentView=function(){return g(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,l,c,u,p,d=this;return m(this,(function(h){switch(h.label){case 0:if(e=this.logger.sub("fetchDataForCurrentView"),this.map.getZoom()<11)return e.warn("Zoom level too low. Skipping."),this.showZoomInWarning(),[2];if(t=this.getCurrentViewBoxes(),e.debug("Current view boxes",t),n=t.filter((function(e){return!d.fetchedBoxes.has(e.getCenter().toString())})),0==n.length)return this.hideZoomInWarning(),[2];if(n.length>this.MAX_UNFETCHED_BOXES)return e.warn("Too many boxes to fetch. Skipping."),this.showZoomInWarning(),[2];this.hideZoomInWarning(),r=this.map.getCenter().toString()+this.map.getZoom(),o=this.createProgress(r,n.length,"Fetching sections..."),this.renderProgress(),i=0,h.label=1;case 1:h.trys.push([1,6,7,8]),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),s=a.next(),h.label=2;case 2:return s.done?[3,5]:(l=s.value,this.map.getCenter().toString()+this.map.getZoom()!=r?(e.debug("Map moved. Fetch stopped."),o.text="Map moved. Fetch stopped.",this.updateProgress(r,i,!0),[2]):[4,this.fetchData(l)]);case 3:h.sent(),this.fetchedBoxes.add(l.getCenter().toString()),i++,this.updateProgress(r,i,!1),h.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return c=h.sent(),u={error:c},[3,8];case 7:try{s&&!s.done&&(p=a.return)&&p.call(a)}finally{if(u)throw u.error}return[7];case 8:return this.updateProgress(r,i,!0),e.debug("All boxes fetched"),[2]}}))}))},e.prototype.createProgress=function(e,t,n){return this.progressItems[e]={started:new Date,finished:void 0,complete:!1,progress:0,total:t,text:n},this.progressItems[e]},e.prototype.updateProgress=function(e,t,n){if(!this.progressItems[e])throw new Error("Progress item with key ".concat(e," does not exist"));this.progressItems[e].finished=n?new Date:void 0,this.progressItems[e].complete=n,this.progressItems[e].progress=t,this.renderProgress()},e.prototype.renderProgress=function(){for(var e=this,t=new Date,n=Object.keys(this.progressItems),r=0;r<n.length;r++){var i=n[r];if(this.progressItems[i]){var a=this.progressItems[i].finished;a&&t.getTime()-a.getTime()>5e3&&delete this.progressItems[i]}}0!=Object.keys(this.progressItems).length?(this.progressControl.onAdd=function(){var t=o.DomUtil.create("div","info legend");t.innerHTML='<h4 style="margin:0">Loading...</h4>';for(var n=Object.values(e.progressItems),r=0;r<n.length;r++){var i=n[r];if(!(i.finished&&(new Date).getTime()-i.finished.getTime()>1e4)){var a=i.progress/i.total*100,s=i.complete?"Complete":"".concat(i.progress," of ").concat(i.total);t.innerHTML+='<p style="margin:0">'.concat(i.text," (").concat(s,")</p>"),t.innerHTML+='<progress value="'.concat(a,'" max="100"></progress>')}}return t.style.backgroundColor="#000000",t.style.opacity="0.8",t.style.padding="10px 20px",t.style.color="#ffffff",t},this.map.addControl(this.progressControl),setTimeout((function(){Object.values(e.progressItems).every((function(e){return e.complete}))&&e.hideProgress()}),5e3)):this.hideProgress()},e.prototype.hideProgress=function(){this.map.removeControl(this.progressControl)},e.prototype.fetchData=function(e,t){return void 0===t&&(t=1),g(this,void 0,void 0,(function(){var n,r,o=this;return m(this,(function(i){switch(i.label){case 0:this.logger.sub("fetchData").debug("Fetching Box",e.getCenter().toString(),t),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.api.fetchPage(e,t,(function(){return o.map.getBounds().intersects(e)}))];case 2:return n=i.sent(),this.processFetchResult(n,e),n.next?[4,this.fetchData(e,n.next)]:[3,4];case 3:return[2,i.sent()];case 4:return[2];case 5:return"Page already loaded this session."==(r=i.sent()).message?[2]:(console.error(r),[3,6]);case 6:return[2]}}))}))},e.prototype.processFetchResult=function(e,t){var n=this.logger.sub("processFetchResult");n.debug("Processing Fetch Result",e,t),this.placeStore.storePlaces(e.places);for(var r=new Map,o=0;o<e.places.length;o++){var i=e.places[o];if(this.modeHandler.filter(i)){var a="".concat(i.latitude,",").concat(i.longitude),s=this.modeHandler.placeColour(i),l=r.get(a);l?l.ids.includes(i.locid)||(l.ids.push(i.locid),l.add.push(i.address1),l.col.push(s)):r.set(a,{lat:i.latitude,lng:i.longitude,col:[s],add:[i.address1],ids:[i.locid]})}}n.debug("Adding points to marker layer",r),this.markerLayer.addPoints(r)},e.prototype.DEPR_refreshPointsFromStore=function(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){if(!this.markerLayer)throw new Error("Marker Layer not set");return e||(console.log("Bounds not passed. Using map bounds."),e=this.map.getBounds()),e=function(e){var t=Math.ceil(50*e.getNorth())/50,n=Math.floor(25*e.getWest())/25,r=Math.floor(50*e.getSouth())/50,i=Math.ceil(25*e.getEast())/25;return o.latLngBounds([r,n],[t,i])}(e),[2]}))}))},e.prototype.addControl=function(e,t){if(this.controls[e])throw new Error("Control with key ".concat(e," already exists"));this.controls[e]=t,this.map.addControl(t.getControl()),console.log("Added control",e)},e.prototype.setModeHandler=function(e){var t,n;this.modeHandler=e,null===(t=this.markerLayer)||void 0===t||t.removeAllMarkers(),console.log("Current Fetched Boxes",this.fetchedBoxes),this.fetchedBoxes.clear(),console.log("Fetched Boxes Cleared",this.fetchedBoxes),null===(n=this.markerLayer)||void 0===n||n.setModeHandler(e,this.placeStore),this.fetchDataForCurrentView()},e.DEFAULT_OPTIONS={mapContainerId:"map"},e}();const y=v,b=function(){function e(){this.eventHandlers={},this.control=new o.Control}return e.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)},e.prototype.emit=function(e,t){var n=this;console.debug("Emitting event: ".concat(e),{data:t,handlers:this.eventHandlers[e]}),this.eventHandlers[e]&&this.eventHandlers[e].forEach((function(r){return r({name:e,state:n.getState(),data:t})}))},e.prototype.getControl=function(){return this.control},e}();var w,C=(w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},w(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const T=function(e){function t(){var t=e.call(this)||this;return t.displayMode="all",t.elControlDiv=document.createElement("div"),t.elDropdown=document.createElement("select"),t.allLabel=null,t.allRadio=null,t.allText=null,t.upgradeLabel=null,t.upgradeRadio=null,t.upgradeText=null,t.eeLabel=null,t.eeRadio=null,t.eeText=null,t.generateControlDiv(),t.control.onAdd=function(e){return t.generateDropdown(),t.elControlDiv},t}return C(t,e),t.prototype.getState=function(){return this.displayMode},t.prototype.changeMode=function(e){this.displayMode=e,this.emit("change",e)},t.prototype.generateControlDiv=function(){this.elControlDiv&&console.warn("ControlDiv already exists"),this.elControlDiv.classList.add("info","legend"),this.elControlDiv.style.backgroundColor="#ffffff",this.elControlDiv.style.opacity="0.8",this.elControlDiv.style.padding="5px",this.elControlDiv.style.borderRadius="5px"},t.prototype.generateDropdown=function(){var e=this;this.elDropdown&&console.warn("Dropdown already exists");var t=this.elDropdown;t.classList.add("control-select");var n=document.createElement("option");n.value="all",n.innerText="Show All Locations",t.appendChild(n);var r=document.createElement("option");r.value="upgrade",r.innerText="Tech Upgrades",t.appendChild(r);var o=document.createElement("option");o.value="ee",o.innerText="Enterprise Ethernet",t.appendChild(o),t.addEventListener("change",(function(t){return e.changeMode(t.target.value)})),this.elDropdown=t,this.elControlDiv.appendChild(t)},t}(b);var S="#1D7044",E="#75AD6F",x="#C8E3C5",P="#FFBE00",M="#FF7E01",L="#E3071D",k="#02B9E3",D="#022BE3",F="#6B02E3",H="#888888";function B(e){switch(e){case"FTTP":return S;case"FTTC":return M;case"FTTN":case"FTTB":return L;case"HFC":return P;case"WIRELESS":return k;case"SATELLITE":return F}return H}const I=function(){function e(){}return e.prototype.filter=function(e){return!0},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){return function(e){return"FTTP"===e.techType}(e)?S:function(e){return!(!e.altReasonCode||!e.altReasonCode.match(/^FTTP/)||"Eligible To Order"!==e.techChangeStatus)}(e)?E:function(e){if(e.altReasonCode&&e.altReasonCode.match(/^FTTP/))switch(e.techChangeStatus){case"In Design":case"Build Finalised":case"Planned":case"MDU Complex Eligible To Apply":case"MDU Complex Premises In Build":return!0}return!1}(e)?x:function(e){if(e.altReasonCode&&e.altReasonCode.match(/^FTTP/)&&"Committed"===e.techChangeStatus)return!0}(e)?B(e.techType):function(e){return!("FTTC"!=e.techType||!e.reasonCode||!e.reasonCode.match(/^FTTC/)||"New Tech Connected"!=e.techChangeStatus)}(e)?M:function(e){return"FTTC"==e.techType&&"FTTC_SA"==e.reasonCode&&"FW_CT"==e.altReasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?"#FF7E01":function(e){return"FTTN"==e.techType&&"FTTN_SA"==e.reasonCode&&"FW_CT"==e.altReasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?L:function(e){return"WIRELESS"==e.techType&&"FW_SA"==e.reasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?D:(e.altReasonCode&&"NULL_NA"!=e.altReasonCode&&console.log(e),B(e.techType))},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.locid+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=e.techType&&e.altReasonCode&&"NULL_NA"!=e.altReasonCode?(e.altReasonCode&&e.altReasonCode.match(/^FTTP/),t.innerHTML+="Current: "+e.techType+"<br />",t.innerHTML+="Change: "+e.altReasonCode+"<br />",t.innerHTML+="Status: "+e.techChangeStatus+"<br />",t.innerHTML+="Program: "+e.programType+"<br />",t.innerHTML+="Target Qtr: "+e.targetEligibilityQuarter+"<br />"):(t.innerHTML+="Technology: "+e.techType+"<br />","FTTP"!=e.techType&&(t.innerHTML+="No tech upgrade planned<br />")),t.innerHTML+="<br />",e.ee&&(t.innerHTML+="<b>Enterprise Ethernet</b></br>",t.innerHTML+="Price Zone: "+(e.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",t.innerHTML+="Build Cost: "+(e.zeroBuildCost?"$0":"POA")+"<br />",t.innerHTML+="<br />"),c()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(e,null,2),t.appendChild(n),t.appendChild(r)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"FTTP",colour:S},{label:"FTTP Upgrade",colour:E},{label:"FTTP Upgrade Soon",colour:x},{label:"HFC",colour:P},{label:"FTTC",colour:M},{label:"FTTN/FTTB",colour:L},{label:"FW",colour:k},{label:"FW Upgrade",colour:D},{label:"Satellite",colour:F},{label:"Unknown",colour:H}]},e}();var O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const A=function(e){function t(){var t=e.call(this)||this;return t.elControlDiv=document.createElement("div"),t.control.setPosition("bottomright"),t.elControlDiv.classList.add("info","legend"),t.elControlDiv.style.backgroundColor="#ffffff",t.elControlDiv.style.opacity="0.8",t.elControlDiv.style.padding="5px",t.elControlDiv.style.borderRadius="5px",t.control.onAdd=function(e){return t.elControlDiv},t}return O(t,e),t.prototype.getState=function(){},t.prototype.updateLegend=function(e){var t="";e.forEach((function(e){t+='<svg height="10" width="10"><circle cx="5" cy="5" r="5" fill="'+e.colour+'" stroke="#000000" stroke-width="1" opacity="1" fill-opacity="0.8" /></svg> '+e.label,e.count&&(t+=" ("+e.count+")"),t+="<br>"})),this.elControlDiv.innerHTML=t},t}(b);n.p,n.p,n.p;var R=n(269),U=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},_=function(){function e(){var e=this;this.DB_NAME="nsm-placestore",this.logger=new l("IndexDBPlaceStore"),this.logger.info("Setting up database..."),(0,R.X3)(this.DB_NAME,1,{upgrade:function(e,t,n,r,o){e.objectStoreNames.contains("nbnPlaceStore")||e.createObjectStore("nbnPlaceStore",{keyPath:"locid"})},blocked:function(t,n,r){e.logger.warn("Database blocked!",{currentVersion:t,blockedVersion:n,event:r})},blocking:function(t,n,r){e.logger.warn("Database blocking!",{currentVersion:t,blockedVersion:n,event:r})},terminated:function(){e.logger.warn("Database terminated!")}}).then((function(t){e.db=t,e.logger.info("Database ready!")})).catch((function(t){e.logger.error("Failed to open database: ",t)})).finally((function(){e.logger.info("Database setup complete.")}))}return e.prototype.isReady=function(){return!!this.db},e.prototype.waitUntilReady=function(e){return U(this,void 0,void 0,(function(){var t=this;return N(this,(function(n){return[2,new Promise((function(n,r){var o=Date.now(),i=setInterval((function(){var a=Date.now()-o;t.isReady()?(clearInterval(i),n()):a>1e3*e&&(clearInterval(i),r(new Error("Database not ready after ".concat(e," seconds."))))}),100)}))]}))}))},e.prototype.storePlace=function(e){return U(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.getDb()];case 1:return[4,t.sent().put("nbnPlaceStore",e)];case 2:return t.sent(),[2]}}))}))},e.prototype.storePlaces=function(e){return U(this,void 0,void 0,(function(){var t,n,r;return N(this,(function(o){switch(o.label){case 0:return[4,this.getDb()];case 1:return t=o.sent(),n=t.transaction(["nbnPlaceStore"],"readwrite",{durability:"relaxed"}),r=n.objectStore("nbnPlaceStore"),[4,e.map((function(e){return r.put(e)}))];case 2:return o.sent(),[4,n.done];case 3:return o.sent(),[2]}}))}))},e.prototype.getPlace=function(e){return U(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.getDb()];case 1:return[4,t.sent().get("nbnPlaceStore",e)];case 2:return[2,t.sent()]}}))}))},e.prototype.getPlaces=function(e){return U(this,void 0,void 0,(function(){var t,n,r,o;return N(this,(function(i){switch(i.label){case 0:return[4,this.getDb()];case 1:return t=i.sent(),n=t.transaction(["nbnPlaceStore"],"readonly"),r=n.objectStore("nbnPlaceStore"),[4,Promise.all(e.map((function(e){return r.get(e)})))];case 2:return o=i.sent(),[4,n.done];case 3:return i.sent(),[2,o.filter((function(e){return!!e}))]}}))}))},e.prototype.getDb=function(e){return void 0===e&&(e=5),U(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.waitUntilReady(e)];case 1:if(t.sent(),!this.db)throw new Error("Database not ready.");return[2,this.db]}}))}))},e}(),z="#1D7044",V="#02B9E3",Z="#FFBE00",j="#FF7E01",W="#E3071D",G="#022BE3",Q="#6B02E3",J="#888888";const $=function(){function e(){}return e.prototype.filter=function(e){return"Not Planned"!=e.techChangeStatus&&!!e.techChangeStatus},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){switch(e.techChangeStatus){case"Previous Tech Disconnected":case"New Tech Connected":return z;case"In Design":return j;case"Build Finalised":return Z;case"Committed":return W;case"Eligible To Order":return V;case"MDU Complex Eligible To Apply":return Q;case"MDU Complex Premises In Build":return G}return J},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.locid+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=e.techType&&e.altReasonCode&&"NULL_NA"!=e.altReasonCode?(e.altReasonCode&&e.altReasonCode.match(/^FTTP/),t.innerHTML+="Current: "+e.techType+"<br />",t.innerHTML+="Change: "+e.altReasonCode+"<br />",t.innerHTML+="Status: "+e.techChangeStatus+"<br />",t.innerHTML+="Program: "+e.programType+"<br />",t.innerHTML+="Target Qtr: "+e.targetEligibilityQuarter+"<br />"):(t.innerHTML+="Technology: "+e.techType+"<br />","FTTP"!=e.techType&&(t.innerHTML+="No tech upgrade planned<br />")),t.innerHTML+="<br />",c()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(e,null,2),t.appendChild(n),t.appendChild(r)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"Previous Tech Disconnected",colour:z},{label:"New Tech Connected",colour:z},{label:"Eligible To Order",colour:V},{label:"Build Finalised",colour:Z},{label:"In Design",colour:j},{label:"Committed",colour:W},{label:"MDU Complex Eligible To Apply",colour:Q},{label:"MDU Complex Premises In Build",colour:G},{label:"Unknown",colour:J}]},e}();var X="#1D7044",K="#02B9E3",q="#FF7E01",Y="#E3071D",ee="#888888";const te=function(){function e(){}return e.prototype.filter=function(e){return e.ee},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){return e.cbdpricing&&e.zeroBuildCost?X:e.cbdpricing&&!e.zeroBuildCost?K:!e.cbdpricing&&e.zeroBuildCost?q:e.cbdpricing||e.zeroBuildCost?ee:Y},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.locid+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Enterprise Ethernet</b></br>",t.innerHTML+="Price Zone: "+(e.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",t.innerHTML+="Build Cost: "+(e.zeroBuildCost?"$0":"POA")+"<br />",t.innerHTML+="<br />",c()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(e,null,2),t.appendChild(n),t.appendChild(r)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"EE CBD $0",colour:X},{label:"EE CBD POA",colour:K},{label:"EE Z123 $0",colour:q},{label:"EE Zone 1/2/3 POA",colour:Y},{label:"Unknown",colour:ee}]},e}();var ne,re=new l("index.ts"),oe=function(){try{return process.argv.includes("development")}catch(e){return!1}}();re.debug("isDevelopment",oe),"serviceWorker"in navigator&&!oe&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(e){re.info("SW registered: ",e)})).catch((function(e){re.warn("SW registration failed: ",e)}))})),ne=function(){var e=new r,t=new I,n=new $,o=new te,i=function(e){switch(e||(e=new URLSearchParams(window.location.search).get("mode")||localStorage.getItem("mode")||"all"),e){case"all":default:return t;case"upgrade":return n;case"ee":return o}},a=i(),s=new _,l=new y({mapContainerId:"map",api:e,defaultModeHandler:a,placestore:s}),c=new T;l.addControl("displaymode",c);var u=new A;u.updateLegend(a.getLegendItems()),l.addControl("legend",u),c.on("change",(function(e){var t=i(e.state);if(t){l.setModeHandler(t),u.updateLegend(t.getLegendItems()),localStorage.setItem("mode",e.state);var n=new URL(window.location.href);n.searchParams.set("mode",e.state),window.history.pushState({},"",n.toString())}}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(ne,1):document.addEventListener("DOMContentLoaded",ne)},36:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 stroke=%27%23000%27 stroke-linecap=%27round%27 stroke-width=%271.6%27 viewBox=%270 0 24 24%27%3E%3Cdefs/%3E%3Cg%3E%3Cpath stroke-opacity=%27.1%27 d=%27M14 8.4l3-5%27/%3E%3Cpath stroke-opacity=%27.2%27 d=%27M15.6 10l5-3%27/%3E%3Cpath stroke-opacity=%27.3%27 d=%27M16.2 12H22%27/%3E%3Cpath stroke-opacity=%27.4%27 d=%27M15.6 14l5 3m-6.5-1.4l2.9 5%27/%3E%3Cpath stroke-opacity=%27.5%27 d=%27M12 16.2V22m-2-6.4l-3 5%27/%3E%3Cpath stroke-opacity=%27.6%27 d=%27M8.4 14l-5 3%27/%3E%3Cpath stroke-opacity=%27.7%27 d=%27M7.8 12H2%27/%3E%3Cpath stroke-opacity=%27.8%27 d=%27M8.4 10l-5-3%27/%3E%3Cpath stroke-opacity=%27.9%27 d=%27M10 8.4l-3-5%27/%3E%3Cpath d=%27M12 7.8V2%27/%3E%3CanimateTransform attributeName=%27transform%27 calcMode=%27discrete%27 dur=%271s%27 repeatCount=%27indefinite%27 type=%27rotate%27 values=%270 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12%27/%3E%3C/g%3E%3C/svg%3E"},585:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Cpath d=%27M12.2 13l3.4 6.6c.6 1.1 2.5-.4 2-1.2l-4-6.2z%27/%3E%3Ccircle cx=%2710.8%27 cy=%278.9%27 r=%273.9%27 fill=%27none%27 stroke=%27%23000%27 stroke-width=%271.5%27/%3E%3C/svg%3E"},539:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M304 48a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48 368a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm208-208a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM96 256a48 48 0 1 0-96 0 48 48 0 0 0 96 0zm13 99a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm294 0a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM109 61a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"/></svg>'},141:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},478:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%28252, 132, 40%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},38:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%2832, 116, 182%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!e;)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=document.baseURI||self.location.href;var e={143:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,s,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var o=r.O(void 0,[578],(()=>r(609)));o=r.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDdEQsSUFBSUosS0FBWThDLEVBQ1ovQyxFQUFvQnVCLEVBQUV3QixFQUFhOUMsS0FDckNELEVBQW9CUSxFQUFFUCxHQUFZOEMsRUFBWTlDLElBR2hELEdBQUcrQyxFQUFTLElBQUlsYyxFQUFTa2MsRUFBUWhELEVBQ2xDLENBRUEsSUFERzhDLEdBQTRCQSxFQUEyQjViLEdBQ3JEK1AsRUFBSXlKLEVBQVM3VixPQUFRb00sSUFDekIyTCxFQUFVbEMsRUFBU3pKLEdBQ2hCK0ksRUFBb0J1QixFQUFFb0IsRUFBaUJDLElBQVlELEVBQWdCQyxJQUNyRUQsRUFBZ0JDLEdBQVMsS0FFMUJELEVBQWdCQyxHQUFXLEVBRTVCLE9BQU81QyxFQUFvQlMsRUFBRTNaLEVBQU8sRUFHakNvYyxFQUFxQlIsS0FBbUIsYUFBSUEsS0FBbUIsY0FBSyxHQUN4RVEsRUFBbUJoWixRQUFRMlksRUFBcUJNLEtBQUssS0FBTSxJQUMzREQsRUFBbUJ4WSxLQUFPbVksRUFBcUJNLEtBQUssS0FBTUQsRUFBbUJ4WSxLQUFLeVksS0FBS0QsUUNoRHZGbEQsRUFBb0JvRCxRQUFLaFgsRUNHekIsSUFBSWlYLEVBQXNCckQsRUFBb0JTLE9BQUVyVSxFQUFXLENBQUMsTUFBTSxJQUFPNFQsRUFBb0IsT0FDN0ZxRCxFQUFzQnJELEVBQW9CUyxFQUFFNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2xpcF9hcGkuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9tYXJrZXJsYXllci9tYXJrZXJsYXllci5jbHVzdGVyLmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9uYm5fdGVjaF9tYXAuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xzL2NvbnRyb2wuYWJzdHJhY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xzL2NvbnRyb2xfZGlzcGxheV9tb2RlLmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2Rlcy9tb2RlLmFsbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9sZWdlbmQuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsYWNlc3RvcmUvaW5kZXhkYi5wbGFjZXN0b3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2Rlcy90ZWNodXBncmFkZS5tb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2Rlcy9lZS5tb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiaW1wb3J0IElBcGkgZnJvbSBcIi4uL2ludGVyZmFjZXMvYXBpLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBOYm5QbGFjZUFwaVJlc3BvbnNlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCB7IGlzRGVidWdNb2RlIH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXBBcGkgaW1wbGVtZW50cyBJQXBpIHtcclxuXHJcbiAgICBhc3luYyBmZXRjaFBhZ2UoXHJcbiAgICAgICAgYm91bmRzOiBMLkxhdExuZ0JvdW5kcyxcclxuICAgICAgICBwYWdlOiBudW1iZXIgPSAxLFxyXG4gICAgICAgIHByb2NlZWQ6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB0cnVlLFxyXG4gICAgKSA6IFByb21pc2U8TmJuUGxhY2VBcGlSZXNwb25zZT5cclxuICAgIHtcclxuXHJcbiAgICAgICAgY29uc3Qgbm9ydGggPSBib3VuZHMuZ2V0Tm9ydGgoKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIGNvbnN0IGVhc3QgPSBib3VuZHMuZ2V0RWFzdCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3Qgc291dGggPSBib3VuZHMuZ2V0U291dGgoKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIGNvbnN0IHdlc3QgPSBib3VuZHMuZ2V0V2VzdCgpLnRvRml4ZWQoMik7XHJcblxyXG4gICAgICAgIGlmICghcHJvY2VlZCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvY2VlZCBmdW5jdGlvbiByZXR1cm5lZCBmYWxzZS4gU3RvcHBpbmcgZmV0Y2guJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHBhZ2UgPSBNYXRoLm1heCgxLCBOdW1iZXIocGFnZSkpO1xyXG5cclxuICAgICAgICBjb25zdCBwYWdlVXJsID0gYGh0dHBzOi8vYXBpLmxpcC5uZXQuYXUvbmJuLWJ1bGsvbWFwLyR7bm9ydGh9LyR7ZWFzdH0vJHtzb3V0aH0vJHt3ZXN0fT9wYWdlPSR7cGFnZX1gO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBwYWdlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkIHRoaXMgc2Vzc2lvbi5cclxuICAgICAgICAvL2NvbnN0IGNhY2hlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShwYWdlVXJsKTtcclxuICAgICAgICAvL2NvbnN0IGNhY2hlZFRpbWUgPSBjYWNoZSA/IG5ldyBEYXRlKGNhY2hlKSA6IG51bGw7XHJcbiAgICAgICAgLy9pZiAoY2FjaGVkVGltZSAmJiBjYWNoZWRUaW1lLmdldFRpbWUoKSA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMTAwMCAqIDYwICogNjAgKiAyNCkge1xyXG4gICAgICAgIC8vICAgIHRocm93IG5ldyBFcnJvcignUGFnZSBhbHJlYWR5IGxvYWRlZCB0aGlzIHNlc3Npb24uJyk7XHJcbiAgICAgICAgLy99XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGZldGNoKGBodHRwczovL2FwaS5saXAubmV0LmF1L25ibi1idWxrL21hcC8ke25vcnRofS8ke2Vhc3R9LyR7c291dGh9LyR7d2VzdH0/cGFnZT0ke3BhZ2V9YCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxyXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpIGFzIHsgZGF0YTogTmJuUGxhY2VBcGlSZXNwb25zZX07XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHBhcnNlZFJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShwYWdlVXJsLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBOYm5QbGFjZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XHJcblxyXG4gICAgc3ViKG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBuZXcgTG9nZ2VyKGAke3RoaXMubmFtZX0uJHtuYW1lfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbmFtZTogc3RyaW5nKSB7XHJcbiAgICB9XHJcblxyXG4gICAgZXJyb3IoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHdhcm4oLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVidWcoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5mbyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbyhgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2coLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNodW5rQXJyYXk8VD4oYXJyYXk6IFRbXSwgc2l6ZTogbnVtYmVyKTogVFtdW10ge1xyXG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xyXG4gICAgd2hpbGUgKGFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIHJlc3VsdHMucHVzaChhcnJheS5zcGxpY2UoMCwgc2l6ZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RlYnVnTW9kZSgpIHtcclxuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xyXG4gICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdsb2NhbGhvc3QnKVxyXG4gICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdkZWJ1Zz10cnVlJylcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUUCc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUTihwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZUVE4nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUhGQyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0hGQyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUQihwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZUVEInO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVEMocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZihwbGFjZS50ZWNoVHlwZSA9PSBcIkZUVENcIlxyXG4gICAgICAgICYmIHBsYWNlLnJlYXNvbkNvZGUgJiYgcGxhY2UucmVhc29uQ29kZS5tYXRjaCgvXkZUVEMvKVxyXG4gICAgICAgICYmIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ05ldyBUZWNoIENvbm5lY3RlZCdcclxuICAgICkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZpeGVkV2lyZWxlc3MocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdGaXhlZCBXaXJlbGVzcyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlU2F0ZWxsaXRlKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnU2F0ZWxsaXRlJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQQXZhaWwocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBTb29uKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6XHJcbiAgICAgICAgICAgIGNhc2UgJ0J1aWxkIEZpbmFsaXNlZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYW5uZWQnOlxyXG4gICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IFByZW1pc2VzIEluIEJ1aWxkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQRmFyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbW1pdHRlZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z3dG9GVFROKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09IFwiRlRUTlwiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZUVE5fU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gXCJGV19DVFwiXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnRWxpZ2libGUgVG8gT3JkZXInXHJcbiAgICA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z3dG9GVFRDKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09IFwiRlRUQ1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZUVENfU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gXCJGV19DVFwiXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnRWxpZ2libGUgVG8gT3JkZXInXHJcbiAgICA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1NhdFRvRlcocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJXSVJFTEVTU1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZXX1NBXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG4iLCJpbXBvcnQgSURhdGFzdG9yZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9kYXRhc3RvcmUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBJTWFya2VyTGF5ZXIgZnJvbSBcIi4uL2ludGVyZmFjZXMvbWFya2VybGF5ZXIuaW50ZXJmYWNlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBMIGZyb20gXCJsZWFmbGV0XCI7XHJcbmltcG9ydCAnbGVhZmxldC5tYXJrZXJjbHVzdGVyJztcclxuaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvZGlzdC9NYXJrZXJDbHVzdGVyLmNzcyc7XHJcblxyXG5pbXBvcnQgeyBOYm5QbGFjZSwgUG9pbnRBbmRMb2NpZHMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuXHJcbi8vIENvbnN0YW50IENvbG91cnNcclxuY29uc3QgY29sb3VyRlRUUCBcdFx0PSAnIzFENzA0NCc7XHJcbmNvbnN0IGNvbG91ckZUVFBBdmFpbCAgID0gJyM3NUFENkYnO1xyXG5jb25zdCBjb2xvdXJGVFRQU29vbiAgICA9ICcjQzhFM0M1JztcclxuY29uc3QgY29sb3VySEZDIFx0XHQ9ICcjRkZCRTAwJztcclxuY29uc3QgY29sb3VyRlRUQyBcdFx0PSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVENBdmFpbCAgID0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFROQiBcdFx0PSAnI0UzMDcxRCc7XHJcbmNvbnN0IGNvbG91ckZXIFx0XHQgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IGNvbG91ckZXQXZhaWwgXHQ9ICcjMDIyQkUzJztcclxuY29uc3QgY29sb3VyU2F0IFx0ICAgID0gJyM2QjAyRTMnO1xyXG5cclxuY29uc3QgY29sb3VyRUVfQ0JEX1pCQyAgPSAnIzFENzA0NCc7XHJcbmNvbnN0IGNvbG91ckVFX0NCRF9CQyAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJFRV9aMTIzX1pCQyA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRUVfWjEyM19CQyAgPSAnI0UzMDcxRCc7XHJcblxyXG5jb25zdCBDT0xfVEVDSF9DT01QTEVURSAgICAgICAgID0gJyMxRDcwNDQnO1xyXG5jb25zdCBDT0xfVEVDSF9BVkFJTCAgICAgICAgICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBDT0xfVEVDSF9CVUlMREZJTkFMSVNFRCAgID0gJyNGRkJFMDAnO1xyXG5jb25zdCBDT0xfVEVDSF9ERVNJR04gICAgICAgICAgID0gJyNGRjdFMDEnO1xyXG5jb25zdCBDT0xfVEVDSF9DT01NSVRURUQgICAgICAgID0gJyNFMzA3MUQnO1xyXG5cclxuY29uc3QgQ09MX1RFQ0hfTURVX0lOQlVJTEQgICAgICA9ICcjMDIyQkUzJztcclxuY29uc3QgQ09MX1RFQ0hfTURVX0VMSUdJQkxFICAgICA9ICcjNkIwMkUzJztcclxuXHJcbmNvbnN0IGNvbG91clVua25vd24gICAgICA9ICcjODg4ODg4JztcclxuXHJcbmltcG9ydCBJTW9kZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tb2RlLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgSVBsYWNlU3RvcmUgZnJvbSBcIi4uL2ludGVyZmFjZXMvcGxhY2VzdG9yZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXJMYXllckNsdXN0ZXIgaW1wbGVtZW50cyBJTWFya2VyTGF5ZXIge1xyXG5cclxuICAgIHByaXZhdGUgbG9nZ2VyID0gbmV3IExvZ2dlcignTWFya2VyTGF5ZXJDbHVzdGVyJyk7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXA6IEwuTWFwO1xyXG4gICAgcHJpdmF0ZSBwbGFjZVN0b3JlOiBJUGxhY2VTdG9yZTtcclxuICAgIHByaXZhdGUgbW9kZUhhbmRsZXI6IElNb2RlO1xyXG5cclxuICAgIHByaXZhdGUgbWFya2VyczogTC5NYXJrZXJDbHVzdGVyR3JvdXA7XHJcblxyXG4gICAgcHJpdmF0ZSBwb2ludE1hcDogTWFwPHN0cmluZywge1xyXG4gICAgICAgIGxheWVyOiBMLkNpcmNsZU1hcmtlcixcclxuICAgICAgICBwb2ludDogUG9pbnRBbmRMb2NpZHNcclxuICAgIH0+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1hcDogTC5NYXAsIG1vZGVIYW5kbGVyOiBJTW9kZSwgcGxhY2VTdG9yZTogSVBsYWNlU3RvcmUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgICAgdGhpcy5wbGFjZVN0b3JlID0gcGxhY2VTdG9yZTtcclxuICAgICAgICB0aGlzLm1vZGVIYW5kbGVyID0gbW9kZUhhbmRsZXI7XHJcblxyXG4gICAgICAgIHRoaXMubWFya2VycyA9IG5ldyBMLk1hcmtlckNsdXN0ZXJHcm91cCh7XHJcbiAgICAgICAgICAgIG1heENsdXN0ZXJSYWRpdXM6IHRoaXMubWFya2VyQ2x1c3RlclJhZGl1cyxcclxuICAgICAgICAgICAgc3BpZGVyZnlPbk1heFpvb206IGZhbHNlLFxyXG4gICAgICAgICAgICBkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbTogMTgsXHJcbiAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IHRydWUsXHJcbiAgICAgICAgICAgIHpvb21Ub0JvdW5kc09uQ2xpY2s6IHRydWUsXHJcbiAgICAgICAgICAgIHJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzOiB0cnVlLFxyXG4gICAgICAgICAgICBpY29uQ3JlYXRlRnVuY3Rpb246IHRoaXMuaWNvbkNyZWF0ZUZ1bmN0aW9uLFxyXG4gICAgICAgICAgICBjaHVua2VkTG9hZGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgY2h1bmtJbnRlcnZhbDogMTUwLFxyXG4gICAgICAgICAgICBjaHVua0RlbGF5OiAxNTAsXHJcbiAgICAgICAgICAgIGNodW5rUHJvZ3Jlc3M6IChwcm9jZXNzZWQsIHRvdGFsLCBlbGFwc2VkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2h1bmtQcm9ncmVzcycsIHsgcHJvY2Vzc2VkLCB0b3RhbCwgZWxhcHNlZCB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJzLmFkZFRvKHRoaXMubWFwKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAub24oJ3pvb21lbmQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3pvb21lbmQnLCBldmVudC50YXJnZXQuZ2V0Wm9vbSgpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgcG9pbnRzIHRvIHRoZSBtYXBcclxuICAgICAqIEBwYXJhbSBwb2ludHMgXHJcbiAgICAgKi9cclxuICAgIGFkZFBvaW50cyhcclxuICAgICAgICBwb2ludHM6IE1hcDxzdHJpbmcsIFBvaW50QW5kTG9jaWRzPlxyXG4gICAgKSA6IHZvaWRcclxuICAgIHtcclxuXHJcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuc3ViKCdhZGRQb2ludHMnKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZXdMYXllcnM6IEwuQ2lyY2xlTWFya2VyW10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBwb2ludHMgdG8gdGhlIHBvaW50IHN0b3JlXHJcbiAgICAgICAgcG9pbnRzLmZvckVhY2goKHBvaW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhdExuZ1N0cmluZyA9IHBvaW50LmxhdCArICcsJyArIHBvaW50LmxuZztcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRNYXAgPSB0aGlzLnBvaW50TWFwLmdldChsYXRMbmdTdHJpbmcpO1xyXG4gICAgICAgICAgICBpZiAoIXBvaW50TWFwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdMYXllciA9IHRoaXMucmVuZGVyUG9pbnQocG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgbmV3TGF5ZXJzLnB1c2gobmV3TGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludE1hcC5zZXQobGF0TG5nU3RyaW5nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IG5ld0xheWVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludE1hcC5wb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBhbGwgdGhlIGxheWVycyB0byB0aGUgbWFwXHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdBZGRpbmcgbmV3IGxheWVycycsIG5ld0xheWVycy5sZW5ndGgpO1xyXG4gICAgICAgIGlmIChuZXdMYXllcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5hZGRMYXllcnMobmV3TGF5ZXJzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHBvaW50cyBmcm9tIHRoZSBtYXBcclxuICAgICAqIEBwYXJhbSBwb2ludHMgXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUFsbFBvaW50cygpIDogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnN1YigncmVtb3ZlQWxsUG9pbnRzJykuZGVidWcoJ1JlbW92aW5nIGFsbCBwb2ludHMnLCB0aGlzLnBvaW50TWFwKTtcclxuICAgICAgICB0aGlzLm1hcmtlcnMuY2xlYXJMYXllcnMoKTtcclxuICAgICAgICB0aGlzLnBvaW50TWFwLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuc3ViKCdyZW1vdmVBbGxQb2ludHMnKS5kZWJ1ZygnUmVtb3ZlZCBhbGwgcG9pbnRzJywgdGhpcy5wb2ludE1hcCk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBhc3luYyByZW1vdmVBbGxNYXJrZXJzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsUG9pbnRzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG1hcmtlckNsdXN0ZXJSYWRpdXMoem9vbTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3dpdGNoKHpvb20pIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICBjYXNlIDEzOiByZXR1cm4gMTUwO1xyXG4gICAgICAgICAgICBjYXNlIDE0OiByZXR1cm4gMTAwO1xyXG4gICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVQb2ludFN0eWxlKHBsYWNlczogTmJuUGxhY2VbXSwgbGF5ZXI6IEwuQ2lyY2xlTWFya2VyKSB7XHJcbiAgICAgICAgbGF5ZXIuc2V0U3R5bGUoe1xyXG4gICAgICAgICAgICBmaWxsQ29sb3I6IHRoaXMubW9kZUhhbmRsZXIucGxhY2VDb2xvdXIocGxhY2VzWzBdKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBsYXllci5zZXRUb29sdGlwQ29udGVudCh0aGlzLm1vZGVIYW5kbGVyLnJlbmRlclRvb2x0aXAocGxhY2VzKSk7XHJcbiAgICAgICAgbGF5ZXIucmVkcmF3KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIG1vZGUgaGFuZGxlclxyXG4gICAgICogIC0gU3RvcmUgdGhlIG1vZGUgaGFuZGxlclxyXG4gICAgICogIC0gVXBkYXRlIHRoZSBjb2xvdXIgb2YgdGhlIHBvaW50c1xyXG4gICAgICogQHBhcmFtIG1vZGVIYW5kbGVyIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHNldE1vZGVIYW5kbGVyKG1vZGVIYW5kbGVyOiBJTW9kZSwgcGxhY2VzdG9yZTogSVBsYWNlU3RvcmUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG1vZGVIYW5kbGVyO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgdGhpcy5wb2ludE1hcC5mb3JFYWNoKCh7IGxheWVyLCBwb2ludCB9KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHBsYWNlc1xyXG4gICAgICAgICAgICBjb25zdCBnZXRQbGFjZXMgPSBwbGFjZXN0b3JlLmdldFBsYWNlcyhwb2ludC5pZHMpO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwb2ludCBzdHlsZVxyXG4gICAgICAgICAgICBnZXRQbGFjZXMudGhlbigocGxhY2VzKSA9PiB0aGlzLnVwZGF0ZVBvaW50U3R5bGUocGxhY2VzLCBsYXllcikpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFya2VycyAmJiB0aGlzLm1hcmtlcnMuZ2V0TGF5ZXJzKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5yZWZyZXNoQ2x1c3RlcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBERVBfcmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcywgbUZpbHRlcj86IChwbGFjZTogTmJuUGxhY2UpID0+IGJvb2xlYW4pIHtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAoIXRoaXMuZGF0YXN0b3JlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YXN0b3JlIG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1BvaW50cyA9IGF3YWl0IHRoaXMuZGF0YXN0b3JlLmdldEZ1bGxQb2ludHNXaXRoaW5Cb3VuZHMoYm91bmRzKTtcclxuICAgICAgICBcclxuICAgICAgICBuZXdQb2ludHNcclxuICAgICAgICAgICAgLmZvckVhY2gocG9pbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGF0TG5nU3RyaW5nID0gcG9pbnQubGF0bG5nO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBvaW50U3RvcmVbbGF0TG5nU3RyaW5nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRTdG9yZVtsYXRMbmdTdHJpbmddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogdGhpcy5yZW5kZXJQb2ludChwb2ludCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10ucG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGlmIChtRmlsdGVyKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMYXllcnM6IEwuTGF5ZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRQb2ludHMgPSBPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoe2xheWVyLCBwb2ludH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG93UG9pbnQgPSBwb2ludC5wbGFjZXMuZmlsdGVyKG1GaWx0ZXIpLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93UG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvd1BvaW50O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVtb3ZlTGF5ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5yZW1vdmVMYXllcnMocmVtb3ZlTGF5ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5hZGRMYXllcnMoZmlsdGVyZWRQb2ludHMubWFwKHAgPT4gcC5sYXllcikpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnM/LmFkZExheWVycyhPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKS5tYXAocCA9PiBwLmxheWVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcykge1xyXG4gICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgaGVyZSwgYXMgdGhlIG1hcmtlciBjbHVzdGVyIHBsdWdpbiBoYW5kbGVzIHRoaXMgZm9yIHVzXHJcbiAgICAgICAgLy9jb25zdCByZW1vdmVNYXJrZXJzID0gdGhpcy5tYXJrZXJzLmdldExheWVycygpXHJcbiAgICAgICAgLy8gICAgLmZpbHRlcigobGF5ZXI6IEwuQ2lyY2xlTWFya2VyKSA9PiAhYm91bmRzLmNvbnRhaW5zKGxheWVyLmdldExhdExuZygpKSlcclxuICAgICAgICAvLztcclxuICAgICAgICAvL3RoaXMubWFya2Vycy5yZW1vdmVMYXllcnMocmVtb3ZlTWFya2Vycyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9pbnQocG9pbnQ6IFBvaW50QW5kTG9jaWRzKTogTC5DaXJjbGVNYXJrZXIge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBjb25zdCBjaXJjbGVNYXJrZXJMYXllciA9IEwuY2lyY2xlTWFya2VyKFsgcG9pbnQubGF0LCBwb2ludC5sbmcgXSwge1xyXG4gICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogcG9pbnQuY29sID8gcG9pbnQuY29sWzBdIDogdW5kZWZpbmVkLCAvL3RoaXMuZ2V0UGxhY2VDb2xvdXIocGxhY2UpLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFBvcHVwKFxyXG4gICAgICAgICAgICAobGF5ZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBc3luYyByZW5kZXIgcG9wdXAgZnJvbSBwbGFjZVN0b3JlIGRhdGFcclxuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VTdG9yZS5nZXRQbGFjZXMocG9pbnQuaWRzKS50aGVuKChwbGFjZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3B1cCA9IHRoaXMucmVuZGVyUG9wdXAocGxhY2VzKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5zZXRQb3B1cENvbnRlbnQocG9wdXApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGxvYWRpbmcgcG9wdXAgY29udGVudFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ1BvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBsb2FkaW5nUG9wdXAuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJsb2FkaW5nXCI+TG9hZGluZy4uLjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRpbmdQb3B1cDtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGF1dG9QYW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFRvb2x0aXAoXHJcbiAgICAgICAgICAgIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gcG9pbnQuYWRkWzBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50LmFkZC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgKz0gJyAoICsgJyArIChwb2ludC5hZGQubGVuZ3RoIC0gMSkgKyAnIG1vcmUpJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge31cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjaXJjbGVNYXJrZXJMYXllcjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2VzWzBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRvclBvcHVwTXVsdGkocGxhY2VzKTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbmRvclBvcHVwTXVsdGkocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBncm91cERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lcnM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgcGxhY2VzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPCBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPiBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcGxhY2Ugb2YgcGxhY2VzKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb2xvdXIgPSB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBBY2NvcmRpb24gQnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWNjb3JkaW9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPHN2ZyBoZWlnaHQ9XCIxNVwiIHdpZHRoPVwiMTVcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDozcHhcIj5gXHJcbiAgICAgICAgICAgICAgICArIGA8Y2lyY2xlIGNsYXNzPVwiY2lyY2xlXCIgY3g9XCI3LjVcIiBjeT1cIjlcIiByPVwiNVwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIiR7cGxhY2VDb2xvdXJ9XCIgLz5gXHJcbiAgICAgICAgICAgICAgICArIGA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICArIGA8c3Bhbj4ke3BsYWNlLmFkZHJlc3MxfTwvc3Bhbj5gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgUGFuZWxcclxuICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncGFuZWwnKTtcclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2UpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBFdmVudHNcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRseUFjdGl2ZSA9IHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgYnV0dG9ucyBhbmQgcGFuZWxzXHJcbiAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lcnMuZm9yRWFjaCgocGxhY2VDb250YWluZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudGx5QWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBET01cclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xyXG4gICAgICAgICAgICBncm91cERpdi5hcHBlbmRDaGlsZChwbGFjZUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVycy5wdXNoKHBsYWNlQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIGdldFBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG5cclxuICAgICAgICAvKiogRUUgRGlzcGxheSBNb2RlICovXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodGhpcy5jb250cm9scy5kaXNwbGF5TW9kZS5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmIHBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvdXJFRV9DQkRfWkJDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfQ0JEX0JDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19aQkM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCFwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19CQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHMuZGlzcGxheU1vZGUuZGlzcGxheU1vZGUgPT0gJ3VwZ3JhZGUnKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1ByZXZpb3VzIFRlY2ggRGlzY29ubmVjdGVkJzogcmV0dXJuIENPTF9URUNIX0NPTVBMRVRFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTmV3IFRlY2ggQ29ubmVjdGVkJyA6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6IHJldHVybiBDT0xfVEVDSF9ERVNJR047XHJcbiAgICAgICAgICAgICAgICBjYXNlICdCdWlsZCBGaW5hbGlzZWQnOiByZXR1cm4gQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb21taXR0ZWQnOiByZXR1cm4gQ09MX1RFQ0hfQ09NTUlUVEVEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOiByZXR1cm4gQ09MX1RFQ0hfQVZBSUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6IHJldHVybiBDT0xfVEVDSF9NRFVfRUxJR0lCTEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBQcmVtaXNlcyBJbiBCdWlsZCc6IHJldHVybiBDT0xfVEVDSF9NRFVfSU5CVUlMRDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbiAgICAgICAgfSovXHJcbi8qXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEF2YWlsKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUEF2YWlsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNQbGFjZUZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRld0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgIT0gJ05VTExfTkEnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgfVxyXG4qL1xyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgdGhlIGljb24gZm9yIHRoZSBjbHVzdGVyXHJcbiAgICAgKiBAcGFyYW0gY2x1c3RlciBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGljb25DcmVhdGVGdW5jdGlvbihjbHVzdGVyOiBMLk1hcmtlckNsdXN0ZXIpIDogTC5EaXZJY29uXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheSA9IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkubWFwKChtYXJrZXIpID0+IChtYXJrZXIgYXMgYW55KS5vcHRpb25zLmZpbGxDb2xvcilcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JDb3VudHM6IHtbY29sb3I6IHN0cmluZ106IG51bWJlcn0gPSB7fTtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheS5mb3JFYWNoKChjb2xvcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNvbG9yQ291bnRzW2NvbG9yXSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckNvdW50c1tjb2xvcl0rKztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheVNvcnRlZCA9IE9iamVjdC5rZXlzKGNvbG9yQ291bnRzKVxyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gY29sb3JDb3VudHNbYl0gLSBjb2xvckNvdW50c1thXSlcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQ6IGNvbmljLWdyYWRpZW50KCdcclxuXHJcbiAgICAgICAgbGV0IGxhc3RDb2xvdXJQZXJjZW50ID0gMDtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheVNvcnRlZC5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQgKz0gXCJcXG5cIiArIGNvbG9yICsgJyAwJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdGhpc0NvbG91clBlcmNlbnQgPSAoY29sb3JDb3VudHNbY29sb3JdIC8gY29sb3JBcnJheS5sZW5ndGggKiAxMDApO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kICs9IFwiLCBcXG5cIiArIGNvbG9yICsgJyAnICsgKGxhc3RDb2xvdXJQZXJjZW50KSArICclJztcclxuICAgICAgICAgICAgYmFja2dyb3VuZCArPSBcIiwgXFxuXCIgKyBjb2xvciArICcgJyArIChsYXN0Q29sb3VyUGVyY2VudCt0aGlzQ29sb3VyUGVyY2VudCkgKyAnJSc7XHJcbiAgICAgICAgICAgIGxhc3RDb2xvdXJQZXJjZW50ICs9IHRoaXNDb2xvdXJQZXJjZW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrZ3JvdW5kICs9IFwiXFxuKTtcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9tSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XHJcblxyXG4gICAgICAgIHJldHVybiBMLmRpdkljb24oe1xyXG4gICAgICAgICAgICBodG1sOiBgPHN0eWxlPiNjbHVzdGVyXyR7cmFuZG9tSWR9OjpiZWZvcmUgeyAke2JhY2tncm91bmR9IH08L3N0eWxlPiA8ZGl2IGlkPSdjbHVzdGVyXyR7cmFuZG9tSWR9Jz48c3Bhbj5gICsgY2x1c3Rlci5nZXRDaGlsZENvdW50KCkgKyAnPC9zcGFuPjwvZGl2PicsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1jbHVzdGVyJyxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufSIsIlxyXG5pbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcblxyXG5pbXBvcnQgJ2xlYWZsZXQubG9jYXRlY29udHJvbC9kaXN0L0wuQ29udHJvbC5Mb2NhdGUubWluLmNzcydcclxuaW1wb3J0ICdsZWFmbGV0LmxvY2F0ZWNvbnRyb2wnO1xyXG5cclxuaW1wb3J0ICdsZWFmbGV0LWNvbnRyb2wtZ2VvY29kZXIvZGlzdC9Db250cm9sLkdlb2NvZGVyLmNzcyc7XHJcbmltcG9ydCB7IEdlb2NvZGVyLCBnZW9jb2RlciwgZ2VvY29kZXJzIH0gZnJvbSAnbGVhZmxldC1jb250cm9sLWdlb2NvZGVyJztcclxuXHJcbmltcG9ydCB7IE5iblBsYWNlLCBOYm5QbGFjZUFwaVJlc3BvbnNlLCBOYm5UZWNoTWFwT3B0aW9ucywgUG9pbnRBbmRMb2NpZHMgfSBmcm9tICcuL3R5cGVzJztcclxuLy9pbXBvcnQgTWFya2VyR3JvdXAgZnJvbSAnLi9tYXJrZXJfZ3JvdXAuY2xhc3MudHMuZGV2JztcclxuLy9pbXBvcnQgQ29udHJvbFpvb21XYXJuaW5nIGZyb20gJy4vY29udHJvbF96b29tX3dhcm5pbmcuY2xhc3MnO1xyXG4vL2ltcG9ydCBDb250cm9sRmlsdGVyIGZyb20gJy4vY29udHJvbF9maWx0ZXIuY2xhc3MnO1xyXG5cclxuaW1wb3J0IElBcGkgZnJvbSAnLi9pbnRlcmZhY2VzL2FwaS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgSU1hcmtlckxheWVyIGZyb20gJy4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgTWFya2VyTGF5ZXJDbHVzdGVyIGZyb20gJy4vbWFya2VybGF5ZXIvbWFya2VybGF5ZXIuY2x1c3Rlci5jbGFzcyc7XHJcbmltcG9ydCBJQ29udHJvbCBmcm9tICcuL2ludGVyZmFjZXMvY29udHJvbC5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBpc0RlYnVnTW9kZSB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgSU1vZGUgZnJvbSAnLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlJztcclxuXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCBJUGxhY2VTdG9yZSBmcm9tICcuL2ludGVyZmFjZXMvcGxhY2VzdG9yZS5pbnRlcmZhY2UnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpOiBMLkxhdExuZ0JvdW5kcyB7XHJcbiAgICBjb25zdCBub3J0aCA9IE1hdGguY2VpbChib3VuZHMuZ2V0Tm9ydGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgY29uc3Qgd2VzdCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFdlc3QoKSAqIDI1KSAvIDI1O1xyXG4gICAgY29uc3Qgc291dGggPSBNYXRoLmZsb29yKGJvdW5kcy5nZXRTb3V0aCgpICogNTApIC8gNTA7XHJcbiAgICBjb25zdCBlYXN0ID0gTWF0aC5jZWlsKGJvdW5kcy5nZXRFYXN0KCkgKiAyNSkgLyAyNTtcclxuICAgIHJldHVybiBMLmxhdExuZ0JvdW5kcyhbc291dGgsIHdlc3RdLCBbbm9ydGgsIGVhc3RdKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5iblRlY2hNYXAge1xyXG5cclxuICAgIHByaXZhdGUgTUFYX1VORkVUQ0hFRF9CT1hFUyA9IDEwMDtcclxuXHJcbiAgICBwcml2YXRlIGxvZ2dlciA9IG5ldyBMb2dnZXIoJ05iblRlY2hNYXAnKTtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgREVGQVVMVF9PUFRJT05TOiBQYXJ0aWFsPE5iblRlY2hNYXBPcHRpb25zPiA9IHtcclxuICAgICAgICBtYXBDb250YWluZXJJZDogJ21hcCcsXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcH0gLSBMZWFmbGV0IG1hcCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFwOiBMLk1hcDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFwVGlsZUxheWVyfSAtIExlYWZsZXQgbWFwIHRpbGUgbGF5ZXIuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFwVGlsZUxheWVyOiBMLlRpbGVMYXllcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7YXBpfSAtIEFQSSBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXBpOiBJQXBpO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIG1hcExvY2F0ZTogTC5Db250cm9sLkxvY2F0ZTtcclxuICAgIHByaXZhdGUgbWFwU2VhcmNoOiBHZW9jb2RlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7cGxhY2VTdG9yZX0gLSBQbGFjZSBzdG9yZSBuYm4gcGxhY2VzLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHBsYWNlU3RvcmU6IElQbGFjZVN0b3JlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHttYXJrZXJMYXllcn0gLSBMYXllciB0byBob2xkIG1hcmtlcnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBtYXJrZXJMYXllcjogSU1hcmtlckxheWVyO1xyXG5cclxuICAgIHByaXZhdGUgbW9kZUhhbmRsZXI6IElNb2RlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE5iblRlY2hNYXBPcHRpb25zKSB7XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSB7IC4uLk5iblRlY2hNYXAuREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBpID0gb3B0aW9ucy5hcGk7XHJcbiAgICAgICAgdGhpcy5wbGFjZVN0b3JlID0gb3B0aW9ucy5wbGFjZXN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBvcHRpb25zLmRlZmF1bHRNb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtYXBcclxuICAgICAgICB0aGlzLm1hcCA9IEwubWFwKG9wdGlvbnMubWFwQ29udGFpbmVySWQsIHsgcHJlZmVyQ2FudmFzOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIG1hcmtlciBsYXllclxyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIgPSBuZXcgTWFya2VyTGF5ZXJDbHVzdGVyKFxyXG4gICAgICAgICAgICB0aGlzLm1hcCwgdGhpcy5tb2RlSGFuZGxlciwgdGhpcy5wbGFjZVN0b3JlXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIE9TTSBsYXllclxyXG4gICAgICAgIHRoaXMubWFwVGlsZUxheWVyID0gTC50aWxlTGF5ZXIoJ2h0dHBzOi8ve3N9LmJhc2VtYXBzLmNhcnRvY2RuLmNvbS9yYXN0ZXJ0aWxlcy92b3lhZ2VyL3t6fS97eH0ve3l9e3J9LnBuZycsIHtcclxuICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycyAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vY2FydG8uY29tL2F0dHJpYnV0aW9uc1wiPkNBUlRPPC9hPicsXHJcbiAgICAgICAgICAgIHN1YmRvbWFpbnM6ICdhYmNkJyxcclxuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHRydWUsXHJcbiAgICAgICAgICAgIG1pblpvb206IDUsXHJcbiAgICAgICAgICAgIG1heFpvb206IDIwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgbGF5ZXIgdG8gdGhlIG1hcFxyXG4gICAgICAgIHRoaXMubWFwVGlsZUxheWVyLmFkZFRvKHRoaXMubWFwKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coeyBMLCBHZW9jb2RlciwgZ2VvY29kZXIgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBnZW9jb2RlciBjb250cm9sXHJcbiAgICAgICAgY29uc3QgbWFwR2VvY29kZXIgPSBuZXcgZ2VvY29kZXJzLkFyY0dpcyh7XHJcbiAgICAgICAgICAgIGFwaUtleTogJ0FBUEthOTdiOGE1Mzc0ZGI0ZmE5YjBmZGQ4ZTU1MzYxY2JhNFo5ZkV1dzNja0FPSUZISzFDUF9WYnpUdjNPVGVVejNnZ3JGQXpWUHpqeW4zUTdiUUZ6YndrRE12RHhhSi1KekcnLFxyXG4gICAgICAgICAgICBnZW9jb2RpbmdRdWVyeVBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGU6ICdBVScsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ0FkZHJlc3MsTGF0TG9uZyxOZWlnaGJvcmhvb2QsRGlzdHJpY3QsQ2l0eSxNZXRybyBBcmVhJyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWFwU2VhcmNoID0gKEwuQ29udHJvbCBhcyB1bmtub3duIGFzIHsgZ2VvY29kZXI6IHR5cGVvZiBnZW9jb2RlciB9KS5nZW9jb2Rlcih7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXHJcbiAgICAgICAgICAgIGNvbGxhcHNlZDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdE1hcmtHZW9jb2RlOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2VvY29kZXI6IG1hcEdlb2NvZGVyLFxyXG4gICAgICAgICAgICBzdWdnZXN0TWluTGVuZ3RoOiA1LFxyXG4gICAgICAgICAgICBzdWdnZXN0VGltZW91dDogMTAwMCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXBTZWFyY2gub24oJ21hcmtnZW9jb2RlJywgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYmJveCA9IGV2ZW50Lmdlb2NvZGUuYmJveDtcclxuICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKGJib3gsIHtcclxuICAgICAgICAgICAgICAgICdtYXhab29tJzogMTYsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcFNlYXJjaC5hZGRUbyh0aGlzLm1hcCk7XHJcblxyXG5cclxuICAgICAgICAvLyBBZGQgbG9jYXRlIGNvbnRyb2xcclxuICAgICAgICB0aGlzLm1hcExvY2F0ZSA9IEwuY29udHJvbC5sb2NhdGUoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxyXG4gICAgICAgICAgICBsb2NhdGVPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBtYXhab29tOiAxNlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRWaWV3OiAndW50aWxQYW4nLFxyXG4gICAgICAgICAgICBrZWVwQ3VycmVudFpvb21MZXZlbDogdHJ1ZSxcclxuICAgICAgICAgICAgaW5pdGlhbFpvb21MZXZlbDogMTcsXHJcbiAgICAgICAgICAgIGNhY2hlTG9jYXRpb246IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBMb2NhdGUuYWRkVG8odGhpcy5tYXApO1xyXG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGVhY3RpdmF0ZScsICgpID0+IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dlb2xvY2F0ZScsICcxJyk7IH0pO1xyXG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGVkZWFjdGl2YXRlJywgKCkgPT4geyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2VvbG9jYXRlJyk7IH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldEluaXRpYWxNYXBWaWV3KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc3RvcmUgbWFwIHBvc2l0aW9uIHdoZW4gbW92ZWQgb3Igem9vbWVkXHJcbiAgICAgICAgdGhpcy5tYXAub24oJ21vdmVlbmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RhcnRwb3MnLCBKU09OLnN0cmluZ2lmeSh7IGxhdDogY2VudGVyLmxhdCwgbG5nOiBjZW50ZXIubG5nLCB6b29tIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5wdXNoQnJvd3Nlckhpc3RvcnkoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXBHZW9jb2Rlci5vcHRpb25zLmdlb2NvZGluZ1F1ZXJ5UGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICBtYXBHZW9jb2Rlci5vcHRpb25zLmdlb2NvZGluZ1F1ZXJ5UGFyYW1zLmxvY2F0aW9uID0gYCR7Y2VudGVyLmxuZ30sJHtjZW50ZXIubGF0fWA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vYXdhaXQgdGhpcy5kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaERhdGFGb3JDdXJyZW50VmlldygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICAgICAgY29uc3QgbGF0ID0gdXJsUGFyYW1zLmdldCgnbGF0Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxuZyA9IHVybFBhcmFtcy5nZXQoJ2xuZycpO1xyXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdXJsUGFyYW1zLmdldCgnem9vbScpO1xyXG4gICAgICAgICAgICBpZiAobGF0ICYmIGxuZyAmJiB6b29tKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgTnVtYmVyKGxhdCksIE51bWJlcihsbmcpIF0sIHBhcnNlSW50KHpvb20pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwdXNoQnJvd3Nlckhpc3RvcnkoKSB7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBVUkwgd2l0aCBsYXQsbG5nLHpvb21cclxuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG5cclxuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIHVybFBhcmFtcy5zZXQoJ2xhdCcsIGNlbnRlci5sYXQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgdXJsUGFyYW1zLnNldCgnbG5nJywgY2VudGVyLmxuZy50b1N0cmluZygpKTtcclxuICAgICAgICB1cmxQYXJhbXMuc2V0KCd6b29tJywgem9vbS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zdCBuZXdVcmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnPycgKyB1cmxQYXJhbXMudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgbmV3VXJsKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFN0YXJ0UG9zKCkgOiB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciwgem9vbTogbnVtYmVyIH0gfCBudWxsIHtcclxuICAgICAgICBjb25zdCBzdGFydFBvc1N0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGFydHBvcycpO1xyXG4gICAgICAgIGlmICghc3RhcnRQb3NTdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0YXJ0UG9zU3RyaW5nKSBhcyB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciwgem9vbTogbnVtYmVyIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdGlhbFZpZXdTZXQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc2V0SW5pdGlhbE1hcFZpZXcoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLnN1Yignc2V0SW5pdGlhbE1hcFZpZXcnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbFZpZXdTZXQpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0luaXRpYWwgbWFwIHZpZXcgYWxyZWFkeSBzZXQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbGF0LGxuZyx6b29tIGFyZSBpbiBVUkwsIHNldCBtYXAgdG8gdGhhdFxyXG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgY29uc3QgbGF0ID0gdXJsUGFyYW1zLmdldCgnbGF0Jyk7XHJcbiAgICAgICAgY29uc3QgbG5nID0gdXJsUGFyYW1zLmdldCgnbG5nJyk7XHJcbiAgICAgICAgY29uc3Qgem9vbSA9IHVybFBhcmFtcy5nZXQoJ3pvb20nKTtcclxuICAgICAgICBpZiAobGF0ICYmIGxuZyAmJiB6b29tKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyBOdW1iZXIobGF0KSwgTnVtYmVyKGxuZykgXSwgcGFyc2VJbnQoem9vbSkpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZ2VvRmxhZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnZW9sb2NhdGUnKTtcclxuICAgICAgICBjb25zdCBzdGFydFBvcyA9IHRoaXMuZ2V0U3RhcnRQb3MoKTtcclxuXHJcbiAgICAgICAgLy8gSWYgbG9jYWwgc3RvcmFnZSBjb250YWlucyBsYXN0IG1hcCBwb3NpdGlvbiwgc2V0IG1hcCB0byB0aGF0XHJcbiAgICAgICAgaWYgKHN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyBzdGFydFBvcy5sYXQsIHN0YXJ0UG9zLmxuZyBdLCBzdGFydFBvcy56b29tKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdG8gQXVzdHJhbGlhIGlmIG5vIHN0YXJ0IHBvc2l0aW9uXHJcbiAgICAgICAgaWYgKCFzdGFydFBvcykge1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgLTI2LjE3NzIyODgsIDEzMy40MTcwMTE5IF0sIDEwKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBsb2NhbCBzdG9yYWdlIGNvbnRhaW5zIGdlb2xvY2F0ZSBmbGFnXHJcbiAgICAgICAgLy8gb3IsIGlmIG5vIHN0YXJ0IHBvc2l0aW9uLCBzdGFydCBnZW9sb2NhdGlvblxyXG4gICAgICAgIGlmIChnZW9GbGFnIHx8ICFzdGFydFBvcykge1xyXG4gICAgICAgICAgICB0aGlzLm1hcExvY2F0ZS5zdGFydCgpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRab29tKDE3KTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbFZpZXdTZXQpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdDb3VsZCBub3Qgc2V0IGluaXRpYWwgbWFwIHZpZXcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldEJveGVzSW5Cb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcyk6IEwuTGF0TG5nQm91bmRzW10ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAvLyBTdGFydGluZyBwb2ludCBzaG91bGQgYmUgdGhlIG5vcnRoLXdlc3QgY29ybmVyIG9mIHRoZSBtYXAgcm91bmRlZCBiZXlvbmQgdGhlIG1hcCBib3VuZHNcclxuICAgICAgICAvLyBMYXRpdHVkZSBpcyByb3VuZGVkIHRvIDIgZGVjaW1hbCBwbGFjZXMgbXVsdGlwbGUgb2YgMC4wMlxyXG4gICAgICAgIC8vIExvbmdpdHVkZSBpcyByb3VuZGVkIHRvIDIgZGVjaW1hbCBwbGFjZXMgbXVsdGlwbGUgb2YgMC4wNFxyXG4gICAgICAgIGNvbnN0IG5vcnRobW9zdCA9IE1hdGguY2VpbChib3VuZHMuZ2V0Tm9ydGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgICAgIGNvbnN0IHdlc3RtbW9zdCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFdlc3QoKSAqIDI1KSAvIDI1O1xyXG5cclxuICAgICAgICAvLyBzcGxpdCBtYXAgaW50byBib3hlcyBzdGFydGluZyBmcm9tIG5vcnRoLXdlc3QgY29ybmVyXHJcbiAgICAgICAgLy8gZWFjaCBib3ggc2hvdWxkIGJlIDAuMDIgZGVncmVlcyBsYXRpdHVkZSBieSAwLjA0IGRlZ3JlZXMgbG9uZ2l0dWRlXHJcbiAgICAgICAgY29uc3QgYm94ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBsYXRpdHVkZSA9IG5vcnRobW9zdDsgbGF0aXR1ZGUgPiBib3VuZHMuZ2V0U291dGgoKTsgbGF0aXR1ZGUgLT0gMC4wMikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBsb25naXR1ZGUgPSB3ZXN0bW1vc3Q7IGxvbmdpdHVkZSA8IGJvdW5kcy5nZXRFYXN0KCk7IGxvbmdpdHVkZSArPSAwLjA0KSB7XHJcbiAgICAgICAgICAgICAgICBib3hlcy5wdXNoKFtsYXRpdHVkZSwgbG9uZ2l0dWRlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hcCBlYWNoIGJveCBpbnRvIGEgYm91bmRzIG9iamVjdFxyXG4gICAgICAgIGNvbnN0IGJveEJvdW5kcyA9IGJveGVzLm1hcChib3ggPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3J0aCA9IGJveFswXTtcclxuICAgICAgICAgICAgY29uc3Qgd2VzdCA9IGJveFsxXTtcclxuICAgICAgICAgICAgY29uc3Qgc291dGggPSBub3J0aCAtIDAuMDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGVhc3QgPSB3ZXN0ICsgMC4wNDtcclxuICAgICAgICAgICAgcmV0dXJuIEwubGF0TG5nQm91bmRzKFtzb3V0aCwgd2VzdF0sIFtub3J0aCwgZWFzdF0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYm94Qm91bmRzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIGJveGVzIHRoYXQgYXJlIHZpc2libGUgb24gdGhlIG1hcFxyXG4gICAgICovXHJcbiAgICBnZXRDdXJyZW50Vmlld0JveGVzKCk6IEwuTGF0TG5nQm91bmRzW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRCb3hlc0luQm91bmRzKHRoaXMubWFwLmdldEJvdW5kcygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhpZGUgbWFya2VycyB0aGF0IGFyZSBvdXRzaWRlIHRoZSBtYXAgYm91bmRzXHJcbiAgICAgKi9cclxuICAgIGhpZGVNYXJrZXJzT3V0c2lkZUN1cnJlbnRWaWV3KCkge1xyXG4gICAgICAgIGNvbnN0IG1hcEJvdW5kcyA9IHRoaXMubWFwLmdldEJvdW5kcygpLnBhZCgwLjUpO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIucmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMobWFwQm91bmRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3BsYXkgbWFya2VycyB0aGF0IGFyZSBpbnNpZGUgdGhlIG1hcCBib3VuZHNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgREVQX2Rpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyhhdHRlbXB0OiBudW1iZXIgPSAxKSB7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YXN0b3JlLmlzUmVhZHkoKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChhdHRlbXB0ID4gMTApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBnZXQgZGF0YXN0b3JlIHJlYWR5LiBHaXZpbmcgdXAuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGF0YXN0b3JlIGlzIG5vdCByZWFkeS4gRGVsYXlpbmcgZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KCknKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyhhdHRlbXB0KzEpLCAxMDAwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Rpc3BsYXlpbmcgbWFya2VycyBpbiBjdXJyZW50IHZpZXcnKTtcclxuICAgICAgICBjb25zdCBtYXBCb3VuZHMgPSByb3VuZEJvdW5kcyh0aGlzLm1hcC5nZXRCb3VuZHMoKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIGZyb20gRGF0YXN0b3JlJywgbWFwQm91bmRzKTtcclxuICAgICAgICAvLyB0aGlzLnJlZnJlc2hQb2ludHNGcm9tU3RvcmUobWFwQm91bmRzKTtcclxuICAgICAgICAqL1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgem9vbUluV2FybmluZ0NvbnRyb2w/OiBMLkNvbnRyb2w7XHJcblxyXG4gICAgc2hvd1pvb21Jbldhcm5pbmcoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMuem9vbUluV2FybmluZ0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbCA9IG5ldyBMLkNvbnRyb2woeyBwb3NpdGlvbjogJ3RvcHJpZ2h0JyB9KTtcclxuICAgICAgICAgICAgdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbC5vbkFkZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdpbmZvIGxlZ2VuZCcpO1xyXG4gICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9ICc8aDQgc3R5bGU9XCJtYXJnaW46MFwiPkFyZWEgVG9vIEJpZyE8L2g0Pic7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MICs9ICc8cCBzdHlsZT1cIm1hcmdpbjowXCI+TG9jYXRpb24gbG9hZGluZyBpcyBwYXVzZWQgdW50aWwgeW91IHpvb20gaW4uPC9wPic7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZjk4MDAnO1xyXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLm9wYWNpdHkgPSAnMC44JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5wYWRkaW5nID0gJzEwcHggMjBweCc7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY29sb3IgPSAnI2ZmZmZmZic7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHpvb21Jbldhcm5pbmdDb250cm9sID0gdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbDtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMubWFwLmFkZENvbnRyb2woem9vbUluV2FybmluZ0NvbnRyb2wpLCAxMDAwKTtcclxuICAgIH1cclxuICAgIGhpZGVab29tSW5XYXJuaW5nKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnJlbW92ZUNvbnRyb2wodGhpcy56b29tSW5XYXJuaW5nQ29udHJvbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmV0Y2hlZEJveGVzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIGRhdGEgZm9yIGN1cnJlbnQgbWFwIHZpZXdcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLnN1YignZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcnKTtcclxuXHJcbiAgICAgICAgLy90aGlzLmhpZGVNYXJrZXJzT3V0c2lkZUN1cnJlbnRWaWV3KCk7XHJcbiAgICAgICAgLy90aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tYXAuZ2V0Wm9vbSgpIDwgMTEpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1pvb20gbGV2ZWwgdG9vIGxvdy4gU2tpcHBpbmcuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1pvb21Jbldhcm5pbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IGJveGVzIHRoYXQgYXJlIGN1cnJlbnRseSB2aXNpYmxlXHJcbiAgICAgICAgY29uc3QgYm94ZXMgPSB0aGlzLmdldEN1cnJlbnRWaWV3Qm94ZXMoKTtcclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0N1cnJlbnQgdmlldyBib3hlcycsIGJveGVzKTtcclxuXHJcbiAgICAgICAgLy8gRmlsdGVyIG91dCBib3hlcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGZldGNoZWRcclxuICAgICAgICBjb25zdCB1bmZldGNoZWRCb3hlcyA9IGJveGVzLmZpbHRlcihib3ggPT4gIXRoaXMuZmV0Y2hlZEJveGVzLmhhcyhib3guZ2V0Q2VudGVyKCkudG9TdHJpbmcoKSkpO1xyXG5cclxuICAgICAgICAvLyBJZiBubyBib3hlcyB0byBmZXRjaCwgcmV0dXJuXHJcbiAgICAgICAgaWYgKHVuZmV0Y2hlZEJveGVzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZVpvb21Jbldhcm5pbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRG9uJ3QgZmV0Y2ggYm94ZXMgaWYgbW9yZSB0aGFuIDUwXHJcbiAgICAgICAgaWYgKHVuZmV0Y2hlZEJveGVzLmxlbmd0aCA+IHRoaXMuTUFYX1VORkVUQ0hFRF9CT1hFUykge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybignVG9vIG1hbnkgYm94ZXMgdG8gZmV0Y2guIFNraXBwaW5nLicpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dab29tSW5XYXJuaW5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhpZGUgem9vbSBpbiB3YXJuaW5nXHJcbiAgICAgICAgdGhpcy5oaWRlWm9vbUluV2FybmluZygpO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXBkYXRlIGtleVxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZUtleSA9IHRoaXMubWFwLmdldENlbnRlcigpLnRvU3RyaW5nKCkgKyB0aGlzLm1hcC5nZXRab29tKCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBpdGVtXHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NJdGVtID0gdGhpcy5jcmVhdGVQcm9ncmVzcyh1cGRhdGVLZXksIHVuZmV0Y2hlZEJveGVzLmxlbmd0aCwgJ0ZldGNoaW5nIHNlY3Rpb25zLi4uJyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9ncmVzcygpO1xyXG5cclxuICAgICAgICBsZXQgYm94ZXNQcm9jZXNzZWQgPSAwO1xyXG5cclxuICAgICAgICAvLyBGb3IgZWFjaCBib3gsIGZldGNoIGRhdGFcclxuICAgICAgICBmb3IgKGNvbnN0IGJveCBvZiB1bmZldGNoZWRCb3hlcykge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMubWFwLmdldENlbnRlcigpLnRvU3RyaW5nKCkgKyB0aGlzLm1hcC5nZXRab29tKCkgIT0gdXBkYXRlS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ01hcCBtb3ZlZC4gRmV0Y2ggc3RvcHBlZC4nKTtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzSXRlbS50ZXh0ID0gJ01hcCBtb3ZlZC4gRmV0Y2ggc3RvcHBlZC4nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyh1cGRhdGVLZXksIGJveGVzUHJvY2Vzc2VkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaERhdGEoYm94KTtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaGVkQm94ZXMuYWRkKGJveC5nZXRDZW50ZXIoKS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgYm94ZXNQcm9jZXNzZWQrKztcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyh1cGRhdGVLZXksIGJveGVzUHJvY2Vzc2VkLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyh1cGRhdGVLZXksIGJveGVzUHJvY2Vzc2VkLCB0cnVlKTtcclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0FsbCBib3hlcyBmZXRjaGVkJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvZ3Jlc3NDb250cm9sID0gbmV3IEwuQ29udHJvbCh7IHBvc2l0aW9uOiAnYm90dG9tbGVmdCcgfSk7XHJcbiAgICBwcml2YXRlIHByb2dyZXNzSXRlbXM6IHtcclxuICAgICAgICBba2V5OiBzdHJpbmddOiB7XHJcbiAgICAgICAgICAgIHN0YXJ0ZWQ6IERhdGUsXHJcbiAgICAgICAgICAgIGZpbmlzaGVkPzogRGF0ZSxcclxuICAgICAgICAgICAgdGV4dDogc3RyaW5nLFxyXG4gICAgICAgICAgICBjb21wbGV0ZTogYm9vbGVhbixcclxuICAgICAgICAgICAgcHJvZ3Jlc3M6IG51bWJlcixcclxuICAgICAgICAgICAgdG90YWw6IG51bWJlcixcclxuICAgICAgICB9XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVQcm9ncmVzcyhrZXk6IHN0cmluZywgdG90YWw6IG51bWJlciwgdGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBpdGVtXHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0gPSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ZWQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGZpbmlzaGVkOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcclxuICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXHJcbiAgICAgICAgICAgIHRvdGFsLCB0ZXh0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzSXRlbXNba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZVByb2dyZXNzKGtleTogc3RyaW5nLCBwcm9ncmVzczogbnVtYmVyLCBjb21wbGV0ZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9ncmVzcyBpdGVtIHdpdGgga2V5ICR7a2V5fSBkb2VzIG5vdCBleGlzdGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByb2dyZXNzSXRlbXNba2V5XS5maW5pc2hlZCA9IGNvbXBsZXRlID8gbmV3IERhdGUoKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnByb2dyZXNzSXRlbXNba2V5XS5jb21wbGV0ZSA9IGNvbXBsZXRlO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLnByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9ncmVzcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyUHJvZ3Jlc3MoKSB7XHJcblxyXG4gICAgICAgIC8vIERlbGV0ZSBpdGVtcyBmaW5pc2hlZCBtb3JlIHRoYW4gNSBzZWNvbmRzIGFnb1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMucHJvZ3Jlc3NJdGVtcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjb25zdCBmaW5pc2hlZCA9IHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLmZpbmlzaGVkO1xyXG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgobm93LmdldFRpbWUoKSAtIGZpbmlzaGVkLmdldFRpbWUoKSkgPiA1MDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBubyBpdGVtcywgaGlkZSBwcm9ncmVzc1xyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnByb2dyZXNzSXRlbXMpLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbmRlciBwcm9ncmVzc1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDb250cm9sLm9uQWRkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnaW5mbyBsZWdlbmQnKTtcclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9ICc8aDQgc3R5bGU9XCJtYXJnaW46MFwiPkxvYWRpbmcuLi48L2g0Pic7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gT2JqZWN0LnZhbHVlcyh0aGlzLnByb2dyZXNzSXRlbXMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAvLyBza2lwIGl0ZW0gaWYgZmluaXNoZWQgbW9yZSB0aGFuIDEwIHNlY29uZHMgYWdvXHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5maW5pc2hlZCAmJiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBpdGVtLmZpbmlzaGVkLmdldFRpbWUoKSA+IDEwMDAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBpdGVtLnByb2dyZXNzIC8gaXRlbS50b3RhbCAqIDEwMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzVGV4dCA9IGl0ZW0uY29tcGxldGUgPyAnQ29tcGxldGUnIDogYCR7aXRlbS5wcm9ncmVzc30gb2YgJHtpdGVtLnRvdGFsfWA7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MICs9IGA8cCBzdHlsZT1cIm1hcmdpbjowXCI+JHtpdGVtLnRleHR9ICgke3Byb2dyZXNzVGV4dH0pPC9wPmA7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MICs9IGA8cHJvZ3Jlc3MgdmFsdWU9XCIke3Byb2dyZXNzfVwiIG1heD1cIjEwMFwiPjwvcHJvZ3Jlc3M+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMwMDAwMDAnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucGFkZGluZyA9ICcxMHB4IDIwcHgnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuY29sb3IgPSAnI2ZmZmZmZic7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgcHJvZ3Jlc3MgdG8gbWFwXHJcbiAgICAgICAgdGhpcy5tYXAuYWRkQ29udHJvbCh0aGlzLnByb2dyZXNzQ29udHJvbCk7XHJcblxyXG4gICAgICAgIC8vIEhpZGUgcHJvZ3Jlc3MgYWZ0ZXIgNSBzZWNvbmRzIGlmIGFsbCBjb21wbGV0ZVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyh0aGlzLnByb2dyZXNzSXRlbXMpLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5jb21wbGV0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhpZGVQcm9ncmVzcygpIHtcclxuICAgICAgICB0aGlzLm1hcC5yZW1vdmVDb250cm9sKHRoaXMucHJvZ3Jlc3NDb250cm9sKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBmZXRjaERhdGEoXHJcbiAgICAgICAgYm91bmRzOiBMLkxhdExuZ0JvdW5kcywgcGFnZTogbnVtYmVyID0gMVxyXG4gICAgKSA6IFByb21pc2U8dm9pZD5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ2ZldGNoRGF0YScpO1xyXG5cclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0ZldGNoaW5nIEJveCcsIGJvdW5kcy5nZXRDZW50ZXIoKS50b1N0cmluZygpLCBwYWdlKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFwaS5mZXRjaFBhZ2UoYm91bmRzLCBwYWdlLCAoKSA9PiB0aGlzLm1hcC5nZXRCb3VuZHMoKS5pbnRlcnNlY3RzKGJvdW5kcykpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzRmV0Y2hSZXN1bHQoZGF0YSwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLm5leHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZldGNoRGF0YShib3VuZHMsIGRhdGEubmV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PSAnUGFnZSBhbHJlYWR5IGxvYWRlZCB0aGlzIHNlc3Npb24uJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb2Nlc3MgUmVzdWx0cyBGZXRjaGVkIGZyb20gQVBJXHJcbiAgICAgKiBTdG9yZXMgcGxhY2VzIGluIHBsYWNlIHN0b3JlXHJcbiAgICAgKiBTZW5kcyBwb2ludHMgdG8gbWFya2VyIGxheWVyXHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0IFxyXG4gICAgICogQHBhcmFtIGJvdW5kcyBcclxuICAgICAqL1xyXG4gICAgcHJvY2Vzc0ZldGNoUmVzdWx0KHJlc3VsdDogTmJuUGxhY2VBcGlSZXNwb25zZSwgYm91bmRzOiBMLkxhdExuZ0JvdW5kcykge1xyXG5cclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ3Byb2Nlc3NGZXRjaFJlc3VsdCcpO1xyXG5cclxuICAgICAgICBsb2dnZXIuZGVidWcoJ1Byb2Nlc3NpbmcgRmV0Y2ggUmVzdWx0JywgcmVzdWx0LCBib3VuZHMpO1xyXG5cclxuICAgICAgICAvLyBTdG9yZSBwbGFjZXNcclxuICAgICAgICB0aGlzLnBsYWNlU3RvcmUuc3RvcmVQbGFjZXMocmVzdWx0LnBsYWNlcyk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0ZW1wIHN0b3JhZ2UgZm9yIHBvaW50c1xyXG4gICAgICAgIGNvbnN0IHBvaW50czogTWFwPHN0cmluZywgUG9pbnRBbmRMb2NpZHM+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgICAgICAvLyBBZGQgcGxhY2UgbG9jaWRzIHRvIHBvaW50c1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LnBsYWNlcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2UgPSByZXN1bHQucGxhY2VzW2ldO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVIYW5kbGVyLmZpbHRlcihwbGFjZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsYXRMbmcgPSBgJHtwbGFjZS5sYXRpdHVkZX0sJHtwbGFjZS5sb25naXR1ZGV9YDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlQ29sb3VyID0gdGhpcy5tb2RlSGFuZGxlci5wbGFjZUNvbG91cihwbGFjZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgcG9pbnQgaWYgbm90IGFscmVhZHkgdGhlcmVcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdQb2ludCA9IHBvaW50cy5nZXQobGF0TG5nKTtcclxuICAgICAgICAgICAgaWYgKCFleGlzdGluZ1BvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludHMuc2V0KGxhdExuZywge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdDogcGxhY2UubGF0aXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBwbGFjZS5sb25naXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sOiBbIHBsYWNlQ29sb3VyIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYWRkOiBbIHBsYWNlLmFkZHJlc3MxIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgaWRzOiBbIHBsYWNlLmxvY2lkIF0sXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCBsb2NpZCB0byBwb2ludCBpZiBub3QgYWxyZWFkeSB0aGVyZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1BvaW50Lmlkcy5pbmNsdWRlcyhwbGFjZS5sb2NpZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1BvaW50Lmlkcy5wdXNoKHBsYWNlLmxvY2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1BvaW50LmFkZC5wdXNoKHBsYWNlLmFkZHJlc3MxKTtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1BvaW50LmNvbC5wdXNoKHBsYWNlQ29sb3VyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNlbmQgcG9pbnRzIHRvIG1hcmtlciBsYXllclxyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQWRkaW5nIHBvaW50cyB0byBtYXJrZXIgbGF5ZXInLCBwb2ludHMpO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIuYWRkUG9pbnRzKHBvaW50cyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIERFUFJfcmVmcmVzaFBvaW50c0Zyb21TdG9yZShib3VuZHM/OiBMLkxhdExuZ0JvdW5kcykge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubWFya2VyTGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYXJrZXIgTGF5ZXIgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgYm91bmRzIGFyZSBub3QgcGFzc2VkLCB1c2UgbWFwIGJvdW5kc1xyXG4gICAgICAgIGlmICghYm91bmRzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdCb3VuZHMgbm90IHBhc3NlZC4gVXNpbmcgbWFwIGJvdW5kcy4nKTtcclxuICAgICAgICAgICAgYm91bmRzID0gdGhpcy5tYXAuZ2V0Qm91bmRzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBib3VuZHMgPSByb3VuZEJvdW5kcyhib3VuZHMpO1xyXG4gICAgICAgIC8vdGhpcy5tYXJrZXJMYXllci5yZWZyZXNoTWFya2Vyc0luc2lkZUJvdW5kcyhib3VuZHMsIHRoaXMubWFya2VyRmlsdGVyKTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAvLyBHZXQgdGhlIGJveGVzXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgcG9pbnRzIHdpdGhpbiBib3VuZHMnLCBib3VuZHMudG9CQm94U3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGF3YWl0IHRoaXMuZGF0YXN0b3JlLmdldFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAvLyBhZGQgcG9pbnRzIHRvIG1hcCB0aGF0IGRvbid0IGFscmVhZHkgZXhpc3QgaW4gbGF5ZXJcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IEwuY2lyY2xlTWFya2VyKFtwb2ludC5sYXRpdHVkZSwgcG9pbnQubG9uZ2l0dWRlXSwge1xyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiA1LFxyXG4gICAgICAgICAgICAgICAgLy9maWxsQ29sb3I6IHRoaXMuZ2V0UGxhY2VDb2xvdXIocGxhY2UpLFxyXG4gICAgICAgICAgICAgICAgLy9jb2xvcjogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgcG9wdXBcclxuICAgICAgICAgICAgbWFya2VyLmJpbmRQb3B1cChwb2ludC5sb2NpZHMuam9pbignPGJyIC8+JykpO1xyXG4gICAgICAgICAgICBtYXJrZXIub24oJ3BvcHVwb3BlbicsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQb3B1cENvbnRlbnQocG9pbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oY29udGVudCA9PiBldmVudC5wb3B1cC5zZXRDb250ZW50KGNvbnRlbnQpKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFya2VyTGF5ZXIuYWRkTGF5ZXIobWFya2VyKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29udHJvbHM6IHtcclxuICAgICAgICBba2V5OiBzdHJpbmddOiBJQ29udHJvbDtcclxuICAgIH0gPSB7fTtcclxuXHJcbiAgICBhZGRDb250cm9sKGtleTogc3RyaW5nLCBjb250cm9sOiBJQ29udHJvbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xzW2tleV0pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250cm9sIHdpdGgga2V5ICR7a2V5fSBhbHJlYWR5IGV4aXN0c2ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sc1trZXldID0gY29udHJvbDtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAuYWRkQ29udHJvbChjb250cm9sLmdldENvbnRyb2woKSlcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0FkZGVkIGNvbnRyb2wnLCBrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE1vZGVIYW5kbGVyKG1vZGVIYW5kbGVyOiBJTW9kZSkge1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllcj8ucmVtb3ZlQWxsTWFya2VycygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IEZldGNoZWQgQm94ZXMnLCB0aGlzLmZldGNoZWRCb3hlcyk7XHJcbiAgICAgICAgdGhpcy5mZXRjaGVkQm94ZXMuY2xlYXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCBCb3hlcyBDbGVhcmVkJywgdGhpcy5mZXRjaGVkQm94ZXMpO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXI/LnNldE1vZGVIYW5kbGVyKG1vZGVIYW5kbGVyLCB0aGlzLnBsYWNlU3RvcmUpO1xyXG4gICAgICAgIHRoaXMuZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG5pbXBvcnQgSUNvbnRyb2wgZnJvbSBcIi4uL2ludGVyZmFjZXMvY29udHJvbC5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IE5iblRlY2hNYXAgZnJvbSBcIi4uL25ibl90ZWNoX21hcC5jbGFzc1wiO1xyXG5pbXBvcnQgeyBDb250cm9sRXZlbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBBQ29udHJvbCBpbXBsZW1lbnRzIElDb250cm9sIHtcclxuXHJcbiAgICAvL3Byb3RlY3RlZCBtYXA6IE5iblRlY2hNYXA7XHJcbiAgICBwcm90ZWN0ZWQgY29udHJvbDogTC5Db250cm9sO1xyXG4gICAgLy9wcm90ZWN0ZWQga2V5OiBzdHJpbmc7XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBldmVudEhhbmRsZXJzOiB7XHJcbiAgICAgICAgW2V2ZW50TmFtZTogc3RyaW5nXTogKChlOiBDb250cm9sRXZlbnQpID0+IHZvaWQpW11cclxuICAgIH0gPSB7fTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigvKmtleTogc3RyaW5nLyosIG5iblRlY2hNYXA6IE5iblRlY2hNYXAqLykge1xyXG4gICAgICAgIC8vdGhpcy5rZXkgPSBrZXk7XHJcbiAgICAgICAgLy90aGlzLm1hcCA9IG5iblRlY2hNYXA7XHJcbiAgICAgICAgdGhpcy5jb250cm9sID0gbmV3IEwuQ29udHJvbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogKGU6IENvbnRyb2xFdmVudCkgPT4gdm9pZCkgOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBlbWl0KGV2ZW50TmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpIDogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgRW1pdHRpbmcgZXZlbnQ6ICR7ZXZlbnROYW1lfWAsIHtcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgaGFuZGxlcnM6IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZXZlbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuZ2V0U3RhdGUoKSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBnZXRTdGF0ZSgpIDogYW55O1xyXG5cclxuICAgIHB1YmxpYyBnZXRDb250cm9sKCkgOiBMLkNvbnRyb2wge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2w7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICogYXMgTCBmcm9tICdsZWFmbGV0JztcclxuLy9pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi4vbmJuX3RlY2hfbWFwLmNsYXNzXCI7XHJcbmltcG9ydCBBQ29udHJvbCBmcm9tIFwiLi9jb250cm9sLmFic3RyYWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9EaXNwbGF5TW9kZSBleHRlbmRzIEFDb250cm9sIHtcclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlNb2RlID0gJ2FsbCc7XHJcbiAgICBwcml2YXRlIGVsQ29udHJvbERpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHByaXZhdGUgZWxEcm9wZG93bjogSFRNTFNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUNvbnRyb2xEaXYoKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2wub25BZGQgPSAobWFwOiBMLk1hcCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlRHJvcGRvd24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxDb250cm9sRGl2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy90aGlzLmNvbnRyb2wub25BZGQgPSAoKSA9PiB0aGlzLmFkZENvbnRyb2xEaXYoKTtcclxuICAgICAgICAvL3RoaXMuc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKCkgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlNb2RlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGFsbExhYmVsOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBhbGxSYWRpbzogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgYWxsVGV4dDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgdXBncmFkZUxhYmVsOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB1cGdyYWRlUmFkaW86IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHVwZ3JhZGVUZXh0OiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBlZUxhYmVsOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBlZVJhZGlvOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBlZVRleHQ6IGFueSA9IG51bGw7XHJcbiAgICBcclxuICAgIGNoYW5nZU1vZGUobW9kZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5TW9kZSA9IG1vZGU7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCBtb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlQ29udHJvbERpdigpIDogdm9pZCB7XHJcbiAgICAgICAgaWYodGhpcy5lbENvbnRyb2xEaXYpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb250cm9sRGl2IGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5jbGFzc0xpc3QuYWRkKCdpbmZvJywgJ2xlZ2VuZCcpO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLm9wYWNpdHkgPSBcIjAuOFwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVEcm9wZG93bigpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWxEcm9wZG93bikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Ryb3Bkb3duIGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkcm9wZG93biA9IHRoaXMuZWxEcm9wZG93bjtcclxuICAgICAgICBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKCdjb250cm9sLXNlbGVjdCcpO1xyXG5cclxuICAgICAgICBjb25zdCBhbGxPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBhbGxPcHRpb24udmFsdWUgPSAnYWxsJztcclxuICAgICAgICBhbGxPcHRpb24uaW5uZXJUZXh0ID0gJ1Nob3cgQWxsIExvY2F0aW9ucyc7XHJcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQoYWxsT3B0aW9uKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdXBncmFkZU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIHVwZ3JhZGVPcHRpb24udmFsdWUgPSAndXBncmFkZSc7XHJcbiAgICAgICAgdXBncmFkZU9wdGlvbi5pbm5lclRleHQgPSAnVGVjaCBVcGdyYWRlcyc7XHJcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQodXBncmFkZU9wdGlvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZWVPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBlZU9wdGlvbi52YWx1ZSA9ICdlZSc7XHJcbiAgICAgICAgZWVPcHRpb24uaW5uZXJUZXh0ID0gJ0VudGVycHJpc2UgRXRoZXJuZXQnO1xyXG4gICAgICAgIGRyb3Bkb3duLmFwcGVuZENoaWxkKGVlT3B0aW9uKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHRoaXMuY2hhbmdlTW9kZSgoZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQpLnZhbHVlKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxEcm9wZG93biA9IGRyb3Bkb3duO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmFwcGVuZENoaWxkKGRyb3Bkb3duKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyphZGRDb250cm9sRGl2KCkge1xyXG5cclxuICAgICAgICB0aGlzLmFsbExhYmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGFiZWwnLCAnY29udHJvbC1sYWJlbCcsIHRoaXMuY29udHJvbERpdik7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmFsbExhYmVsKTtcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8udmFsdWUgPSAnYWxsJztcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5hbGxSYWRpbywgJ2NoYW5nZScsIChlKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2FsbCcpKTtcclxuICAgICAgICB0aGlzLmFsbFRleHQgPSBMLkRvbVV0aWwuY3JlYXRlKCdzcGFuJywgJ2NvbnRyb2wtdGV4dCcsIHRoaXMuYWxsTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuYWxsVGV4dC5pbm5lclRleHQgPSAnQWxsJztcclxuXHJcbiAgICAgICAgdGhpcy51cGdyYWRlTGFiZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdsYWJlbCcsICdjb250cm9sLWxhYmVsJywgdGhpcy5jb250cm9sRGl2KTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLnVwZ3JhZGVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8udHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvLnZhbHVlID0gJ3VwZ3JhZGUnO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy51cGdyYWRlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ3VwZ3JhZGUnKSk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlVGV4dCA9IEwuRG9tVXRpbC5jcmVhdGUoJ3NwYW4nLCAnY29udHJvbC10ZXh0JywgdGhpcy51cGdyYWRlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVRleHQuaW5uZXJUZXh0ID0gJ1RlY2ggVXBncmFkZSc7XHJcblxyXG4gICAgICAgIHRoaXMuZWVMYWJlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2xhYmVsJywgJ2NvbnRyb2wtbGFiZWwnLCB0aGlzLmNvbnRyb2xEaXYpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby50eXBlID0gJ3JhZGlvJztcclxuICAgICAgICB0aGlzLmVlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby52YWx1ZSA9ICdlZSc7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmVlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2VlJykpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnc3BhbicsICdjb250cm9sLXRleHQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0LmlubmVyVGV4dCA9ICdFRSc7XHJcblxyXG4gICAgfSovXHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0sIE5iblBsYWNlLCBQb2ludEFuZFBsYWNlcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgKiBhcyBMIGZyb20gXCJsZWFmbGV0XCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgaXNQbGFjZUZUVFAsXHJcbiAgICBpc1BsYWNlRlRUQyxcclxuICAgIGlzUGxhY2VGVFRQQXZhaWwsXHJcbiAgICBpc1BsYWNlRlRUUFNvb24sXHJcbiAgICBpc1BsYWNlRlRUUEZhcixcclxuICAgIGlzRnd0b0ZUVEMsXHJcbiAgICBpc0Z3dG9GVFROLFxyXG4gICAgaXNTYXRUb0ZXLFxyXG4gICAgaXNEZWJ1Z01vZGVcclxufSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IGNvbG91ckZUVFAgXHRcdD0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJGVFRQQXZhaWwgICA9ICcjNzVBRDZGJztcclxuY29uc3QgY29sb3VyRlRUUFNvb24gICAgPSAnI0M4RTNDNSc7XHJcbmNvbnN0IGNvbG91ckhGQyBcdFx0PSAnI0ZGQkUwMCc7XHJcbmNvbnN0IGNvbG91ckZUVEMgXHRcdD0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFRDQXZhaWwgICA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUTkIgXHRcdD0gJyNFMzA3MUQnO1xyXG5jb25zdCBjb2xvdXJGVyBcdFx0ICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJGV0F2YWlsIFx0PSAnIzAyMkJFMyc7XHJcbmNvbnN0IGNvbG91clNhdCBcdCAgICA9ICcjNkIwMkUzJztcclxuY29uc3QgY29sb3VyVW5rbm93biAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuZnVuY3Rpb24gZ2V0VGVjaENvbG91cih0ZWNoVHlwZTogc3RyaW5nKSB7XHJcbiAgICBzd2l0Y2godGVjaFR5cGUpIHtcclxuICAgICAgICBjYXNlICdGVFRQJzogcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgY2FzZSAnRlRUQyc6IHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIGNhc2UgJ0ZUVE4nOlxyXG4gICAgICAgIGNhc2UgJ0ZUVEInOiByZXR1cm4gY29sb3VyRlRUTkI7XHJcbiAgICAgICAgY2FzZSAnSEZDJzogcmV0dXJuIGNvbG91ckhGQztcclxuICAgICAgICBjYXNlICdXSVJFTEVTUyc6IHJldHVybiBjb2xvdXJGVztcclxuICAgICAgICBjYXNlICdTQVRFTExJVEUnOiByZXR1cm4gY29sb3VyU2F0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsbE1vZGUgaW1wbGVtZW50cyBJTW9kZSB7XHJcblxyXG4gICAgZmlsdGVyKHBsYWNlOiBOYm5QbGFjZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwb2ludENvbG91cihwb2ludDogUG9pbnRBbmRQbGFjZXMpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGFjZUNvbG91cihwb2ludC5wbGFjZXNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkgOiBzdHJpbmcge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQQXZhaWwocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRQQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEZhcihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUQyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVEM7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzRnd0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzRnd0b0ZUVE4ocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFROQjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzU2F0VG9GVyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZXQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSAhPSAnTlVMTF9OQScpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocGxhY2UpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBnZXRUZWNoQ29sb3VyKHBsYWNlLnRlY2hUeXBlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXBDb250ZW50KHBsYWNlOiBOYm5QbGFjZSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8Yj4nK3BsYWNlLmxvY2lkKyc8L2I+PC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczEgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczIgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8Yj5UZWNobm9sb2d5IFBsYW48L2I+PC9icj4nO1xyXG5cclxuICAgICAgICAvKiogVGVjaG5vbG9neSBQbGFuIEZpbmFsIFN0YXRlICovXHJcbiAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlID09ICdGVFRQJ1xyXG4gICAgICAgICAgICB8fCAhcGxhY2UuYWx0UmVhc29uQ29kZVxyXG4gICAgICAgICAgICB8fCBwbGFjZS5hbHRSZWFzb25Db2RlID09ICdOVUxMX05BJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGVjaG5vbG9neTogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGlmIChwbGFjZS50ZWNoVHlwZSAhPSAnRlRUUCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdObyB0ZWNoIHVwZ3JhZGUgcGxhbm5lZDxiciAvPic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGVsc2UgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ3VycmVudDogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDaGFuZ2U6ICcgKyBwbGFjZS5hbHRSZWFzb25Db2RlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdTdGF0dXM6ICcgKyBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdQcm9ncmFtOiAnICsgcGxhY2UucHJvZ3JhbVR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1RhcmdldCBRdHI6ICcgKyBwbGFjZS50YXJnZXRFbGlnaWJpbGl0eVF1YXJ0ZXIgKyAnPGJyIC8+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8YnIgLz4nOyBcclxuICAgICAgICBcclxuICAgICAgICBpZiAocGxhY2UuZWUpIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICc8Yj5FbnRlcnByaXNlIEV0aGVybmV0PC9iPjwvYnI+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdQcmljZSBab25lOiAnICsgKCBwbGFjZS5jYmRwcmljaW5nID8gJ0NCRCcgOiAnWm9uZSAxLzIvMycgKSArICc8YnIgLz4nXHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnQnVpbGQgQ29zdDogJyArICggcGxhY2UuemVyb0J1aWxkQ29zdCA/ICckMCcgOiAnUE9BJyApICsgJzxiciAvPidcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgaHIgPSBMLkRvbVV0aWwuY3JlYXRlKCdocicpO1xyXG4gICAgICAgICAgICBjb25zdCBwcmUgPSBMLkRvbVV0aWwuY3JlYXRlKCdwcmUnKTtcclxuICAgICAgICAgICAgcHJlLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHBsYWNlLCBudWxsLCAyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChocik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRvb2x0aXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxhYmVsID0gcGxhY2VzWzBdLmFkZHJlc3MxO1xyXG5cclxuICAgICAgICBpZiAocGxhY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgbGFiZWwgKz0gJyAoICsgJyArIChwbGFjZXMubGVuZ3RoIC0gMSkgKyAnIG1vcmUpJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGVnZW5kSXRlbXMoKTogTGVnZW5kSXRlbVtdIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRQLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAgVXBncmFkZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFBBdmFpbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFRQIFVwZ3JhZGUgU29vbicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFBTb29uLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0hGQycsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckhGQyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFRDJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUQyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFROL0ZUVEInLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFROQixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVycsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZXLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZXIFVwZ3JhZGUnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGV0F2YWlsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1NhdGVsbGl0ZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91clNhdCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdVbmtub3duJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyVW5rbm93bixcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0gfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IEFDb250cm9sIGZyb20gXCIuL2NvbnRyb2wuYWJzdHJhY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xMZWdlbmQgZXh0ZW5kcyBBQ29udHJvbCB7XHJcblxyXG4gICAgcHJpdmF0ZSBlbENvbnRyb2xEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2wuc2V0UG9zaXRpb24oJ2JvdHRvbXJpZ2h0Jyk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmNsYXNzTGlzdC5hZGQoJ2luZm8nLCAnbGVnZW5kJyk7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sLm9uQWRkID0gKG1hcDogTC5NYXApID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxDb250cm9sRGl2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUxlZ2VuZChpdGVtczogTGVnZW5kSXRlbVtdKSB7XHJcblxyXG4gICAgICAgIGxldCBodG1sID0gJyc7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaHRtbCArPSAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIGl0ZW0uY29sb3VyICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+ICcgKyBpdGVtLmxhYmVsO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSAnICgnICsgaXRlbS5jb3VudCArICcpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodG1sICs9ICc8YnI+JztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuaW5uZXJIVE1MID0gaHRtbDtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgLypcclxuXHJcbiAgICBnZXRMZWdlbmRIVE1MKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5uYm5UZWNoTWFwLmNvbnRyb2xzLmRpc3BsYXlNb2RlPy5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfQ0JEX1pCQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgQ0JEICgkMCBCdWlsZCk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9DQkRfQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIENCRCAoQnVpbGQgUE9BKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX1oxMjNfWkJDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSAxLzIvMyAoJDAgQnVpbGQpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfWjEyM19CQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgMS8yLzMgKEJ1aWxkIFBPQSk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJVbmtub3duKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gVW5rbm93bic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5uYm5UZWNoTWFwLmNvbnRyb2xzLmRpc3BsYXlNb2RlPy5kaXNwbGF5TW9kZSA9PSAndXBncmFkZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQ09NUExFVEUgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQ29tcGxldGVkPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0FWQUlMICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEF2YWlsYWJsZTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9CVUlMREZJTkFMSVNFRCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBCdWlsZCBGaW5hbGlzZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfREVTSUdOICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEluIERlc2lnbjxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9DT01NSVRURUQgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQ29tbWl0dGVkPGJyPidcclxuICAgICAgICAgICAgKyAnPGI+TXVsdGkgRHdlbGxpbmcgVW5pdHM8L2I+PGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX01EVV9JTkJVSUxEICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEluIEJ1aWxkPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX01EVV9FTElHSUJMRSArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBFbGxpZ2libGU8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJVbmtub3duKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gVW5rbm93bic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRQPGJyPicgKyBcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFBBdmFpbCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVFAgVXBncmFkZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFBTb29uKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUUCBVcGdyYWRlIFNvb248YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJIRkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBIRkM8YnI+JyArIFxyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVEM8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFROQisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVE4vRlRUQjxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZXKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlc8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGV0F2YWlsKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlcgVXBncmFkZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clNhdCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFNhdGVsbGl0ZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb250cm9sRGl2KG1hcCkge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY29udHJvbERpdikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xEaXYgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnaW5mbyBsZWdlbmQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS53aWR0aCA9IFwiMTUwcHhcIjtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0TGVnZW5kSFRNTCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sRGl2O1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0TGVnZW5kSFRNTCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sLmFkZFRvKHRoaXMubmJuVGVjaE1hcC5tYXApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZSgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2wucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgKi9cclxufSIsImltcG9ydCBJUGxhY2VTdG9yZSBmcm9tICcuLi9pbnRlcmZhY2VzL3BsYWNlc3RvcmUuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgTmJuUGxhY2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgREJTY2hlbWEsIElEQlBEYXRhYmFzZSwgb3BlbkRCIH0gZnJvbSAnaWRiJztcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBOQk5UZWNoTWFwREIgZXh0ZW5kcyBEQlNjaGVtYSB7XHJcbiAgICBuYm5QbGFjZVN0b3JlOiB7XHJcbiAgICAgICAga2V5OiBzdHJpbmc7XHJcbiAgICAgICAgdmFsdWU6IE5iblBsYWNlO1xyXG4gICAgICAgIGluZGV4ZXM6IHtcclxuICAgICAgICAgICAgLy9sb2NpZDogc3RyaW5nO1xyXG4gICAgICAgICAgICAvL2xhdGxuZzogW251bWJlciwgbnVtYmVyXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW5kZXhEQlBsYWNlU3RvcmUgaW1wbGVtZW50cyBJUGxhY2VTdG9yZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBEQl9OQU1FID0gJ25zbS1wbGFjZXN0b3JlJztcclxuXHJcbiAgICBwcml2YXRlIGxvZ2dlciA9IG5ldyBMb2dnZXIoJ0luZGV4REJQbGFjZVN0b3JlJyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGF0YWJhc2UuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZGI/OiBJREJQRGF0YWJhc2U8TkJOVGVjaE1hcERCPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIGRhdGFiYXNlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdTZXR0aW5nIHVwIGRhdGFiYXNlLi4uJyk7XHJcblxyXG4gICAgICAgIG9wZW5EQjxOQk5UZWNoTWFwREI+KHRoaXMuREJfTkFNRSwgMSwge1xyXG5cclxuICAgICAgICAgICAgdXBncmFkZShkYiwgb2xkVmVyc2lvbiwgbmV3VmVyc2lvbiwgdHJhbnNhY3Rpb24sIGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmVOYW1lcyA9IGRiLm9iamVjdFN0b3JlTmFtZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ibiBwbGFjZSBzdG9yZSBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAgICAgICBpZiAoIW9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ25iblBsYWNlU3RvcmUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCduYm5QbGFjZVN0b3JlJywgeyBrZXlQYXRoOiAnbG9jaWQnIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGJsb2NrZWQ6IChjdXJyZW50VmVyc2lvbiwgYmxvY2tlZFZlcnNpb24sIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdEYXRhYmFzZSBibG9ja2VkIScsIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVyc2lvbiwgYmxvY2tlZFZlcnNpb24sIGV2ZW50LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBibG9ja2luZzogKGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0RhdGFiYXNlIGJsb2NraW5nIScsIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVyc2lvbiwgYmxvY2tlZFZlcnNpb24sIGV2ZW50XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIHRlcm1pbmF0ZWQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0RhdGFiYXNlIHRlcm1pbmF0ZWQhJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICAudGhlbigoZGIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYiA9IGRiO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdEYXRhYmFzZSByZWFkeSEnKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gb3BlbiBkYXRhYmFzZTogJywgZXJyKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0RhdGFiYXNlIHNldHVwIGNvbXBsZXRlLicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoZSBkYXRhYmFzZSBpcyByZWFkeS5cclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBpc1JlYWR5KCkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLmRiO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2FpdCB1bnRpbCB0aGUgZGF0YWJhc2UgaXMgcmVhZHkuXHJcbiAgICAgKiBAcGFyYW0gdGltZW91dFNlY29uZHMgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgd2FpdFVudGlsUmVhZHkodGltZW91dFNlY29uZHM6IG51bWJlcikgOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUmVhZHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGltZUVsYXBzZWQgPiB0aW1lb3V0U2Vjb25kcyAqIDEwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBEYXRhYmFzZSBub3QgcmVhZHkgYWZ0ZXIgJHt0aW1lb3V0U2Vjb25kc30gc2Vjb25kcy5gKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZSBhIHNpbmdsZSBwbGFjZS5cclxuICAgICAqIEBwYXJhbSBwbGFjZSBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3RvcmVQbGFjZShwbGFjZTogTmJuUGxhY2UpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcclxuICAgICAgICBhd2FpdCBkYi5wdXQoJ25iblBsYWNlU3RvcmUnLCBwbGFjZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZSBhIGJhdGNoIG9mIHBsYWNlcy5cclxuICAgICAqIFVzZXMgYSB0cmFuc2FjdGlvbiB0byBwcm92aWRlIGJldHRlciBwZXJmb3JtYW5jZS5cclxuICAgICAqIEBwYXJhbSBwbGFjZXMgXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN0b3JlUGxhY2VzKHBsYWNlczogTmJuUGxhY2VbXSkgOiBQcm9taXNlPHZvaWQ+IHtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBkYXRhYmFzZVxyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5nZXREYigpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYSB0cmFuc2FjdGlvblxyXG4gICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oWyduYm5QbGFjZVN0b3JlJ10sICdyZWFkd3JpdGUnLCB7XHJcbiAgICAgICAgICAgICdkdXJhYmlsaXR5JzogJ3JlbGF4ZWQnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIG9iamVjdCBzdG9yZVxyXG4gICAgICAgIGNvbnN0IHBsYWNlU3RvcmUgPSB0eC5vYmplY3RTdG9yZSgnbmJuUGxhY2VTdG9yZScpO1xyXG5cclxuICAgICAgICAvLyBQdXQgZWFjaCBwbGFjZSBpbnRvIHRoZSBzdG9yZVxyXG4gICAgICAgIGF3YWl0IHBsYWNlcy5tYXAocGxhY2UgPT4gcGxhY2VTdG9yZS5wdXQocGxhY2UpKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFdhaXQgZm9yIHRoZSB0cmFuc2FjdGlvbiB0byBjb21wbGV0ZVxyXG4gICAgICAgIGF3YWl0IHR4LmRvbmU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgc2luZ2xlIHBsYWNlLlxyXG4gICAgICogQHBhcmFtIGxvY2lkIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldFBsYWNlKGxvY2lkOiBzdHJpbmcpIDogUHJvbWlzZTxOYm5QbGFjZSB8IHVuZGVmaW5lZD4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGRhdGFiYXNlXHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmdldERiKCk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgcGxhY2VcclxuICAgICAgICByZXR1cm4gYXdhaXQgZGIuZ2V0KCduYm5QbGFjZVN0b3JlJywgbG9jaWQpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIGJhdGNoIG9mIHBsYWNlcy5cclxuICAgICAqIFVzZXMgYSB0cmFuc2FjdGlvbiB0byBwcm92aWRlIGJldHRlciBwZXJmb3JtYW5jZS5cclxuICAgICAqIEBwYXJhbSBsb2NpZHMgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0UGxhY2VzKGxvY2lkczogc3RyaW5nW10pOiBQcm9taXNlPE5iblBsYWNlW10+IHtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBkYXRhYmFzZVxyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5nZXREYigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE9wZW4gYSB0cmFuc2FjdGlvblxyXG4gICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oWyduYm5QbGFjZVN0b3JlJ10sICdyZWFkb25seScpO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIG9iamVjdCBzdG9yZVxyXG4gICAgICAgIGNvbnN0IHBsYWNlU3RvcmUgPSB0eC5vYmplY3RTdG9yZSgnbmJuUGxhY2VTdG9yZScpO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIHBsYWNlc1xyXG4gICAgICAgIGNvbnN0IHBsYWNlcyA9IGF3YWl0IFByb21pc2UuYWxsKGxvY2lkcy5tYXAobG9jaWQgPT4gcGxhY2VTdG9yZS5nZXQobG9jaWQpKSk7XHJcblxyXG4gICAgICAgIC8vIFdhaXQgZm9yIHRoZSB0cmFuc2FjdGlvbiB0byBjb21wbGV0ZVxyXG4gICAgICAgIGF3YWl0IHR4LmRvbmU7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiB0aGUgcGxhY2VzXHJcbiAgICAgICAgcmV0dXJuIHBsYWNlcy5maWx0ZXIocGxhY2UgPT4gISFwbGFjZSkgYXMgTmJuUGxhY2VbXTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGRhdGFiYXNlLlxyXG4gICAgICogQHBhcmFtIHRpbWVvdXQgXHJcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPElEQlBEYXRhYmFzZTxOQk5UZWNoTWFwREI+PlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGdldERiKHRpbWVvdXQgPSA1KSA6IFByb21pc2U8SURCUERhdGFiYXNlPE5CTlRlY2hNYXBEQj4+IHtcclxuICAgICAgICBhd2FpdCB0aGlzLndhaXRVbnRpbFJlYWR5KHRpbWVvdXQpO1xyXG4gICAgICAgIGlmICghdGhpcy5kYikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIG5vdCByZWFkeS4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGI7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0sIE5iblBsYWNlLCBQb2ludEFuZFBsYWNlcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgKiBhcyBMIGZyb20gXCJsZWFmbGV0XCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgaXNQbGFjZUZUVFAsXHJcbiAgICBpc1BsYWNlRlRUQyxcclxuICAgIGlzUGxhY2VGVFRQQXZhaWwsXHJcbiAgICBpc1BsYWNlRlRUUFNvb24sXHJcbiAgICBpc1BsYWNlRlRUUEZhcixcclxuICAgIGlzRnd0b0ZUVEMsXHJcbiAgICBpc0Z3dG9GVFROLFxyXG4gICAgaXNTYXRUb0ZXLFxyXG4gICAgaXNEZWJ1Z01vZGVcclxufSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IENPTF9URUNIX0NPTVBMRVRFICAgICAgICAgPSAnIzFENzA0NCc7XHJcbmNvbnN0IENPTF9URUNIX0FWQUlMICAgICAgICAgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IENPTF9URUNIX0JVSUxERklOQUxJU0VEICAgPSAnI0ZGQkUwMCc7XHJcbmNvbnN0IENPTF9URUNIX0RFU0lHTiAgICAgICAgICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IENPTF9URUNIX0NPTU1JVFRFRCAgICAgICAgPSAnI0UzMDcxRCc7XHJcbmNvbnN0IENPTF9URUNIX01EVV9JTkJVSUxEICAgICAgPSAnIzAyMkJFMyc7XHJcbmNvbnN0IENPTF9URUNIX01EVV9FTElHSUJMRSAgICAgPSAnIzZCMDJFMyc7XHJcbmNvbnN0IENPTF9VTktOT1dOICAgICAgICAgICAgICAgPSAnIzg4ODg4OCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZWNoVXBncmFkZU1vZGUgaW1wbGVtZW50cyBJTW9kZSB7XHJcblxyXG4gICAgZmlsdGVyKHBsYWNlOiBOYm5QbGFjZSkgOiBib29sZWFuIHtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ05vdCBQbGFubmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGxhY2UudGVjaENoYW5nZVN0YXR1cykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnRDb2xvdXIocG9pbnQ6IFBvaW50QW5kUGxhY2VzKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VDb2xvdXIocG9pbnQucGxhY2VzWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZUNvbG91cihwbGFjZTogTmJuUGxhY2UpIDogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnUHJldmlvdXMgVGVjaCBEaXNjb25uZWN0ZWQnOiByZXR1cm4gQ09MX1RFQ0hfQ09NUExFVEU7XHJcbiAgICAgICAgICAgIGNhc2UgJ05ldyBUZWNoIENvbm5lY3RlZCcgOiByZXR1cm4gQ09MX1RFQ0hfQ09NUExFVEU7XHJcbiAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6IHJldHVybiBDT0xfVEVDSF9ERVNJR047XHJcbiAgICAgICAgICAgIGNhc2UgJ0J1aWxkIEZpbmFsaXNlZCc6IHJldHVybiBDT0xfVEVDSF9CVUlMREZJTkFMSVNFRDtcclxuICAgICAgICAgICAgY2FzZSAnQ29tbWl0dGVkJzogcmV0dXJuIENPTF9URUNIX0NPTU1JVFRFRDtcclxuICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOiByZXR1cm4gQ09MX1RFQ0hfQVZBSUw7XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IEVsaWdpYmxlIFRvIEFwcGx5JzogcmV0dXJuIENPTF9URUNIX01EVV9FTElHSUJMRTtcclxuICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnOiByZXR1cm4gQ09MX1RFQ0hfTURVX0lOQlVJTEQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBDT0xfVU5LTk9XTjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXBDb250ZW50KHBsYWNlOiBOYm5QbGFjZSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8Yj4nK3BsYWNlLmxvY2lkKyc8L2I+PC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczEgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczIgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8Yj5UZWNobm9sb2d5IFBsYW48L2I+PC9icj4nO1xyXG5cclxuICAgICAgICAvKiogVGVjaG5vbG9neSBQbGFuIEZpbmFsIFN0YXRlICovXHJcbiAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlID09ICdGVFRQJ1xyXG4gICAgICAgICAgICB8fCAhcGxhY2UuYWx0UmVhc29uQ29kZVxyXG4gICAgICAgICAgICB8fCBwbGFjZS5hbHRSZWFzb25Db2RlID09ICdOVUxMX05BJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGVjaG5vbG9neTogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGlmIChwbGFjZS50ZWNoVHlwZSAhPSAnRlRUUCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdObyB0ZWNoIHVwZ3JhZGUgcGxhbm5lZDxiciAvPic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGVsc2UgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ3VycmVudDogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDaGFuZ2U6ICcgKyBwbGFjZS5hbHRSZWFzb25Db2RlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdTdGF0dXM6ICcgKyBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdQcm9ncmFtOiAnICsgcGxhY2UucHJvZ3JhbVR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1RhcmdldCBRdHI6ICcgKyBwbGFjZS50YXJnZXRFbGlnaWJpbGl0eVF1YXJ0ZXIgKyAnPGJyIC8+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiciAvPic7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhyID0gTC5Eb21VdGlsLmNyZWF0ZSgnaHInKTtcclxuICAgICAgICAgICAgY29uc3QgcHJlID0gTC5Eb21VdGlsLmNyZWF0ZSgncHJlJyk7XHJcbiAgICAgICAgICAgIHByZS5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeShwbGFjZSwgbnVsbCwgMik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaHIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHByZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJUb29sdGlwKHBsYWNlczogTmJuUGxhY2VbXSkgOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBsYWJlbCA9IHBsYWNlc1swXS5hZGRyZXNzMTtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGxhYmVsICs9ICcgKCArICcgKyAocGxhY2VzLmxlbmd0aCAtIDEpICsgJyBtb3JlKSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExlZ2VuZEl0ZW1zKCk6IExlZ2VuZEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQcmV2aW91cyBUZWNoIERpc2Nvbm5lY3RlZCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9URUNIX0NPTVBMRVRFXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnTmV3IFRlY2ggQ29ubmVjdGVkJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfQ09NUExFVEVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFbGlnaWJsZSBUbyBPcmRlcicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9URUNIX0FWQUlMXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnQnVpbGQgRmluYWxpc2VkJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfQlVJTERGSU5BTElTRURcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbiBEZXNpZ24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVEVDSF9ERVNJR05cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDb21taXR0ZWQnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVEVDSF9DT01NSVRURURcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9URUNIX01EVV9FTElHSUJMRVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ01EVSBDb21wbGV4IFByZW1pc2VzIEluIEJ1aWxkJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfTURVX0lOQlVJTERcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdVbmtub3duJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1VOS05PV05cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0sIE5iblBsYWNlLCBQb2ludEFuZFBsYWNlcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgKiBhcyBMIGZyb20gXCJsZWFmbGV0XCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgaXNQbGFjZUZUVFAsXHJcbiAgICBpc1BsYWNlRlRUQyxcclxuICAgIGlzUGxhY2VGVFRQQXZhaWwsXHJcbiAgICBpc1BsYWNlRlRUUFNvb24sXHJcbiAgICBpc1BsYWNlRlRUUEZhcixcclxuICAgIGlzRnd0b0ZUVEMsXHJcbiAgICBpc0Z3dG9GVFROLFxyXG4gICAgaXNTYXRUb0ZXLFxyXG4gICAgaXNEZWJ1Z01vZGVcclxufSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IENPTF9FRV9DQkRfWkJDICAgID0gJyMxRDcwNDQnO1xyXG5jb25zdCBDT0xfRUVfQ0JEX0JDICAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgQ09MX0VFX1oxMjNfWkJDICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IENPTF9FRV9aMTIzX0JDICAgID0gJyNFMzA3MUQnO1xyXG5jb25zdCBDT0xfVU5LTk9XTiAgICAgICA9ICcjODg4ODg4JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVFTW9kZSBpbXBsZW1lbnRzIElNb2RlIHtcclxuXHJcbiAgICBmaWx0ZXIocGxhY2U6IE5iblBsYWNlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBwbGFjZS5lZTtcclxuICAgIH1cclxuXHJcbiAgICBwb2ludENvbG91cihwb2ludDogUG9pbnRBbmRQbGFjZXMpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGFjZUNvbG91cihwb2ludC5wbGFjZXNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkgOiBzdHJpbmcge1xyXG5cclxuICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmIHBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENPTF9FRV9DQkRfWkJDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocGxhY2UuY2JkcHJpY2luZyAmJiAhcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ09MX0VFX0NCRF9CQztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCFwbGFjZS5jYmRwcmljaW5nICYmIHBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENPTF9FRV9aMTIzX1pCQztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCFwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDT0xfRUVfWjEyM19CQztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIENPTF9VTktOT1dOO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQb3B1cENvbnRlbnQocGxhY2U6IE5iblBsYWNlKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxiPicrcGxhY2UubG9jaWQrJzwvYj48L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMSArICc8L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMiArICc8L2JyPidcclxuICAgICAgICAgICAgKyAnPGJyIC8+JztcclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICc8Yj5FbnRlcnByaXNlIEV0aGVybmV0PC9iPjwvYnI+JztcclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJ1ByaWNlIFpvbmU6ICcgKyAoIHBsYWNlLmNiZHByaWNpbmcgPyAnQ0JEJyA6ICdab25lIDEvMi8zJyApICsgJzxiciAvPidcclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJ0J1aWxkIENvc3Q6ICcgKyAoIHBsYWNlLnplcm9CdWlsZENvc3QgPyAnJDAnIDogJ1BPQScgKSArICc8YnIgLz4nXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICc8YnIgLz4nO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhyID0gTC5Eb21VdGlsLmNyZWF0ZSgnaHInKTtcclxuICAgICAgICAgICAgY29uc3QgcHJlID0gTC5Eb21VdGlsLmNyZWF0ZSgncHJlJyk7XHJcbiAgICAgICAgICAgIHByZS5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeShwbGFjZSwgbnVsbCwgMik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaHIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHByZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJUb29sdGlwKHBsYWNlczogTmJuUGxhY2VbXSkgOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBsYWJlbCA9IHBsYWNlc1swXS5hZGRyZXNzMTtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGxhYmVsICs9ICcgKCArICcgKyAocGxhY2VzLmxlbmd0aCAtIDEpICsgJyBtb3JlKSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExlZ2VuZEl0ZW1zKCk6IExlZ2VuZEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFRSBDQkQgJDAnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfRUVfQ0JEX1pCQ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0VFIENCRCBQT0EnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfRUVfQ0JEX0JDXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRUUgWjEyMyAkMCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9FRV9aMTIzX1pCQ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0VFIFpvbmUgMS8yLzMgUE9BJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX0VFX1oxMjNfQkNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdVbmtub3duJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1VOS05PV05cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG59IiwiLyoqXHJcbiAqIEBmaWxlIE1haW4gZW50cnkgcG9pbnQgZm9yIG1hcCBzY3JpcHRzLlxyXG4gKiBAbW9kdWxlIGluZGV4LnRzXHJcbiAqIEB2ZXJzaW9uIDEuMC4wXHJcbiAqIEBhdXRob3IgS29hbGFHXHJcbiAqIEBsaWNlbnNlIE1JVFxyXG4gKi9cclxuXHJcbmltcG9ydCBMaXBBcGkgZnJvbSBcIi4vYXBpL2xpcF9hcGkuY2xhc3NcIjtcclxuaW1wb3J0IE5iblRlY2hNYXAgZnJvbSBcIi4vbmJuX3RlY2hfbWFwLmNsYXNzXCI7XHJcbmltcG9ydCBDb250cm9EaXNwbGF5TW9kZSBmcm9tIFwiLi9jb250cm9scy9jb250cm9sX2Rpc3BsYXlfbW9kZS5jbGFzc1wiO1xyXG5pbXBvcnQgeyBNZW1vcnlEYXRhc3RvcmUgfSBmcm9tIFwiLi9kYXRhc3RvcmUvZGF0YXN0b3JlLm1lbW9yeS5jbGFzc1wiO1xyXG5pbXBvcnQgQWxsTW9kZSBmcm9tIFwiLi9tb2Rlcy9tb2RlLmFsbFwiO1xyXG5pbXBvcnQgQ29udHJvbExlZ2VuZCBmcm9tIFwiLi9jb250cm9scy9jb250cm9sX2xlZ2VuZC5jbGFzc1wiO1xyXG5cclxuaW1wb3J0ICcuL2Fzc2V0cy9TY3JlZW5zaG90MS5wbmcnO1xyXG5pbXBvcnQgJy4vYXNzZXRzL1NjcmVlbnNob3QyLnBuZyc7XHJcbmltcG9ydCAnLi9hc3NldHMvU2NyZWVuc2hvdDMucG5nJztcclxuXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IE5iblBsYWNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgSW5kZXhEQlBsYWNlU3RvcmUgfSBmcm9tIFwiLi9wbGFjZXN0b3JlL2luZGV4ZGIucGxhY2VzdG9yZVwiO1xyXG5pbXBvcnQgVGVjaFVwZ3JhZGVNb2RlIGZyb20gXCIuL21vZGVzL3RlY2h1cGdyYWRlLm1vZGVcIjtcclxuaW1wb3J0IEVFTW9kZSBmcm9tIFwiLi9tb2Rlcy9lZS5tb2RlXCI7XHJcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ2luZGV4LnRzJyk7XHJcblxyXG5jb25zdCBpc0RldmVsb3BtZW50ID0gKCgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnIHx8IHByb2Nlc3MuYXJndi5pbmNsdWRlcygnZGV2ZWxvcG1lbnQnKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0pKCk7XHJcbmxvZ2dlci5kZWJ1ZygnaXNEZXZlbG9wbWVudCcsIGlzRGV2ZWxvcG1lbnQpO1xyXG5cclxuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IgJiYgIWlzRGV2ZWxvcG1lbnQpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcuL3NlcnZpY2Utd29ya2VyLmpzJykudGhlbihyZWdpc3RyYXRpb24gPT4ge1xyXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnU1cgcmVnaXN0ZXJlZDogJywgcmVnaXN0cmF0aW9uKTtcclxuICAgICAgICB9KS5jYXRjaChyZWdpc3RyYXRpb25FcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdTVyByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCByZWdpc3RyYXRpb25FcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gcmVhZHlcclxuICogQGRlc2NyaXB0aW9uIEV4ZWN1dGVzIGEgZnVuY3Rpb24gd2hlbiB0aGUgRE9NIGlzIHJlYWR5LlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bmN0aW9uIHRvIGV4ZWN1dGUuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTg5OTcwMS8xMjkzMjU2fVxyXG4gKi9cclxuZnVuY3Rpb24gcmVhZHkoZm46ICgpID0+IHZvaWQpIHtcclxuICAgIC8vIHNlZSBpZiBET00gaXMgYWxyZWFkeSBhdmFpbGFibGVcclxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgLy8gY2FsbCBvbiBuZXh0IGF2YWlsYWJsZSB0aWNrXHJcbiAgICAgICAgc2V0VGltZW91dChmbiwgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZuKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gRXhlY3V0ZSB3aGVuIERPTSBpcyByZWFkeS5cclxucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgY29uc3QgbWFwQXBpID0gbmV3IExpcEFwaSgpO1xyXG4gICAgLy9jb25zdCBkYXRhc3RvcmUgPSBuZXcgSW5kZXhEQkRhdGFzdG9yZSgpO1xyXG4gICAgLy8gY29uc3QgZGF0YXN0b3JlID0gbmV3IE1lbW9yeURhdGFzdG9yZSgpO1xyXG4gICAgLy9jb25zdCBtYXJrZXJMYXllciA9IG5ldyBNYXJrZXJMYXllckNsdXN0ZXIoKTtcclxuXHJcbiAgICBjb25zdCBtb2RlQWxsID0gbmV3IEFsbE1vZGUoKTtcclxuICAgIGNvbnN0IG1vZGVUZWNoVXBncmFkZSA9IG5ldyBUZWNoVXBncmFkZU1vZGUoKTtcclxuICAgIGNvbnN0IG1vZGVFRSA9IG5ldyBFRU1vZGUoKTtcclxuXHJcbiAgICBjb25zdCBnZXREZWZhdWx0TW9kZVN0cmluZyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIGNvbnN0IG1vZGVGcm9tVXJsID0gdXJsUGFyYW1zLmdldCgnbW9kZScpO1xyXG5cclxuICAgICAgICBpZiAobW9kZUZyb21VcmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZGVGcm9tVXJsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbW9kZUZyb21TdG9yYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21vZGUnKTtcclxuICAgICAgICBpZiAobW9kZUZyb21TdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2RlRnJvbVN0b3JhZ2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZ2V0TW9kZSA9IChtb2RlPzogc3RyaW5nKSA9PiB7XHJcblxyXG4gICAgICAgIGlmICghbW9kZSkge1xyXG4gICAgICAgICAgICBtb2RlID0gZ2V0RGVmYXVsdE1vZGVTdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlICdhbGwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVBbGw7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VwZ3JhZGUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVUZWNoVXBncmFkZTtcclxuICAgICAgICAgICAgY2FzZSAnZWUnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVFRTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlQWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZWZhdWx0TW9kZSA9IGdldE1vZGUoKTtcclxuXHJcbiAgICBjb25zdCBwbGFjZVN0b3JlID0gbmV3IEluZGV4REJQbGFjZVN0b3JlKCk7XHJcblxyXG4gICAgY29uc3QgbmJuVGVjaE1hcCA9IG5ldyBOYm5UZWNoTWFwKHtcclxuICAgICAgICBtYXBDb250YWluZXJJZDogJ21hcCcsXHJcbiAgICAgICAgYXBpOiBtYXBBcGksXHJcbiAgICAgICAgLy9kYXRhc3RvcmU6IGRhdGFzdG9yZSxcclxuICAgICAgICAvL21hcmtlckxheWVyOiBtYXJrZXJMYXllcixcclxuICAgICAgICBkZWZhdWx0TW9kZUhhbmRsZXI6IGRlZmF1bHRNb2RlLFxyXG4gICAgICAgIHBsYWNlc3RvcmU6IHBsYWNlU3RvcmUsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBDb250cm9scyB0byBNYXBcclxuICAgICAqL1xyXG5cclxuICAgIC8vIERpc3BsYXkgTW9kZSBDb250cm9sXHJcbiAgICBjb25zdCBjRGlzcGxheU1vZGUgPSBuZXcgQ29udHJvRGlzcGxheU1vZGUoKTtcclxuICAgIG5iblRlY2hNYXAuYWRkQ29udHJvbCgnZGlzcGxheW1vZGUnLCBjRGlzcGxheU1vZGUpO1xyXG5cclxuICAgIC8vIExlZ2VuZCBDb250cm9sXHJcbiAgICBjb25zdCBjTGVnZW5kID0gbmV3IENvbnRyb2xMZWdlbmQoKTtcclxuICAgIGNMZWdlbmQudXBkYXRlTGVnZW5kKGRlZmF1bHRNb2RlLmdldExlZ2VuZEl0ZW1zKCkpO1xyXG4gICAgbmJuVGVjaE1hcC5hZGRDb250cm9sKCdsZWdlbmQnLCBjTGVnZW5kKTtcclxuXHJcbiAgICAvLyBTZWFyY2ggQ29udHJvbFxyXG5cclxuICAgIC8vIFByb2dyZXNzIENvbnRyb2xcclxuXHJcbiAgICAvLyBBZGQgZXZlbnQgTGlzdGVuZXJzXHJcbiAgICBjRGlzcGxheU1vZGUub24oJ2NoYW5nZScsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbW9kZSA9IGdldE1vZGUoZS5zdGF0ZSk7XHJcbiAgICAgICAgaWYgKCFtb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbmJuVGVjaE1hcC5zZXRNb2RlSGFuZGxlcihtb2RlKTtcclxuICAgICAgICBjTGVnZW5kLnVwZGF0ZUxlZ2VuZChtb2RlLmdldExlZ2VuZEl0ZW1zKCkpO1xyXG5cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kZScsIGUuc3RhdGUpO1xyXG5cclxuICAgICAgICAvLyBBZGQgbW9kZSBwYXJhbSB0byBleGlzdGluZyB1cmxcclxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnbW9kZScsIGUuc3RhdGUpO1xyXG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIHVybC50b1N0cmluZygpKTtcclxuICAgICAgICBcclxuICAgIH0pO1xyXG5cclxufSkiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTQzOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gPSBzZWxmW1wid2VicGFja0NodW5rXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1NzhdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg2MDkpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJmZXRjaFBhZ2UiLCJib3VuZHMiLCJwYWdlIiwicHJvY2VlZCIsIm5vcnRoIiwiZ2V0Tm9ydGgiLCJ0b0ZpeGVkIiwiZWFzdCIsImdldEVhc3QiLCJzb3V0aCIsImdldFNvdXRoIiwid2VzdCIsImdldFdlc3QiLCJFcnJvciIsIk1hdGgiLCJtYXgiLCJOdW1iZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZldGNoIiwibWV0aG9kIiwicmVkaXJlY3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJ0ZXh0IiwicmVzdWx0IiwicGFyc2VkUmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsImNhdGNoIiwibmFtZSIsInN1YiIsIkxvZ2dlciIsInRoaXMiLCJlcnJvciIsImNvbnNvbGUiLCJhcmdzIiwid2FybiIsImRlYnVnIiwiaXNEZWJ1Z01vZGUiLCJpbmZvIiwibG9nIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJtYXAiLCJtb2RlSGFuZGxlciIsInBsYWNlU3RvcmUiLCJsb2dnZXIiLCJwb2ludE1hcCIsIk1hcCIsIm1hcmtlcnMiLCJtYXhDbHVzdGVyUmFkaXVzIiwibWFya2VyQ2x1c3RlclJhZGl1cyIsInNwaWRlcmZ5T25NYXhab29tIiwiZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb20iLCJzaG93Q292ZXJhZ2VPbkhvdmVyIiwiem9vbVRvQm91bmRzT25DbGljayIsInJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzIiwiaWNvbkNyZWF0ZUZ1bmN0aW9uIiwiY2h1bmtlZExvYWRpbmciLCJjaHVua0ludGVydmFsIiwiY2h1bmtEZWxheSIsImNodW5rUHJvZ3Jlc3MiLCJwcm9jZXNzZWQiLCJ0b3RhbCIsImVsYXBzZWQiLCJhZGRUbyIsIm9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJnZXRab29tIiwiYWRkUG9pbnRzIiwicG9pbnRzIiwibmV3TGF5ZXJzIiwiZm9yRWFjaCIsInBvaW50IiwibGF0TG5nU3RyaW5nIiwibGF0IiwibG5nIiwiZ2V0IiwibmV3TGF5ZXIiLCJyZW5kZXJQb2ludCIsInB1c2giLCJzZXQiLCJsYXllciIsImxlbmd0aCIsImFkZExheWVycyIsInJlbW92ZUFsbFBvaW50cyIsImNsZWFyTGF5ZXJzIiwiY2xlYXIiLCJyZW1vdmVBbGxNYXJrZXJzIiwiem9vbSIsInVwZGF0ZVBvaW50U3R5bGUiLCJwbGFjZXMiLCJzZXRTdHlsZSIsImZpbGxDb2xvciIsInBsYWNlQ29sb3VyIiwic2V0VG9vbHRpcENvbnRlbnQiLCJyZW5kZXJUb29sdGlwIiwicmVkcmF3Iiwic2V0TW9kZUhhbmRsZXIiLCJwbGFjZXN0b3JlIiwiREVQX3JlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzIiwibUZpbHRlciIsInJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzIiwiY2lyY2xlTWFya2VyTGF5ZXIiLCJyYWRpdXMiLCJjb2wiLCJ1bmRlZmluZWQiLCJjb2xvciIsIndlaWdodCIsIm9wYWNpdHkiLCJmaWxsT3BhY2l0eSIsImJpbmRQb3B1cCIsImdldFBsYWNlcyIsImlkcyIsInBvcHVwIiwicmVuZGVyUG9wdXAiLCJzZXRQb3B1cENvbnRlbnQiLCJsb2FkaW5nUG9wdXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJhdXRvUGFuIiwiYXV0b0Nsb3NlIiwiYmluZFRvb2x0aXAiLCJsYWJlbCIsImFkZCIsInJlbmRlclBvcHVwQ29udGVudCIsInJlbmRvclBvcHVwTXVsdGkiLCJncm91cERpdiIsInBsYWNlQ29udGFpbmVycyIsInNvcnQiLCJhIiwiYiIsImFkZHJlc3MxIiwicGxhY2UiLCJwbGFjZUNvbnRhaW5lciIsImJ1dHRvbiIsImNsYXNzTGlzdCIsInR5cGUiLCJwYW5lbCIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRseUFjdGl2ZSIsImNvbnRhaW5zIiwicmVtb3ZlIiwiY2x1c3RlciIsImNvbG9yQXJyYXkiLCJnZXRBbGxDaGlsZE1hcmtlcnMiLCJtYXJrZXIiLCJvcHRpb25zIiwiY29sb3JDb3VudHMiLCJjb2xvckFycmF5U29ydGVkIiwiT2JqZWN0Iiwia2V5cyIsImJhY2tncm91bmQiLCJsYXN0Q29sb3VyUGVyY2VudCIsImluZGV4IiwidGhpc0NvbG91clBlcmNlbnQiLCJyYW5kb21JZCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiaHRtbCIsImdldENoaWxkQ291bnQiLCJjbGFzc05hbWUiLCJNQVhfVU5GRVRDSEVEX0JPWEVTIiwiaW5pdGlhbFZpZXdTZXQiLCJmZXRjaGVkQm94ZXMiLCJTZXQiLCJwcm9ncmVzc0NvbnRyb2wiLCJwb3NpdGlvbiIsInByb2dyZXNzSXRlbXMiLCJjb250cm9scyIsIk5iblRlY2hNYXAiLCJERUZBVUxUX09QVElPTlMiLCJhcGkiLCJkZWZhdWx0TW9kZUhhbmRsZXIiLCJtYXBDb250YWluZXJJZCIsInByZWZlckNhbnZhcyIsIm1hcmtlckxheWVyIiwibWFwVGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJzdWJkb21haW5zIiwiY3Jvc3NPcmlnaW4iLCJtaW5ab29tIiwibWF4Wm9vbSIsIkwiLCJHZW9jb2RlciIsImdlb2NvZGVyIiwibWFwR2VvY29kZXIiLCJBcmNHaXMiLCJhcGlLZXkiLCJnZW9jb2RpbmdRdWVyeVBhcmFtcyIsImNvdW50cnlDb2RlIiwiY2F0ZWdvcnkiLCJtYXBTZWFyY2giLCJjb2xsYXBzZWQiLCJkZWZhdWx0TWFya0dlb2NvZGUiLCJzdWdnZXN0TWluTGVuZ3RoIiwic3VnZ2VzdFRpbWVvdXQiLCJiYm94IiwiZ2VvY29kZSIsImZpdEJvdW5kcyIsIm1hcExvY2F0ZSIsImxvY2F0ZSIsImxvY2F0ZU9wdGlvbnMiLCJzZXRWaWV3Iiwia2VlcEN1cnJlbnRab29tTGV2ZWwiLCJpbml0aWFsWm9vbUxldmVsIiwiY2FjaGVMb2NhdGlvbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2V0SW5pdGlhbE1hcFZpZXciLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJzdHJpbmdpZnkiLCJwdXNoQnJvd3Nlckhpc3RvcnkiLCJmZXRjaERhdGFGb3JDdXJyZW50VmlldyIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsInBhcnNlSW50IiwibmV3VXJsIiwicGF0aG5hbWUiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZ2V0U3RhcnRQb3MiLCJzdGFydFBvc1N0cmluZyIsImdldEl0ZW0iLCJnZW9GbGFnIiwic3RhcnRQb3MiLCJzdGFydCIsInNldFpvb20iLCJnZXRCb3hlc0luQm91bmRzIiwibm9ydGhtb3N0IiwiY2VpbCIsIndlc3RtbW9zdCIsImZsb29yIiwiYm94ZXMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImJveCIsImdldEN1cnJlbnRWaWV3Qm94ZXMiLCJnZXRCb3VuZHMiLCJoaWRlTWFya2Vyc091dHNpZGVDdXJyZW50VmlldyIsIm1hcEJvdW5kcyIsInBhZCIsIkRFUF9kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXciLCJhdHRlbXB0Iiwic2hvd1pvb21Jbldhcm5pbmciLCJ6b29tSW5XYXJuaW5nQ29udHJvbCIsIm9uQWRkIiwiZGl2IiwiY3JlYXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYWRkaW5nIiwic2V0VGltZW91dCIsImFkZENvbnRyb2wiLCJoaWRlWm9vbUluV2FybmluZyIsInJlbW92ZUNvbnRyb2wiLCJ1bmZldGNoZWRCb3hlcyIsImZpbHRlciIsImhhcyIsInVwZGF0ZUtleSIsInByb2dyZXNzSXRlbSIsImNyZWF0ZVByb2dyZXNzIiwicmVuZGVyUHJvZ3Jlc3MiLCJib3hlc1Byb2Nlc3NlZCIsInVwZGF0ZVByb2dyZXNzIiwiZmV0Y2hEYXRhIiwia2V5Iiwic3RhcnRlZCIsIkRhdGUiLCJmaW5pc2hlZCIsImNvbXBsZXRlIiwicHJvZ3Jlc3MiLCJub3ciLCJpIiwiZ2V0VGltZSIsIml0ZW1zIiwidmFsdWVzIiwiaXRlbSIsInByb2dyZXNzVGV4dCIsImV2ZXJ5IiwiaGlkZVByb2dyZXNzIiwiaW50ZXJzZWN0cyIsInByb2Nlc3NGZXRjaFJlc3VsdCIsIm5leHQiLCJtZXNzYWdlIiwic3RvcmVQbGFjZXMiLCJsYXRMbmciLCJleGlzdGluZ1BvaW50IiwibG9jaWQiLCJERVBSX3JlZnJlc2hQb2ludHNGcm9tU3RvcmUiLCJyb3VuZEJvdW5kcyIsImNvbnRyb2wiLCJnZXRDb250cm9sIiwiZXZlbnRIYW5kbGVycyIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiZW1pdCIsImhhbmRsZXJzIiwic3RhdGUiLCJnZXRTdGF0ZSIsImRpc3BsYXlNb2RlIiwiZWxDb250cm9sRGl2IiwiZWxEcm9wZG93biIsImFsbExhYmVsIiwiYWxsUmFkaW8iLCJhbGxUZXh0IiwidXBncmFkZUxhYmVsIiwidXBncmFkZVJhZGlvIiwidXBncmFkZVRleHQiLCJlZUxhYmVsIiwiZWVSYWRpbyIsImVlVGV4dCIsImdlbmVyYXRlQ29udHJvbERpdiIsImdlbmVyYXRlRHJvcGRvd24iLCJjaGFuZ2VNb2RlIiwibW9kZSIsImJvcmRlclJhZGl1cyIsImRyb3Bkb3duIiwiYWxsT3B0aW9uIiwidmFsdWUiLCJpbm5lclRleHQiLCJ1cGdyYWRlT3B0aW9uIiwiZWVPcHRpb24iLCJlIiwiZ2V0VGVjaENvbG91ciIsInRlY2hUeXBlIiwicG9pbnRDb2xvdXIiLCJpc1BsYWNlRlRUUCIsImFsdFJlYXNvbkNvZGUiLCJtYXRjaCIsInRlY2hDaGFuZ2VTdGF0dXMiLCJpc1BsYWNlRlRUUEF2YWlsIiwiaXNQbGFjZUZUVFBTb29uIiwiaXNQbGFjZUZUVFBGYXIiLCJyZWFzb25Db2RlIiwiaXNQbGFjZUZUVEMiLCJpc0Z3dG9GVFRDIiwiaXNGd3RvRlRUTiIsImlzU2F0VG9GVyIsImNvbnRlbnQiLCJhZGRyZXNzMiIsInByb2dyYW1UeXBlIiwidGFyZ2V0RWxpZ2liaWxpdHlRdWFydGVyIiwiZWUiLCJjYmRwcmljaW5nIiwiemVyb0J1aWxkQ29zdCIsImhyIiwicHJlIiwiZ2V0TGVnZW5kSXRlbXMiLCJjb2xvdXIiLCJzZXRQb3NpdGlvbiIsInVwZGF0ZUxlZ2VuZCIsImNvdW50IiwiREJfTkFNRSIsInVwZ3JhZGUiLCJkYiIsIm9sZFZlcnNpb24iLCJuZXdWZXJzaW9uIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZU5hbWVzIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiYmxvY2tlZCIsImN1cnJlbnRWZXJzaW9uIiwiYmxvY2tlZFZlcnNpb24iLCJibG9ja2luZyIsInRlcm1pbmF0ZWQiLCJlcnIiLCJmaW5hbGx5IiwiaXNSZWFkeSIsIndhaXRVbnRpbFJlYWR5IiwidGltZW91dFNlY29uZHMiLCJzdGFydFRpbWUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwidGltZUVsYXBzZWQiLCJjbGVhckludGVydmFsIiwic3RvcmVQbGFjZSIsImdldERiIiwicHV0IiwidHgiLCJvYmplY3RTdG9yZSIsImRvbmUiLCJnZXRQbGFjZSIsImxvY2lkcyIsImFsbCIsInRpbWVvdXQiLCJDT0xfVU5LTk9XTiIsIkNPTF9FRV9DQkRfWkJDIiwiQ09MX0VFX0NCRF9CQyIsIkNPTF9FRV9aMTIzX1pCQyIsIkNPTF9FRV9aMTIzX0JDIiwiZm4iLCJpc0RldmVsb3BtZW50IiwicHJvY2VzcyIsImFyZ3YiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciIsIm1hcEFwaSIsIm1vZGVBbGwiLCJtb2RlVGVjaFVwZ3JhZGUiLCJtb2RlRUUiLCJnZXRNb2RlIiwiZGVmYXVsdE1vZGUiLCJJbmRleERCUGxhY2VTdG9yZSIsIm5iblRlY2hNYXAiLCJjRGlzcGxheU1vZGUiLCJjTGVnZW5kIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwicmVhZHlTdGF0ZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwibSIsIk8iLCJjaHVua0lkcyIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJqIiwic3BsaWNlIiwiciIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVwbGFjZSIsInAiLCJiYXNlVVJJIiwic2VsZiIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsImJpbmQiLCJuYyIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9