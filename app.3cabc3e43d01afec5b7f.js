/*! For license information please see app.3cabc3e43d01afec5b7f.js.LICENSE.txt */
(()=>{"use strict";var t,e={611:(t,e,n)=>{const r=function(){function t(){}return t.prototype.fetchPage=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=function(){return!0}),r=this,o=void 0,a=function(){var r,o,i,a;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(s){switch(s.label){case 0:if(r=t.getNorth().toFixed(2),o=t.getEast().toFixed(2),i=t.getSouth().toFixed(2),a=t.getWest().toFixed(2),!n())throw new Error("Proceed function returned false. Stopping fetch.");return e=Math.max(1,Number(e)),"https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(e),[4,new Promise((function(t,n){fetch("https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(e),{method:"GET",redirect:"follow"}).then((function(t){return t.text()})).then((function(e){var n=JSON.parse(e);t(n.data)})).catch(n)}))];case 1:return[2,s.sent()]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function s(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,s)}l((a=a.apply(r,o||[])).next())}));var r,o,i,a},t}();n(623);var o=n(243),i=(n(664),n(687),n(634),n(817)),a=(n(732),n(256),function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}),s=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const l=function(){function t(t,e,n){this.points={},this.map=t,this.datastore=e,this.modeHandler=n,this.markers=new o.MarkerClusterGroup({maxClusterRadius:this.markerClusterRadius,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:18,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,iconCreateFunction:this.iconCreateFunction,chunkedLoading:!0,chunkInterval:150,chunkDelay:150,chunkProgress:function(t,e,n){console.log("chunkProgress",{processed:t,total:e,elapsed:n})}}),this.markers.addTo(this.map),this.map.on("zoomend",(function(t){console.log("zoomend",t.target.getZoom())}))}return t.prototype.iconCreateFunction=function(t){var e=t.getAllChildMarkers().map((function(t){return t.options.fillColor})),n={};e.forEach((function(t){n[t]||(n[t]=0),n[t]++}));var r=Object.keys(n).sort((function(t,e){return n[e]-n[t]})),i="background: conic-gradient(",a=0;r.forEach((function(t,r){0==r&&(i+="\n"+t+" 0%");var o=n[t]/e.length*100;i+=", \n"+t+" "+a+"%",i+=", \n"+t+" "+(a+o)+"%",a+=o})),i+="\n);";var s=Math.random().toString(36).substring(7);return o.divIcon({html:"<style>#cluster_".concat(s,"::before { ").concat(i," }</style> <div id='cluster_").concat(s,"'><span>")+t.getChildCount()+"</span></div>",className:"marker-cluster"})},t.prototype.markerClusterRadius=function(t){switch(t){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:return 150;case 14:return 100;default:return 0}},t.prototype.setModeHandler=function(t){return this.modeHandler=t,Object.values(this.points).forEach((function(e){var n=e.layer,r=e.point;n.setStyle({fillColor:t.pointColour(r)}),n.redraw()})),console.error(this.markers),this.markers&&this.markers.getLayers().length&&this.markers.refreshClusters(),this},t.prototype.refreshMarkersInsideBounds=function(t,e){var n,r,o;return a(this,void 0,void 0,(function(){var i,a,l=this;return s(this,(function(s){switch(s.label){case 0:if(!this.datastore)throw new Error("Datastore not set");return[4,this.datastore.getFullPointsWithinBounds(t)];case 1:return s.sent().forEach((function(t){var e=t.latlng;l.points[e]?l.points[e].point=t:l.points[e]={layer:l.renderPoint(t),point:t}})),e?(i=[],a=Object.values(this.points).filter((function(t){var n=t.layer,r=t.point.places.filter(e).length>0;return r||i.push(n),r})),i.length&&(null===(n=this.markers)||void 0===n||n.removeLayers(i)),null===(r=this.markers)||void 0===r||r.addLayers(a.map((function(t){return t.layer})))):null===(o=this.markers)||void 0===o||o.addLayers(Object.values(this.points).map((function(t){return t.layer}))),[2]}}))}))},t.prototype.removeMarkersOutsideBounds=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},t.prototype.removeAllMarkers=function(){var t;return a(this,void 0,void 0,(function(){return s(this,(function(e){return null===(t=this.markers)||void 0===t||t.clearLayers(),[2]}))}))},t.prototype.renderPoint=function(t){var e,n=this,r=o.circleMarker([t.latitude,t.longitude],{radius:5,fillColor:null===(e=this.modeHandler)||void 0===e?void 0:e.pointColour(t),color:"#000000",weight:1,opacity:1,fillOpacity:.8});return r.bindPopup((function(e){return n.renderPopup(t.places)||""}),{autoPan:!0,autoClose:!1}),r.bindTooltip((function(e){return n.modeHandler.renderTooltip(t.places)||""}),{}),r},t.prototype.renderPopup=function(t){return 1==t.length?this.modeHandler.renderPopupContent(t[0]):this.rendorPopupMulti(t)},t.prototype.rendorPopupMulti=function(t){var e,n,r=document.createElement("div"),o=[];t.sort((function(t,e){return t.address1<e.address1?-1:t.address1>e.address1?1:0}));var i=function(t){var e=document.createElement("div"),n=a.modeHandler.placeColour(t),i=document.createElement("button");i.classList.add("accordion"),i.type="button",i.innerHTML='<svg height="15" width="15" style="margin-right:3px">'+'<circle class="circle" cx="7.5" cy="9" r="5" stroke="#000" stroke-width="1" fill="'.concat(n,'" />')+"</svg>"+"<span>".concat(t.address1,"</span>");var s=document.createElement("div");s.classList.add("panel"),s.appendChild(a.modeHandler.renderPopupContent(t)),i.addEventListener("click",(function(){var t=e.classList.contains("active");o.forEach((function(t){t.classList.remove("active")})),t||e.classList.add("active")})),e.appendChild(i),e.appendChild(s),r.appendChild(e),o.push(e)},a=this;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),l=s.next();!l.done;l=s.next())i(l.value)}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},t}();var c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},p=function(){function t(t){this.name=t}return t.prototype.sub=function(e){return new t("".concat(this.name,".").concat(e))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.warn.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];d()&&console.debug.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.info.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t}();function d(){return window.location.href.includes("localhost")||window.location.href.includes("debug=true")}var h=function(){return h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h.apply(this,arguments)},f=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function v(t){var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=Math.floor(50*t.getSouth())/50,i=Math.ceil(25*t.getEast())/25;return o.latLngBounds([r,n],[e,i])}var y=function(){function t(e){var n=this;this.logger=new p("NbnTechMap"),this.markerFilter=function(t){return!0},this.initialViewSet=!1,this.controls={},e=h(h({},t.DEFAULT_OPTIONS),e),this.api=e.api,this.datastore=e.datastore,this.modeHandler=e.defaultModeHandler,this.map=o.map(e.mapContainerId,{preferCanvas:!0}),this.markerLayer=new l(this.map,this.datastore,this.modeHandler),this.mapTileLayer=o.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",crossOrigin:!0,minZoom:5,maxZoom:20}),this.mapTileLayer.addTo(this.map),console.log({L:o,Geocoder:i.Ms,geocoder:i.yK});var r=new i.d2.ArcGis({apiKey:"AAPKa97b8a5374db4fa9b0fdd8e55361cba4Z9fEuw3ckAOIFHK1CP_VbzTv3OTeUz3ggrFAzVPzjyn3Q7bQFzbwkDMvDxaJ-JzG",geocodingQueryParams:{countryCode:"AU",category:"Address,LatLong,Neighborhood,District,City,Metro Area"}});this.mapSearch=o.Control.geocoder({position:"topleft",collapsed:!0,defaultMarkGeocode:!1,geocoder:r,suggestMinLength:5,suggestTimeout:1e3}),this.mapSearch.on("markgeocode",(function(t){var e=t.geocode.bbox;n.map.fitBounds(e)})),this.mapSearch.addTo(this.map),this.mapLocate=o.control.locate({position:"topleft",locateOptions:{maxZoom:16},setView:"untilPan",keepCurrentZoomLevel:!0,initialZoomLevel:17,cacheLocation:!0}),this.mapLocate.addTo(this.map),this.map.on("locateactivate",(function(){localStorage.setItem("geolocate","1")})),this.map.on("locatedeactivate",(function(){localStorage.removeItem("geolocate")})),this.setInitialMapView(),this.map.on("moveend",(function(){return f(n,void 0,void 0,(function(){var t,e;return g(this,(function(n){switch(n.label){case 0:return t=this.map.getCenter(),e=this.map.getZoom(),localStorage.setItem("startpos",JSON.stringify({lat:t.lat,lng:t.lng,zoom:e})),this.pushBrowserHistory(),r.options.geocodingQueryParams&&(r.options.geocodingQueryParams.location="".concat(t.lng,",").concat(t.lat)),[4,this.displayMarkersInCurrentView()];case 1:return n.sent(),this.fetchDataForCurrentView(),[2]}}))}))})),this.fetchDataForCurrentView()}return t.prototype.pushBrowserHistory=function(){var t=this.map.getCenter(),e=this.map.getZoom();window.history.pushState({},"","?lat=".concat(t.lat,"&lng=").concat(t.lng,"&zoom=").concat(e))},t.prototype.getStartPos=function(){var t=localStorage.getItem("startpos");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}},t.prototype.setInitialMapView=function(){var t=this.logger.sub("setInitialMapView");if(this.initialViewSet)t.warn("Initial map view already set");else{var e=new URLSearchParams(window.location.search),n=e.get("lat"),r=e.get("lng"),o=e.get("zoom");if(console.log({urlParams:e,lat:n,lng:r,zoom:o}),n&&r&&o)return this.map.setView([Number(n),Number(r)],parseInt(o)),void(this.initialViewSet=!0);var i=localStorage.getItem("geolocate"),a=this.getStartPos();a&&(this.map.setView([a.lat,a.lng],a.zoom),this.initialViewSet=!0),a||(this.map.setView([-26.1772288,133.4170119],10),this.initialViewSet=!0),!i&&a||(this.mapLocate.start(),this.map.setZoom(17),this.initialViewSet=!0),this.initialViewSet||t.error("Could not set initial map view")}},t.prototype.getBoxesInBounds=function(t){for(var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=[],i=e;i>t.getSouth();i-=.02)for(var a=n;a<t.getEast();a+=.04)r.push([i,a]);return r.map((function(t){var e=t[0],n=t[1],r=e-.02,i=n+.04;return o.latLngBounds([r,n],[e,i])}))},t.prototype.getCurrentViewBoxes=function(){return this.getBoxesInBounds(this.map.getBounds())},t.prototype.hideMarkersOutsideCurrentView=function(){var t=this.map.getBounds().pad(.5);this.markerLayer.removeMarkersOutsideBounds(t)},t.prototype.displayMarkersInCurrentView=function(t){return void 0===t&&(t=1),f(this,void 0,void 0,(function(){var e,n=this;return g(this,(function(r){return!1===this.datastore.isReady()?t>10?(console.error("Could not get datastore ready. Giving up."),[2]):(console.warn("Datastore is not ready. Delaying displayMarkersInCurrentView()"),setTimeout((function(){return n.displayMarkersInCurrentView(t+1)}),1e3),[2]):(console.log("Displaying markers in current view"),e=v(this.map.getBounds()),console.log("Fetching from Datastore",e),this.refreshPointsFromStore(e),[2])}))}))},t.prototype.fetchDataForCurrentView=function(){return f(this,void 0,void 0,(function(){var t,e,n,r,o,i=this;return g(this,(function(a){switch(a.label){case 0:if(t=this.logger.sub("fetchDataForCurrentView"),this.hideMarkersOutsideCurrentView(),this.displayMarkersInCurrentView(),this.map.getZoom()<11)return t.warn("Zoom level too low. Skipping."),[2];if(e=this.getCurrentViewBoxes(),t.debug("Current view boxes",e),e.length>1e3)return t.warn("Too many boxes to fetch. Skipping."),[2];t.debug("Fetching boxes",e.length),n=function(t,e){for(var n=[];t.length;)n.push(t.splice(0,10));return n}(e),t.debug("Box chunks",n.length,n),r=0,a.label=1;case 1:return r<n.length?(o=n[r].map((function(t){return i.fetchData(t)})),t.debug("Fetch promises",o.length,o),[4,Promise.all(o)]):[3,4];case 2:a.sent(),this.refreshPointsFromStore(this.map.getBounds().pad(.5)),a.label=3;case 3:return r++,[3,1];case 4:return t.debug("All boxes fetched"),[2]}}))}))},t.prototype.fetchData=function(t,e){return void 0===e&&(e=1),f(this,void 0,void 0,(function(){var n,r,o=this;return g(this,(function(i){switch(i.label){case 0:d()&&console.log("Fetching Box",t.getCenter().toString(),e),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,this.api.fetchPage(t,e,(function(){return o.map.getBounds().intersects(t)}))];case 2:return n=i.sent(),[4,this.processFetchResult(n,t)];case 3:return i.sent(),n.next?[4,this.fetchData(t,n.next)]:[3,5];case 4:return[2,i.sent()];case 5:return[2];case 6:return"Page already loaded this session."==(r=i.sent()).message?[2]:(console.error(r),[3,7]);case 7:return[2]}}))}))},t.prototype.processFetchResult=function(t,e){return f(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return console.log("Storing places."),e=this.datastore.storePlaces(t.places),console.log("Waiting for place storing to finish"),[4,e];case 1:return n.sent(),[2]}}))}))},t.prototype.refreshPointsFromStore=function(t){return f(this,void 0,void 0,(function(){return g(this,(function(e){if(!this.markerLayer)throw new Error("Marker Layer not set");return t||(console.log("Bounds not passed. Using map bounds."),t=this.map.getBounds()),t=v(t),this.markerLayer.refreshMarkersInsideBounds(t,this.markerFilter),[2]}))}))},t.prototype.addControl=function(t,e){if(this.controls[t])throw new Error("Control with key ".concat(t," already exists"));this.controls[t]=e,this.map.addControl(e.getControl()),console.log("Added control",t)},t.prototype.setMarkerFilter=function(t){if(!this.markerLayer)throw new Error("Marker Layer not set");this.markerFilter=t,this.markerLayer.refreshMarkersInsideBounds(this.map.getBounds(),this.markerFilter)},t.prototype.setModeHandler=function(t){var e;this.modeHandler=t,null===(e=this.markerLayer)||void 0===e||e.setModeHandler(t)},t.DEFAULT_OPTIONS={mapContainerId:"map"},t}();const m=y,b=function(){function t(){this.eventHandlers={},this.control=new o.Control}return t.prototype.on=function(t,e){this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},t.prototype.emit=function(t,e){var n=this;console.debug("Emitting event: ".concat(t),{data:e,handlers:this.eventHandlers[t]}),this.eventHandlers[t]&&this.eventHandlers[t].forEach((function(r){return r({name:t,state:n.getState(),data:e})}))},t.prototype.getControl=function(){return this.control},t}();var w,C=(w=function(t,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},w(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const T=function(t){function e(){var e=t.call(this)||this;return e.displayMode="all",e.elControlDiv=document.createElement("div"),e.elDropdown=document.createElement("select"),e.allLabel=null,e.allRadio=null,e.allText=null,e.upgradeLabel=null,e.upgradeRadio=null,e.upgradeText=null,e.eeLabel=null,e.eeRadio=null,e.eeText=null,e.generateControlDiv(),e.control.onAdd=function(t){return e.generateDropdown(),e.elControlDiv},e}return C(e,t),e.prototype.getState=function(){return this.displayMode},e.prototype.changeMode=function(t){this.displayMode=t,this.emit("change",t)},e.prototype.generateControlDiv=function(){this.elControlDiv&&console.warn("ControlDiv already exists"),this.elControlDiv.classList.add("info","legend"),this.elControlDiv.style.backgroundColor="#ffffff",this.elControlDiv.style.opacity="0.8",this.elControlDiv.style.padding="5px",this.elControlDiv.style.borderRadius="5px"},e.prototype.generateDropdown=function(){var t=this;this.elDropdown&&console.warn("Dropdown already exists");var e=this.elDropdown;e.classList.add("control-select");var n=document.createElement("option");n.value="all",n.innerText="Show All Locations",e.appendChild(n),e.addEventListener("change",(function(e){return t.changeMode(e.target.value)})),this.elDropdown=e,this.elControlDiv.appendChild(e)},e}(b);var k=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},x=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},L=function(){function t(){this.latLngIndex={},this.nbnPlaceStore={}}return t.prototype.isReady=function(){return!0},t.prototype.storePlace=function(t){return k(this,void 0,void 0,(function(){var e,n,r,o;return x(this,(function(i){return e=t.latitude,n=t.longitude,r="".concat(e,",").concat(n),o=t.locid,this.latLngIndex[r]?this.latLngIndex[r].includes(o)||this.latLngIndex[r].push(o):this.latLngIndex[r]=[o],this.nbnPlaceStore[o]=t,[2]}))}))},t.prototype.storePlaces=function(t){return k(this,void 0,void 0,(function(){var e=this;return x(this,(function(n){return t.forEach((function(t){return e.storePlace(t)})),[2]}))}))},t.prototype.getPlace=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){return[2,this.nbnPlaceStore[t]]}))}))},t.prototype.getPlaces=function(){return k(this,void 0,void 0,(function(){var t=this;return x(this,(function(e){return[2,Object.keys(this.nbnPlaceStore).map((function(e){return t.nbnPlaceStore[e]}))]}))}))},t.prototype.getPoints=function(){return k(this,void 0,void 0,(function(){var t=this;return x(this,(function(e){return[2,Object.keys(this.latLngIndex).map((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e.split(",").map(Number),2);return{latlng:e,latitude:n[0],longitude:n[1],locids:t.latLngIndex[e]}}))]}))}))},t.prototype.getPointsWithinBounds=function(t){return k(this,void 0,void 0,(function(){var e=this;return x(this,(function(n){switch(n.label){case 0:return[4,this.getPoints()];case 1:return[2,n.sent().filter((function(n){var r=n.latitude,o=n.longitude;return e.isLatLngWithinBounds(r,o,t)}))]}}))}))},t.prototype.getFullPointsWithinBounds=function(t){return k(this,void 0,void 0,(function(){var e,n=this;return x(this,(function(r){switch(r.label){case 0:return[4,this.getPoints()];case 1:return e=r.sent().filter((function(e){var r=e.latitude,o=e.longitude;return n.isLatLngWithinBounds(r,o,t)})).map((function(t){return{latlng:t.latlng,latitude:t.latitude,longitude:t.longitude,places:t.locids.map((function(t){return n.nbnPlaceStore[t]}))}})),[2,e]}}))}))},t.prototype.getPlacesAtLatLng=function(t,e){return k(this,void 0,void 0,(function(){var n,r=this;return x(this,(function(o){return n="".concat(t,",").concat(e),[2,this.latLngIndex[n].map((function(t){return r.nbnPlaceStore[t]}))]}))}))},t.prototype.isLatLngWithinBounds=function(t,e,n){return t>n.getSouth()&&t<n.getNorth()&&e>n.getWest()&&e<n.getEast()},t}(),S="#1D7044",M="#75AD6F",E="#C8E3C5",P="#FFBE00",F="#FF7E01",O="#E3071D",D="#02B9E3",B="#022BE3",H="#6B02E3",I="#888888";function A(t){switch(t){case"FTTP":return S;case"FTTC":return F;case"FTTN":case"FTTB":return O;case"HFC":return P;case"WIRELESS":return D;case"SATELLITE":return H}return I}const R=function(){function t(){}return t.prototype.filter=function(t){return!0},t.prototype.pointColour=function(t){return this.placeColour(t.places[0])},t.prototype.placeColour=function(t){return function(t){return"FTTP"===t.techType}(t)?S:function(t){return!(!t.altReasonCode||!t.altReasonCode.match(/^FTTP/)||"Eligible To Order"!==t.techChangeStatus)}(t)?M:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/))switch(t.techChangeStatus){case"In Design":case"Build Finalised":case"Planned":case"MDU Complex Eligible To Apply":case"MDU Complex Premises In Build":return!0}return!1}(t)?E:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/)&&"Committed"===t.techChangeStatus)return!0}(t)?A(t.techType):function(t){return!("FTTC"!=t.techType||!t.reasonCode||!t.reasonCode.match(/^FTTC/)||"New Tech Connected"!=t.techChangeStatus)}(t)?F:function(t){return"FTTC"==t.techType&&"FTTC_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?"#FF7E01":function(t){return"FTTN"==t.techType&&"FTTN_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?O:function(t){return"WIRELESS"==t.techType&&"FW_SA"==t.reasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?B:(t.altReasonCode&&"NULL_NA"!=t.altReasonCode&&console.log(t),A(t.techType))},t.prototype.renderPopupContent=function(t){var e=o.DomUtil.create("div");if(e.innerHTML="<b>"+t.locid+"</b></br>"+t.address1+"</br>"+t.address2+"</br><br />",e.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=t.techType&&t.altReasonCode&&"NULL_NA"!=t.altReasonCode?(t.altReasonCode&&t.altReasonCode.match(/^FTTP/),e.innerHTML+="Current: "+t.techType+"<br />",e.innerHTML+="Change: "+t.altReasonCode+"<br />",e.innerHTML+="Status: "+t.techChangeStatus+"<br />",e.innerHTML+="Program: "+t.programType+"<br />",e.innerHTML+="Target Qtr: "+t.targetEligibilityQuarter+"<br />"):(e.innerHTML+="Technology: "+t.techType+"<br />","FTTP"!=t.techType&&(e.innerHTML+="No tech upgrade planned<br />")),e.innerHTML+="<br />",t.ee&&(e.innerHTML+="<b>Enterprise Ethernet</b></br>",e.innerHTML+="Price Zone: "+(t.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",e.innerHTML+="Build Cost: "+(t.zeroBuildCost?"$0":"POA")+"<br />",e.innerHTML+="<br />"),d()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(t,null,2),e.appendChild(n),e.appendChild(r)}return e},t.prototype.renderTooltip=function(t){var e=t[0].address1;return t.length>1&&(e+=" ( + "+(t.length-1)+" more)"),e},t.prototype.getLegendItems=function(){return[{label:"FTTP",colour:S},{label:"FTTP Upgrade",colour:M},{label:"FTTP Upgrade Soon",colour:E},{label:"HFC",colour:P},{label:"FTTC",colour:F},{label:"FTTN/FTTB",colour:O},{label:"FW",colour:D},{label:"FW Upgrade",colour:B},{label:"Satellite",colour:H},{label:"Unknown",colour:I}]},t}();var V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const _=function(t){function e(){var e=t.call(this)||this;return e.elControlDiv=document.createElement("div"),e.control.setPosition("bottomright"),e.elControlDiv.classList.add("info","legend"),e.elControlDiv.style.backgroundColor="#ffffff",e.elControlDiv.style.opacity="0.8",e.elControlDiv.style.padding="5px",e.elControlDiv.style.borderRadius="5px",e.control.onAdd=function(t){return e.elControlDiv},e}return V(e,t),e.prototype.getState=function(){},e.prototype.updateLegend=function(t){var e="";t.forEach((function(t){e+='<svg height="10" width="10"><circle cx="5" cy="5" r="5" fill="'+t.colour+'" stroke="#000000" stroke-width="1" opacity="1" fill-opacity="0.8" /></svg> '+t.label,t.count&&(e+=" ("+t.count+")"),e+="<br>"})),this.elControlDiv.innerHTML=e},e}(b);n.p,n.p,n.p;var N,z=new p("index.ts"),j=function(){try{return process.argv.includes("development")}catch(t){return!1}}();z.debug("isDevelopment",j),"serviceWorker"in navigator&&!j&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(t){z.info("SW registered: ",t)})).catch((function(t){z.warn("SW registration failed: ",t)}))})),N=function(){var t=new r,e=new L,n=new R,o=new m({mapContainerId:"map",api:t,datastore:e,defaultModeHandler:n}),i=new T;o.addControl("displaymode",i);var a=new _;a.updateLegend(n.getLegendItems()),o.addControl("legend",a),i.on("change",(function(t){"all"===t.state&&o.setModeHandler(n)}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(N,1):document.addEventListener("DOMContentLoaded",N)},36:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 stroke=%27%23000%27 stroke-linecap=%27round%27 stroke-width=%271.6%27 viewBox=%270 0 24 24%27%3E%3Cdefs/%3E%3Cg%3E%3Cpath stroke-opacity=%27.1%27 d=%27M14 8.4l3-5%27/%3E%3Cpath stroke-opacity=%27.2%27 d=%27M15.6 10l5-3%27/%3E%3Cpath stroke-opacity=%27.3%27 d=%27M16.2 12H22%27/%3E%3Cpath stroke-opacity=%27.4%27 d=%27M15.6 14l5 3m-6.5-1.4l2.9 5%27/%3E%3Cpath stroke-opacity=%27.5%27 d=%27M12 16.2V22m-2-6.4l-3 5%27/%3E%3Cpath stroke-opacity=%27.6%27 d=%27M8.4 14l-5 3%27/%3E%3Cpath stroke-opacity=%27.7%27 d=%27M7.8 12H2%27/%3E%3Cpath stroke-opacity=%27.8%27 d=%27M8.4 10l-5-3%27/%3E%3Cpath stroke-opacity=%27.9%27 d=%27M10 8.4l-3-5%27/%3E%3Cpath d=%27M12 7.8V2%27/%3E%3CanimateTransform attributeName=%27transform%27 calcMode=%27discrete%27 dur=%271s%27 repeatCount=%27indefinite%27 type=%27rotate%27 values=%270 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12%27/%3E%3C/g%3E%3C/svg%3E"},585:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Cpath d=%27M12.2 13l3.4 6.6c.6 1.1 2.5-.4 2-1.2l-4-6.2z%27/%3E%3Ccircle cx=%2710.8%27 cy=%278.9%27 r=%273.9%27 fill=%27none%27 stroke=%27%23000%27 stroke-width=%271.5%27/%3E%3C/svg%3E"},539:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M304 48a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48 368a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm208-208a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM96 256a48 48 0 1 0-96 0 48 48 0 0 0 96 0zm13 99a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm294 0a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM109 61a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"/></svg>'},141:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},478:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%28252, 132, 40%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},38:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%2832, 116, 182%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,o,i]=t[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!t;)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{r.b=document.baseURI||self.location.href;var t={143:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[a,s,l]=n,c=0;if(a.some((e=>0!==t[e]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(e&&e(n);c<a.length;c++)i=a[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.nc=void 0;var o=r.O(void 0,[918],(()=>r(611)));o=r.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QnJELEVBQW9CVSxPQUFFUCxFQUFXLENBQUMsTUFBTSxJQUFPSCxFQUFvQixPQUM3RnFELEVBQXNCckQsRUFBb0JVLEVBQUUyQyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovLy8uL3NyYy9hcGkvbGlwX2FwaS5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFya2VybGF5ZXIvbWFya2VybGF5ZXIuY2x1c3Rlci5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25ibl90ZWNoX21hcC5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbC5hYnN0cmFjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9kaXNwbGF5X21vZGUuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFzdG9yZS9kYXRhc3RvcmUubWVtb3J5LmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2Rlcy9tb2RlLmFsbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9sZWdlbmQuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgSUFwaSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE5iblBsYWNlQXBpUmVzcG9uc2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgaXNEZWJ1Z01vZGUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpcEFwaSBpbXBsZW1lbnRzIElBcGkge1xyXG5cclxuICAgIGFzeW5jIGZldGNoUGFnZShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLFxyXG4gICAgICAgIHBhZ2U6IG51bWJlciA9IDEsXHJcbiAgICAgICAgcHJvY2VlZDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHRydWUsXHJcbiAgICApIDogUHJvbWlzZTxOYm5QbGFjZUFwaVJlc3BvbnNlPlxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBub3J0aCA9IGJvdW5kcy5nZXROb3J0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3QgZWFzdCA9IGJvdW5kcy5nZXRFYXN0KCkudG9GaXhlZCgyKTtcclxuICAgICAgICBjb25zdCBzb3V0aCA9IGJvdW5kcy5nZXRTb3V0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3Qgd2VzdCA9IGJvdW5kcy5nZXRXZXN0KCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcm9jZWVkKCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9jZWVkIGZ1bmN0aW9uIHJldHVybmVkIGZhbHNlLiBTdG9wcGluZyBmZXRjaC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGFnZSA9IE1hdGgubWF4KDEsIE51bWJlcihwYWdlKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2VVcmwgPSBgaHR0cHM6Ly9hcGkubGlwLm5ldC5hdS9uYm4tYnVsay9tYXAvJHtub3J0aH0vJHtlYXN0fS8ke3NvdXRofS8ke3dlc3R9P3BhZ2U9JHtwYWdlfWA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHBhZ2UgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQgdGhpcyBzZXNzaW9uLlxyXG4gICAgICAgIC8vY29uc3QgY2FjaGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHBhZ2VVcmwpO1xyXG4gICAgICAgIC8vY29uc3QgY2FjaGVkVGltZSA9IGNhY2hlID8gbmV3IERhdGUoY2FjaGUpIDogbnVsbDtcclxuICAgICAgICAvL2lmIChjYWNoZWRUaW1lICYmIGNhY2hlZFRpbWUuZ2V0VGltZSgpID4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAxMDAwICogNjAgKiA2MCAqIDI0KSB7XHJcbiAgICAgICAgLy8gICAgdGhyb3cgbmV3IEVycm9yKCdQYWdlIGFscmVhZHkgbG9hZGVkIHRoaXMgc2Vzc2lvbi4nKTtcclxuICAgICAgICAvL31cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmxpcC5uZXQuYXUvbmJuLWJ1bGsvbWFwLyR7bm9ydGh9LyR7ZWFzdH0vJHtzb3V0aH0vJHt3ZXN0fT9wYWdlPSR7cGFnZX1gLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCkgYXMgeyBkYXRhOiBOYm5QbGFjZUFwaVJlc3BvbnNlfTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocGFyc2VkUmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy9zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHBhZ2VVcmwsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBJRGF0YXN0b3JlIGZyb20gXCIuLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IElNYXJrZXJMYXllciBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2VcIjtcclxuaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXInO1xyXG5pbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuY3NzJztcclxuLy9pbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MnO1xyXG5cclxuaW1wb3J0ICogYXMgTCBmcm9tIFwibGVhZmxldFwiO1xyXG5pbXBvcnQgeyBOYm5QbGFjZSwgUG9pbnRBbmRMb2NpZHMsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcblxyXG4vLyBDb25zdGFudCBDb2xvdXJzXHJcbmNvbnN0IGNvbG91ckZUVFAgXHRcdD0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJGVFRQQXZhaWwgICA9ICcjNzVBRDZGJztcclxuY29uc3QgY29sb3VyRlRUUFNvb24gICAgPSAnI0M4RTNDNSc7XHJcbmNvbnN0IGNvbG91ckhGQyBcdFx0PSAnI0ZGQkUwMCc7XHJcbmNvbnN0IGNvbG91ckZUVEMgXHRcdD0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFRDQXZhaWwgICA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUTkIgXHRcdD0gJyNFMzA3MUQnO1xyXG5jb25zdCBjb2xvdXJGVyBcdFx0ICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJGV0F2YWlsIFx0PSAnIzAyMkJFMyc7XHJcbmNvbnN0IGNvbG91clNhdCBcdCAgICA9ICcjNkIwMkUzJztcclxuXHJcbmNvbnN0IGNvbG91ckVFX0NCRF9aQkMgID0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJFRV9DQkRfQkMgICA9ICcjMDJCOUUzJztcclxuY29uc3QgY29sb3VyRUVfWjEyM19aQkMgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckVFX1oxMjNfQkMgID0gJyNFMzA3MUQnO1xyXG5cclxuY29uc3QgQ09MX1RFQ0hfQ09NUExFVEUgICAgICAgICA9ICcjMUQ3MDQ0JztcclxuY29uc3QgQ09MX1RFQ0hfQVZBSUwgICAgICAgICAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQgICA9ICcjRkZCRTAwJztcclxuY29uc3QgQ09MX1RFQ0hfREVTSUdOICAgICAgICAgICA9ICcjRkY3RTAxJztcclxuY29uc3QgQ09MX1RFQ0hfQ09NTUlUVEVEICAgICAgICA9ICcjRTMwNzFEJztcclxuXHJcbmNvbnN0IENPTF9URUNIX01EVV9JTkJVSUxEICAgICAgPSAnIzAyMkJFMyc7XHJcbmNvbnN0IENPTF9URUNIX01EVV9FTElHSUJMRSAgICAgPSAnIzZCMDJFMyc7XHJcblxyXG5jb25zdCBjb2xvdXJVbmtub3duICAgICAgPSAnIzg4ODg4OCc7XHJcblxyXG5pbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlckxheWVyQ2x1c3RlciBpbXBsZW1lbnRzIElNYXJrZXJMYXllciB7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXA6IEwuTWFwO1xyXG4gICAgcHJpdmF0ZSBkYXRhc3RvcmU6IElEYXRhc3RvcmU7XHJcbiAgICBwcml2YXRlIG1vZGVIYW5kbGVyOiBJTW9kZTtcclxuXHJcbiAgICBwcml2YXRlIG1hcmtlcnM6IEwuTWFya2VyQ2x1c3Rlckdyb3VwO1xyXG5cclxuICAgIHByaXZhdGUgcG9pbnRzOiB7XHJcbiAgICAgICAgW2xhdExuZ1N0cmluZzogc3RyaW5nXToge1xyXG4gICAgICAgICAgICBsYXllcjogTC5DaXJjbGVNYXJrZXIsXHJcbiAgICAgICAgICAgIHBvaW50OiBQb2ludEFuZFBsYWNlcyxcclxuICAgICAgICB9XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgY29uc3RydWN0b3IobWFwOiBMLk1hcCwgZGF0YXN0b3JlOiBJRGF0YXN0b3JlLCBtb2RlSGFuZGxlcjogSU1vZGUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgICAgdGhpcy5kYXRhc3RvcmUgPSBkYXRhc3RvcmU7XHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG1vZGVIYW5kbGVyO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlcnMgPSBuZXcgTC5NYXJrZXJDbHVzdGVyR3JvdXAoe1xyXG4gICAgICAgICAgICBtYXhDbHVzdGVyUmFkaXVzOiB0aGlzLm1hcmtlckNsdXN0ZXJSYWRpdXMsXHJcbiAgICAgICAgICAgIHNwaWRlcmZ5T25NYXhab29tOiBmYWxzZSxcclxuICAgICAgICAgICAgZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb206IDE4LFxyXG4gICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiB0cnVlLFxyXG4gICAgICAgICAgICB6b29tVG9Cb3VuZHNPbkNsaWNrOiB0cnVlLFxyXG4gICAgICAgICAgICByZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kczogdHJ1ZSxcclxuICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiB0aGlzLmljb25DcmVhdGVGdW5jdGlvbixcclxuICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGNodW5rSW50ZXJ2YWw6IDE1MCxcclxuICAgICAgICAgICAgY2h1bmtEZWxheTogMTUwLFxyXG4gICAgICAgICAgICBjaHVua1Byb2dyZXNzOiAocHJvY2Vzc2VkLCB0b3RhbCwgZWxhcHNlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NodW5rUHJvZ3Jlc3MnLCB7IHByb2Nlc3NlZCwgdG90YWwsIGVsYXBzZWQgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubWFya2Vycy5hZGRUbyh0aGlzLm1hcCk7XHJcblxyXG4gICAgICAgIHRoaXMubWFwLm9uKCd6b29tZW5kJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd6b29tZW5kJywgZXZlbnQudGFyZ2V0LmdldFpvb20oKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGljb25DcmVhdGVGdW5jdGlvbihjbHVzdGVyOiBMLk1hcmtlckNsdXN0ZXIpIDogTC5EaXZJY29uXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheSA9IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkubWFwKChtYXJrZXIpID0+IChtYXJrZXIgYXMgYW55KS5vcHRpb25zLmZpbGxDb2xvcilcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JDb3VudHM6IHtbY29sb3I6IHN0cmluZ106IG51bWJlcn0gPSB7fTtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheS5mb3JFYWNoKChjb2xvcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNvbG9yQ291bnRzW2NvbG9yXSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckNvdW50c1tjb2xvcl0rKztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheVNvcnRlZCA9IE9iamVjdC5rZXlzKGNvbG9yQ291bnRzKVxyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gY29sb3JDb3VudHNbYl0gLSBjb2xvckNvdW50c1thXSlcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQ6IGNvbmljLWdyYWRpZW50KCdcclxuXHJcbiAgICAgICAgbGV0IGxhc3RDb2xvdXJQZXJjZW50ID0gMDtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheVNvcnRlZC5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQgKz0gXCJcXG5cIiArIGNvbG9yICsgJyAwJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdGhpc0NvbG91clBlcmNlbnQgPSAoY29sb3JDb3VudHNbY29sb3JdIC8gY29sb3JBcnJheS5sZW5ndGggKiAxMDApO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kICs9IFwiLCBcXG5cIiArIGNvbG9yICsgJyAnICsgKGxhc3RDb2xvdXJQZXJjZW50KSArICclJztcclxuICAgICAgICAgICAgYmFja2dyb3VuZCArPSBcIiwgXFxuXCIgKyBjb2xvciArICcgJyArIChsYXN0Q29sb3VyUGVyY2VudCt0aGlzQ29sb3VyUGVyY2VudCkgKyAnJSc7XHJcbiAgICAgICAgICAgIGxhc3RDb2xvdXJQZXJjZW50ICs9IHRoaXNDb2xvdXJQZXJjZW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrZ3JvdW5kICs9IFwiXFxuKTtcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9tSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XHJcblxyXG4gICAgICAgIHJldHVybiBMLmRpdkljb24oe1xyXG4gICAgICAgICAgICBodG1sOiBgPHN0eWxlPiNjbHVzdGVyXyR7cmFuZG9tSWR9OjpiZWZvcmUgeyAke2JhY2tncm91bmR9IH08L3N0eWxlPiA8ZGl2IGlkPSdjbHVzdGVyXyR7cmFuZG9tSWR9Jz48c3Bhbj5gICsgY2x1c3Rlci5nZXRDaGlsZENvdW50KCkgKyAnPC9zcGFuPjwvZGl2PicsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1jbHVzdGVyJyxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG1hcmtlckNsdXN0ZXJSYWRpdXMoem9vbTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3dpdGNoKHpvb20pIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICBjYXNlIDEzOiByZXR1cm4gMTUwO1xyXG4gICAgICAgICAgICBjYXNlIDE0OiByZXR1cm4gMTAwO1xyXG4gICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXI6IElNb2RlKSB7XHJcblxyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb2xvdXIgb2YgdGhlIHBvaW50c1xyXG4gICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5wb2ludHMpLmZvckVhY2goKHtsYXllciwgcG9pbnR9KSA9PiB7XHJcbiAgICAgICAgICAgIGxheWVyLnNldFN0eWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogbW9kZUhhbmRsZXIucG9pbnRDb2xvdXIocG9pbnQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGF5ZXIucmVkcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5tYXJrZXJzKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFya2VycyAmJiB0aGlzLm1hcmtlcnMuZ2V0TGF5ZXJzKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5yZWZyZXNoQ2x1c3RlcnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMsIG1GaWx0ZXI/OiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kYXRhc3RvcmUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhc3RvcmUgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbmV3UG9pbnRzID0gYXdhaXQgdGhpcy5kYXRhc3RvcmUuZ2V0RnVsbFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG5ld1BvaW50c1xyXG4gICAgICAgICAgICAuZm9yRWFjaChwb2ludCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRMbmdTdHJpbmcgPSBwb2ludC5sYXRsbmc7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1tsYXRMbmdTdHJpbmddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogdGhpcy5yZW5kZXJQb2ludChwb2ludCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10ucG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGlmIChtRmlsdGVyKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMYXllcnM6IEwuTGF5ZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRQb2ludHMgPSBPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoe2xheWVyLCBwb2ludH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG93UG9pbnQgPSBwb2ludC5wbGFjZXMuZmlsdGVyKG1GaWx0ZXIpLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93UG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvd1BvaW50O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVtb3ZlTGF5ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5yZW1vdmVMYXllcnMocmVtb3ZlTGF5ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5hZGRMYXllcnMoZmlsdGVyZWRQb2ludHMubWFwKHAgPT4gcC5sYXllcikpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnM/LmFkZExheWVycyhPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKS5tYXAocCA9PiBwLmxheWVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIHtcclxuICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nIGhlcmUsIGFzIHRoZSBtYXJrZXIgY2x1c3RlciBwbHVnaW4gaGFuZGxlcyB0aGlzIGZvciB1c1xyXG4gICAgICAgIC8vY29uc3QgcmVtb3ZlTWFya2VycyA9IHRoaXMubWFya2Vycy5nZXRMYXllcnMoKVxyXG4gICAgICAgIC8vICAgIC5maWx0ZXIoKGxheWVyOiBMLkNpcmNsZU1hcmtlcikgPT4gIWJvdW5kcy5jb250YWlucyhsYXllci5nZXRMYXRMbmcoKSkpXHJcbiAgICAgICAgLy87XHJcbiAgICAgICAgLy90aGlzLm1hcmtlcnMucmVtb3ZlTGF5ZXJzKHJlbW92ZU1hcmtlcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZUFsbE1hcmtlcnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJzPy5jbGVhckxheWVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVycyBhIHBvaW50IHVzaW5nIHRoZSBjdXJyZW50IG1vZGUgaGFuZGxlci5cclxuICAgICAqIEBwYXJhbSBwb2ludFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHJlbmRlclBvaW50KHBvaW50OiBQb2ludEFuZFBsYWNlcyk6IEwuQ2lyY2xlTWFya2VyIHtcclxuXHJcbiAgICAgICAgY29uc3QgY2lyY2xlTWFya2VyTGF5ZXIgPSBMLmNpcmNsZU1hcmtlcihbIHBvaW50LmxhdGl0dWRlLCBwb2ludC5sb25naXR1ZGUgXSwge1xyXG4gICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogdGhpcy5tb2RlSGFuZGxlcj8ucG9pbnRDb2xvdXIocG9pbnQpLCAvL3RoaXMuZ2V0UGxhY2VDb2xvdXIocGxhY2UpLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFBvcHVwKFxyXG4gICAgICAgICAgICAobGF5ZXIpID0+IHRoaXMucmVuZGVyUG9wdXAocG9pbnQucGxhY2VzKSB8fCAnJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYXV0b1BhbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGF1dG9DbG9zZTogZmFsc2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjaXJjbGVNYXJrZXJMYXllci5iaW5kVG9vbHRpcChcclxuICAgICAgICAgICAgKGxheWVyKSA9PiB0aGlzLm1vZGVIYW5kbGVyLnJlbmRlclRvb2x0aXAocG9pbnQucGxhY2VzKSB8fCAnJyxcclxuICAgICAgICAgICAge31cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjaXJjbGVNYXJrZXJMYXllcjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2VzWzBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRvclBvcHVwTXVsdGkocGxhY2VzKTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbmRvclBvcHVwTXVsdGkocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBncm91cERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lcnM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgcGxhY2VzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPCBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPiBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcGxhY2Ugb2YgcGxhY2VzKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb2xvdXIgPSB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBBY2NvcmRpb24gQnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWNjb3JkaW9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPHN2ZyBoZWlnaHQ9XCIxNVwiIHdpZHRoPVwiMTVcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDozcHhcIj5gXHJcbiAgICAgICAgICAgICAgICArIGA8Y2lyY2xlIGNsYXNzPVwiY2lyY2xlXCIgY3g9XCI3LjVcIiBjeT1cIjlcIiByPVwiNVwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIiR7cGxhY2VDb2xvdXJ9XCIgLz5gXHJcbiAgICAgICAgICAgICAgICArIGA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICArIGA8c3Bhbj4ke3BsYWNlLmFkZHJlc3MxfTwvc3Bhbj5gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgUGFuZWxcclxuICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncGFuZWwnKTtcclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2UpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBFdmVudHNcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRseUFjdGl2ZSA9IHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgYnV0dG9ucyBhbmQgcGFuZWxzXHJcbiAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lcnMuZm9yRWFjaCgocGxhY2VDb250YWluZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudGx5QWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBET01cclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xyXG4gICAgICAgICAgICBncm91cERpdi5hcHBlbmRDaGlsZChwbGFjZUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVycy5wdXNoKHBsYWNlQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIGdldFBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG5cclxuICAgICAgICAvKiogRUUgRGlzcGxheSBNb2RlICovXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodGhpcy5jb250cm9scy5kaXNwbGF5TW9kZS5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmIHBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvdXJFRV9DQkRfWkJDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfQ0JEX0JDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19aQkM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCFwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19CQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHMuZGlzcGxheU1vZGUuZGlzcGxheU1vZGUgPT0gJ3VwZ3JhZGUnKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1ByZXZpb3VzIFRlY2ggRGlzY29ubmVjdGVkJzogcmV0dXJuIENPTF9URUNIX0NPTVBMRVRFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTmV3IFRlY2ggQ29ubmVjdGVkJyA6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6IHJldHVybiBDT0xfVEVDSF9ERVNJR047XHJcbiAgICAgICAgICAgICAgICBjYXNlICdCdWlsZCBGaW5hbGlzZWQnOiByZXR1cm4gQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb21taXR0ZWQnOiByZXR1cm4gQ09MX1RFQ0hfQ09NTUlUVEVEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOiByZXR1cm4gQ09MX1RFQ0hfQVZBSUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6IHJldHVybiBDT0xfVEVDSF9NRFVfRUxJR0lCTEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBQcmVtaXNlcyBJbiBCdWlsZCc6IHJldHVybiBDT0xfVEVDSF9NRFVfSU5CVUlMRDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbiAgICAgICAgfSovXHJcbi8qXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEF2YWlsKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUEF2YWlsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNQbGFjZUZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRld0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgIT0gJ05VTExfTkEnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgfVxyXG4qL1xyXG5cclxufSIsImltcG9ydCB7IE5iblBsYWNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuXHJcbiAgICBzdWIobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dnZXIoYCR7dGhpcy5uYW1lfS4ke25hbWV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBuYW1lOiBzdHJpbmcpIHtcclxuICAgIH1cclxuXHJcbiAgICBlcnJvciguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FybiguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWJ1ZyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpbmZvKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2h1bmtBcnJheTxUPihhcnJheTogVFtdLCBzaXplOiBudW1iZXIpOiBUW11bXSB7XHJcbiAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICB3aGlsZSAoYXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKGFycmF5LnNwbGljZSgwLCBzaXplKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVidWdNb2RlKCkge1xyXG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnXHJcbiAgICAgICAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2xvY2FsaG9zdCcpXHJcbiAgICAgICAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2RlYnVnPXRydWUnKVxyXG4gICAgO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFAocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdGVFRQJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFROKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUTic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlSEZDKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnSEZDJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRCKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUQic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUQyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIGlmKHBsYWNlLnRlY2hUeXBlID09IFwiRlRUQ1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSAmJiBwbGFjZS5yZWFzb25Db2RlLm1hdGNoKC9eRlRUQy8pXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnTmV3IFRlY2ggQ29ubmVjdGVkJ1xyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRml4ZWRXaXJlbGVzcyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZpeGVkIFdpcmVsZXNzJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VTYXRlbGxpdGUocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdTYXRlbGxpdGUnO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBBdmFpbChwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUubWF0Y2goL15GVFRQLykpIHtcclxuICAgICAgICBzd2l0Y2gocGxhY2UudGVjaENoYW5nZVN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdFbGlnaWJsZSBUbyBPcmRlcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUUFNvb24ocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnSW4gRGVzaWduJzpcclxuICAgICAgICAgICAgY2FzZSAnQnVpbGQgRmluYWxpc2VkJzpcclxuICAgICAgICAgICAgY2FzZSAnUGxhbm5lZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IEVsaWdpYmxlIFRvIEFwcGx5JzpcclxuICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBGYXIocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnQ29tbWl0dGVkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnd0b0ZUVE4ocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJGVFROXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRlRUTl9TQVwiXHJcbiAgICAgICAgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSBcIkZXX0NUXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnd0b0ZUVEMocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJGVFRDXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRlRUQ19TQVwiXHJcbiAgICAgICAgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSBcIkZXX0NUXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU2F0VG9GVyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PSBcIldJUkVMRVNTXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRldfU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ0VsaWdpYmxlIFRvIE9yZGVyJ1xyXG4gICAgO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcblxyXG5pbXBvcnQgJ2xlYWZsZXQubG9jYXRlY29udHJvbC9kaXN0L0wuQ29udHJvbC5Mb2NhdGUubWluLmNzcydcclxuaW1wb3J0ICdsZWFmbGV0LmxvY2F0ZWNvbnRyb2wnO1xyXG5cclxuaW1wb3J0ICdsZWFmbGV0LWNvbnRyb2wtZ2VvY29kZXIvZGlzdC9Db250cm9sLkdlb2NvZGVyLmNzcyc7XHJcbmltcG9ydCB7IEdlb2NvZGVyLCBnZW9jb2RlciwgZ2VvY29kZXJzIH0gZnJvbSAnbGVhZmxldC1jb250cm9sLWdlb2NvZGVyJztcclxuXHJcbmltcG9ydCB7IE5iblBsYWNlLCBOYm5QbGFjZUFwaVJlc3BvbnNlLCBOYm5UZWNoTWFwT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xyXG4vL2ltcG9ydCBNYXJrZXJHcm91cCBmcm9tICcuL21hcmtlcl9ncm91cC5jbGFzcy50cy5kZXYnO1xyXG4vL2ltcG9ydCBDb250cm9sWm9vbVdhcm5pbmcgZnJvbSAnLi9jb250cm9sX3pvb21fd2FybmluZy5jbGFzcyc7XHJcbi8vaW1wb3J0IENvbnRyb2xGaWx0ZXIgZnJvbSAnLi9jb250cm9sX2ZpbHRlci5jbGFzcyc7XHJcblxyXG5pbXBvcnQgSUFwaSBmcm9tICcuL2ludGVyZmFjZXMvYXBpLmludGVyZmFjZSc7XHJcbmltcG9ydCBJRGF0YXN0b3JlIGZyb20gJy4vaW50ZXJmYWNlcy9kYXRhc3RvcmUuaW50ZXJmYWNlJztcclxuaW1wb3J0IElNYXJrZXJMYXllciBmcm9tICcuL2ludGVyZmFjZXMvbWFya2VybGF5ZXIuaW50ZXJmYWNlJztcclxuaW1wb3J0IE1hcmtlckxheWVyQ2x1c3RlciBmcm9tICcuL21hcmtlcmxheWVyL21hcmtlcmxheWVyLmNsdXN0ZXIuY2xhc3MnO1xyXG5pbXBvcnQgSUNvbnRyb2wgZnJvbSAnLi9pbnRlcmZhY2VzL2NvbnRyb2wuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgY2h1bmtBcnJheSwgaXNEZWJ1Z01vZGUgfSBmcm9tICcuL3V0aWxzJztcclxuaW1wb3J0IElNb2RlIGZyb20gJy4vaW50ZXJmYWNlcy9tb2RlLmludGVyZmFjZSc7XHJcblxyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpOiBMLkxhdExuZ0JvdW5kcyB7XHJcbiAgICBjb25zdCBub3J0aCA9IE1hdGguY2VpbChib3VuZHMuZ2V0Tm9ydGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgY29uc3Qgd2VzdCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFdlc3QoKSAqIDI1KSAvIDI1O1xyXG4gICAgY29uc3Qgc291dGggPSBNYXRoLmZsb29yKGJvdW5kcy5nZXRTb3V0aCgpICogNTApIC8gNTA7XHJcbiAgICBjb25zdCBlYXN0ID0gTWF0aC5jZWlsKGJvdW5kcy5nZXRFYXN0KCkgKiAyNSkgLyAyNTtcclxuICAgIHJldHVybiBMLmxhdExuZ0JvdW5kcyhbc291dGgsIHdlc3RdLCBbbm9ydGgsIGVhc3RdKTtcclxufVxyXG5cclxuY29uc3QgTUFYX0JPWEVTX0lOX1ZJRVcgPSAxMDAwO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmJuVGVjaE1hcCB7XHJcblxyXG4gICAgcHJpdmF0ZSBsb2dnZXIgPSBuZXcgTG9nZ2VyKCdOYm5UZWNoTWFwJyk7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfT1BUSU9OUzogUGFydGlhbDxOYm5UZWNoTWFwT3B0aW9ucz4gPSB7XHJcbiAgICAgICAgbWFwQ29udGFpbmVySWQ6ICdtYXAnLFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHttYXB9IC0gTGVhZmxldCBtYXAgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcDogTC5NYXA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcFRpbGVMYXllcn0gLSBMZWFmbGV0IG1hcCB0aWxlIGxheWVyLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcFRpbGVMYXllcjogTC5UaWxlTGF5ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge2FwaX0gLSBBUEkgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFwaTogSUFwaTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBtYXBMb2NhdGU6IEwuQ29udHJvbC5Mb2NhdGU7XHJcbiAgICBwcml2YXRlIG1hcFNlYXJjaDogR2VvY29kZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge2RhdGFzdG9yZX0gLSBEYXRhc3RvcmUgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRhdGFzdG9yZTogSURhdGFzdG9yZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFya2VyTGF5ZXJ9IC0gTGF5ZXIgdG8gaG9sZCBtYXJrZXJzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya2VyTGF5ZXI6IElNYXJrZXJMYXllcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFya2VyRmlsdGVyfSAtIEZ1bmN0aW9uIHRvIGZpbHRlciBtYXJrZXJzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya2VyRmlsdGVyOiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuID0gKHBsYWNlOiBOYm5QbGFjZSkgPT4gdHJ1ZTtcclxuXHJcbiAgICBwcml2YXRlIG1vZGVIYW5kbGVyOiBJTW9kZTtcclxuXHJcbiAgICAvLyBTdG9yZXMgbWFwIGNvbnRyb2xzXHJcbiAgICAvKmNvbnRyb2xzOiB7W2tleTogc3RyaW5nXTogYW55fSA9IHtcclxuICAgICAgICB6b29tV2FybmluZzogbnVsbCxcclxuICAgICAgICBsZWdlbmQ6IG51bGwsXHJcbiAgICAgICAgZGlzcGxheU1vZGU6IG51bGwsXHJcbiAgICAgICAgZmlsdGVyOiBudWxsLFxyXG4gICAgfSovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTmJuVGVjaE1hcE9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IHsgLi4uTmJuVGVjaE1hcC5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hcGkgPSBvcHRpb25zLmFwaTtcclxuICAgICAgICB0aGlzLmRhdGFzdG9yZSA9IG9wdGlvbnMuZGF0YXN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBvcHRpb25zLmRlZmF1bHRNb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtYXBcclxuICAgICAgICB0aGlzLm1hcCA9IEwubWFwKG9wdGlvbnMubWFwQ29udGFpbmVySWQsIHsgcHJlZmVyQ2FudmFzOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIG1hcmtlciBsYXllclxyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIgPSBuZXcgTWFya2VyTGF5ZXJDbHVzdGVyKFxyXG4gICAgICAgICAgICB0aGlzLm1hcCwgdGhpcy5kYXRhc3RvcmUsIHRoaXMubW9kZUhhbmRsZXJcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vIFNldCB1cCB0aGUgT1NNIGxheWVyXHJcbiAgICAgICAgdGhpcy5tYXBUaWxlTGF5ZXIgPSBMLnRpbGVMYXllcignaHR0cHM6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL3Jhc3RlcnRpbGVzL3ZveWFnZXIve3p9L3t4fS97eX17cn0ucG5nJywge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb25zXCI+Q0FSVE88L2E+JyxcclxuICAgICAgICAgICAgc3ViZG9tYWluczogJ2FiY2QnLFxyXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZSxcclxuICAgICAgICAgICAgbWluWm9vbTogNSxcclxuICAgICAgICAgICAgbWF4Wm9vbTogMjBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBsYXllciB0byB0aGUgbWFwXHJcbiAgICAgICAgdGhpcy5tYXBUaWxlTGF5ZXIuYWRkVG8odGhpcy5tYXApO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh7IEwsIEdlb2NvZGVyLCBnZW9jb2RlciB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGdlb2NvZGVyIGNvbnRyb2xcclxuICAgICAgICBjb25zdCBtYXBHZW9jb2RlciA9IG5ldyBnZW9jb2RlcnMuQXJjR2lzKHtcclxuICAgICAgICAgICAgYXBpS2V5OiAnQUFQS2E5N2I4YTUzNzRkYjRmYTliMGZkZDhlNTUzNjFjYmE0WjlmRXV3M2NrQU9JRkhLMUNQX1ZielR2M09UZVV6M2dnckZBelZQemp5bjNRN2JRRnpid2tETXZEeGFKLUp6RycsXHJcbiAgICAgICAgICAgIGdlb2NvZGluZ1F1ZXJ5UGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogJ0FVJyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnQWRkcmVzcyxMYXRMb25nLE5laWdoYm9yaG9vZCxEaXN0cmljdCxDaXR5LE1ldHJvIEFyZWEnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBTZWFyY2ggPSAoTC5Db250cm9sIGFzIHVua25vd24gYXMgeyBnZW9jb2RlcjogdHlwZW9mIGdlb2NvZGVyIH0pLmdlb2NvZGVyKHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcclxuICAgICAgICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICAgICAgICBkZWZhdWx0TWFya0dlb2NvZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZW9jb2RlcjogbWFwR2VvY29kZXIsXHJcbiAgICAgICAgICAgIHN1Z2dlc3RNaW5MZW5ndGg6IDUsXHJcbiAgICAgICAgICAgIHN1Z2dlc3RUaW1lb3V0OiAxMDAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWFwU2VhcmNoLm9uKCdtYXJrZ2VvY29kZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBiYm94ID0gZXZlbnQuZ2VvY29kZS5iYm94O1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5maXRCb3VuZHMoYmJveCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBTZWFyY2guYWRkVG8odGhpcy5tYXApO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQWRkIGxvY2F0ZSBjb250cm9sXHJcbiAgICAgICAgdGhpcy5tYXBMb2NhdGUgPSBMLmNvbnRyb2wubG9jYXRlKHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcclxuICAgICAgICAgICAgbG9jYXRlT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogMTZcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0VmlldzogJ3VudGlsUGFuJyxcclxuICAgICAgICAgICAga2VlcEN1cnJlbnRab29tTGV2ZWw6IHRydWUsXHJcbiAgICAgICAgICAgIGluaXRpYWxab29tTGV2ZWw6IDE3LFxyXG4gICAgICAgICAgICBjYWNoZUxvY2F0aW9uOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWFwTG9jYXRlLmFkZFRvKHRoaXMubWFwKTtcclxuICAgICAgICB0aGlzLm1hcC5vbignbG9jYXRlYWN0aXZhdGUnLCAoKSA9PiB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW9sb2NhdGUnLCAnMScpOyB9KTtcclxuICAgICAgICB0aGlzLm1hcC5vbignbG9jYXRlZGVhY3RpdmF0ZScsICgpID0+IHsgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2dlb2xvY2F0ZScpOyB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRJbml0aWFsTWFwVmlldygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHN0b3JlIG1hcCBwb3NpdGlvbiB3aGVuIG1vdmVkIG9yIHpvb21lZFxyXG4gICAgICAgIHRoaXMubWFwLm9uKCdtb3ZlZW5kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMubWFwLmdldFpvb20oKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0YXJ0cG9zJywgSlNPTi5zdHJpbmdpZnkoeyBsYXQ6IGNlbnRlci5sYXQsIGxuZzogY2VudGVyLmxuZywgem9vbSB9KSk7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaEJyb3dzZXJIaXN0b3J5KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWFwR2VvY29kZXIub3B0aW9ucy5nZW9jb2RpbmdRdWVyeVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgbWFwR2VvY29kZXIub3B0aW9ucy5nZW9jb2RpbmdRdWVyeVBhcmFtcy5sb2NhdGlvbiA9IGAke2NlbnRlci5sbmd9LCR7Y2VudGVyLmxhdH1gO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLmZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHB1c2hCcm93c2VySGlzdG9yeSgpIHtcclxuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIGA/bGF0PSR7Y2VudGVyLmxhdH0mbG5nPSR7Y2VudGVyLmxuZ30mem9vbT0ke3pvb219YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTdGFydFBvcygpIDogeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIsIHpvb206IG51bWJlciB9IHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRQb3NTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RhcnRwb3MnKTtcclxuICAgICAgICBpZiAoIXN0YXJ0UG9zU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdGFydFBvc1N0cmluZykgYXMgeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIsIHpvb206IG51bWJlciB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXRpYWxWaWV3U2V0ID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHNldEluaXRpYWxNYXBWaWV3KCkge1xyXG5cclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ3NldEluaXRpYWxNYXBWaWV3Jyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxWaWV3U2V0KSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdJbml0aWFsIG1hcCB2aWV3IGFscmVhZHkgc2V0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGxhdCxsbmcsem9vbSBhcmUgaW4gVVJMLCBzZXQgbWFwIHRvIHRoYXRcclxuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIGNvbnN0IGxhdCA9IHVybFBhcmFtcy5nZXQoJ2xhdCcpO1xyXG4gICAgICAgIGNvbnN0IGxuZyA9IHVybFBhcmFtcy5nZXQoJ2xuZycpO1xyXG4gICAgICAgIGNvbnN0IHpvb20gPSB1cmxQYXJhbXMuZ2V0KCd6b29tJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coeyB1cmxQYXJhbXMsIGxhdCwgbG5nLCB6b29tIH0pXHJcbiAgICAgICAgaWYgKGxhdCAmJiBsbmcgJiYgem9vbSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgTnVtYmVyKGxhdCksIE51bWJlcihsbmcpIF0sIHBhcnNlSW50KHpvb20pKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGdlb0ZsYWcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2VvbG9jYXRlJyk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRQb3MgPSB0aGlzLmdldFN0YXJ0UG9zKCk7XHJcblxyXG4gICAgICAgIC8vIElmIGxvY2FsIHN0b3JhZ2UgY29udGFpbnMgbGFzdCBtYXAgcG9zaXRpb24sIHNldCBtYXAgdG8gdGhhdFxyXG4gICAgICAgIGlmIChzdGFydFBvcykge1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgc3RhcnRQb3MubGF0LCBzdGFydFBvcy5sbmcgXSwgc3RhcnRQb3Muem9vbSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IHRvIEF1c3RyYWxpYSBpZiBubyBzdGFydCBwb3NpdGlvblxyXG4gICAgICAgIGlmICghc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhbIC0yNi4xNzcyMjg4LCAxMzMuNDE3MDExOSBdLCAxMCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbG9jYWwgc3RvcmFnZSBjb250YWlucyBnZW9sb2NhdGUgZmxhZ1xyXG4gICAgICAgIC8vIG9yLCBpZiBubyBzdGFydCBwb3NpdGlvbiwgc3RhcnQgZ2VvbG9jYXRpb25cclxuICAgICAgICBpZiAoZ2VvRmxhZyB8fCAhc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXBMb2NhdGUuc3RhcnQoKTtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0Wm9vbSgxNyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxWaWV3U2V0KSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignQ291bGQgbm90IHNldCBpbml0aWFsIG1hcCB2aWV3Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRCb3hlc0luQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpOiBMLkxhdExuZ0JvdW5kc1tdIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gU3RhcnRpbmcgcG9pbnQgc2hvdWxkIGJlIHRoZSBub3J0aC13ZXN0IGNvcm5lciBvZiB0aGUgbWFwIHJvdW5kZWQgYmV5b25kIHRoZSBtYXAgYm91bmRzXHJcbiAgICAgICAgLy8gTGF0aXR1ZGUgaXMgcm91bmRlZCB0byAyIGRlY2ltYWwgcGxhY2VzIG11bHRpcGxlIG9mIDAuMDJcclxuICAgICAgICAvLyBMb25naXR1ZGUgaXMgcm91bmRlZCB0byAyIGRlY2ltYWwgcGxhY2VzIG11bHRpcGxlIG9mIDAuMDRcclxuICAgICAgICBjb25zdCBub3J0aG1vc3QgPSBNYXRoLmNlaWwoYm91bmRzLmdldE5vcnRoKCkgKiA1MCkgLyA1MDtcclxuICAgICAgICBjb25zdCB3ZXN0bW1vc3QgPSBNYXRoLmZsb29yKGJvdW5kcy5nZXRXZXN0KCkgKiAyNSkgLyAyNTtcclxuXHJcbiAgICAgICAgLy8gc3BsaXQgbWFwIGludG8gYm94ZXMgc3RhcnRpbmcgZnJvbSBub3J0aC13ZXN0IGNvcm5lclxyXG4gICAgICAgIC8vIGVhY2ggYm94IHNob3VsZCBiZSAwLjAyIGRlZ3JlZXMgbGF0aXR1ZGUgYnkgMC4wNCBkZWdyZWVzIGxvbmdpdHVkZVxyXG4gICAgICAgIGNvbnN0IGJveGVzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgbGF0aXR1ZGUgPSBub3J0aG1vc3Q7IGxhdGl0dWRlID4gYm91bmRzLmdldFNvdXRoKCk7IGxhdGl0dWRlIC09IDAuMDIpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgbG9uZ2l0dWRlID0gd2VzdG1tb3N0OyBsb25naXR1ZGUgPCBib3VuZHMuZ2V0RWFzdCgpOyBsb25naXR1ZGUgKz0gMC4wNCkge1xyXG4gICAgICAgICAgICAgICAgYm94ZXMucHVzaChbbGF0aXR1ZGUsIGxvbmdpdHVkZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNYXAgZWFjaCBib3ggaW50byBhIGJvdW5kcyBvYmplY3RcclxuICAgICAgICBjb25zdCBib3hCb3VuZHMgPSBib3hlcy5tYXAoYm94ID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ydGggPSBib3hbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHdlc3QgPSBib3hbMV07XHJcbiAgICAgICAgICAgIGNvbnN0IHNvdXRoID0gbm9ydGggLSAwLjAyO1xyXG4gICAgICAgICAgICBjb25zdCBlYXN0ID0gd2VzdCArIDAuMDQ7XHJcbiAgICAgICAgICAgIHJldHVybiBMLmxhdExuZ0JvdW5kcyhbc291dGgsIHdlc3RdLCBbbm9ydGgsIGVhc3RdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGJveEJvdW5kcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGZXRjaCBib3hlcyB0aGF0IGFyZSB2aXNpYmxlIG9uIHRoZSBtYXBcclxuICAgICAqL1xyXG4gICAgZ2V0Q3VycmVudFZpZXdCb3hlcygpOiBMLkxhdExuZ0JvdW5kc1tdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm94ZXNJbkJvdW5kcyh0aGlzLm1hcC5nZXRCb3VuZHMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlIG1hcmtlcnMgdGhhdCBhcmUgb3V0c2lkZSB0aGUgbWFwIGJvdW5kc1xyXG4gICAgICovXHJcbiAgICBoaWRlTWFya2Vyc091dHNpZGVDdXJyZW50VmlldygpIHtcclxuICAgICAgICBjb25zdCBtYXBCb3VuZHMgPSB0aGlzLm1hcC5nZXRCb3VuZHMoKS5wYWQoMC41KTtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyLnJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzKG1hcEJvdW5kcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwbGF5IG1hcmtlcnMgdGhhdCBhcmUgaW5zaWRlIHRoZSBtYXAgYm91bmRzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyhhdHRlbXB0OiBudW1iZXIgPSAxKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGFzdG9yZS5pc1JlYWR5KCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoYXR0ZW1wdCA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZ2V0IGRhdGFzdG9yZSByZWFkeS4gR2l2aW5nIHVwLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RhdGFzdG9yZSBpcyBub3QgcmVhZHkuIERlbGF5aW5nIGRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpJyk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoYXR0ZW1wdCsxKSwgMTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdEaXNwbGF5aW5nIG1hcmtlcnMgaW4gY3VycmVudCB2aWV3Jyk7XHJcbiAgICAgICAgY29uc3QgbWFwQm91bmRzID0gcm91bmRCb3VuZHModGhpcy5tYXAuZ2V0Qm91bmRzKCkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBmcm9tIERhdGFzdG9yZScsIG1hcEJvdW5kcyk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG9pbnRzRnJvbVN0b3JlKG1hcEJvdW5kcyk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGZXRjaCBkYXRhIGZvciBjdXJyZW50IG1hcCB2aWV3XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCkge1xyXG5cclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ2ZldGNoRGF0YUZvckN1cnJlbnRWaWV3Jyk7XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXcoKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tYXAuZ2V0Wm9vbSgpIDwgMTEpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1pvb20gbGV2ZWwgdG9vIGxvdy4gU2tpcHBpbmcuJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCBib3hlcyB0aGF0IGFyZSBjdXJyZW50bHkgdmlzaWJsZVxyXG4gICAgICAgIGNvbnN0IGJveGVzID0gdGhpcy5nZXRDdXJyZW50Vmlld0JveGVzKCk7XHJcblxyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQ3VycmVudCB2aWV3IGJveGVzJywgYm94ZXMpO1xyXG5cclxuICAgICAgICAvLyBEb24ndCBmZXRjaCBib3hlcyBpZiBtb3JlIHRoYW4gODBcclxuICAgICAgICBpZiAoYm94ZXMubGVuZ3RoID4gTUFYX0JPWEVTX0lOX1ZJRVcpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1RvbyBtYW55IGJveGVzIHRvIGZldGNoLiBTa2lwcGluZy4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdGZXRjaGluZyBib3hlcycsIGJveGVzLmxlbmd0aCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2h1bmsgYm94ZXMgaW50byBncm91cHMgb2YgMTBcclxuICAgICAgICBjb25zdCBib3hDaHVua3MgPSBjaHVua0FycmF5KGJveGVzLCAxMCk7XHJcblxyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQm94IGNodW5rcycsIGJveENodW5rcy5sZW5ndGgsIGJveENodW5rcyk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm94Q2h1bmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZldGNoUHJvbWlzZXMgPSBib3hDaHVua3NbaV0ubWFwKGJveCA9PiB0aGlzLmZldGNoRGF0YShib3gpKTtcclxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdGZXRjaCBwcm9taXNlcycsIGZldGNoUHJvbWlzZXMubGVuZ3RoLCBmZXRjaFByb21pc2VzKTtcclxuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZmV0Y2hQcm9taXNlcyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFBvaW50c0Zyb21TdG9yZSh0aGlzLm1hcC5nZXRCb3VuZHMoKS5wYWQoMC41KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0FsbCBib3hlcyBmZXRjaGVkJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZldGNoRGF0YShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLCBwYWdlOiBudW1iZXIgPSAxXHJcbiAgICApIDogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG5cclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgQm94JywgYm91bmRzLmdldENlbnRlcigpLnRvU3RyaW5nKCksIHBhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFwaS5mZXRjaFBhZ2UoYm91bmRzLCBwYWdlLCAoKSA9PiB0aGlzLm1hcC5nZXRCb3VuZHMoKS5pbnRlcnNlY3RzKGJvdW5kcykpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzRmV0Y2hSZXN1bHQoZGF0YSwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLm5leHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZldGNoRGF0YShib3VuZHMsIGRhdGEubmV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PSAnUGFnZSBhbHJlYWR5IGxvYWRlZCB0aGlzIHNlc3Npb24uJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwcm9jZXNzRmV0Y2hSZXN1bHQocmVzdWx0OiBOYm5QbGFjZUFwaVJlc3BvbnNlLCBib3VuZHM6IEwuTGF0TG5nQm91bmRzKSB7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ1Byb2Nlc3NpbmcgcGFnZScsIChyZXN1bHQubmV4dCB8fCAyKS0xLCAnb2YnLCByZXN1bHQudG90YWwsICd3aXRoJywgcmVzdWx0LnBsYWNlcy5sZW5ndGgsICdwbGFjZXMuJyk7XHJcblxyXG4gICAgICAgIC8vIElmIG1vcmUgcGFnZXMsIHN0YXJ0IGZldGNoaW5nIG5leHQgcGFnZVxyXG4gICAgICAgIC8qaWYgKHJlc3VsdC5uZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhKGJvdW5kcywgcmVzdWx0Lm5leHQpO1xyXG4gICAgICAgIH0qL1xyXG5cclxuICAgICAgICAvLyBQcm9jZXNzIHBsYWNlc1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdG9yaW5nIHBsYWNlcy4nKVxyXG4gICAgICAgIGNvbnN0IHByb2Nlc3NQcm9taXNlID0gdGhpcy5kYXRhc3RvcmUuc3RvcmVQbGFjZXMocmVzdWx0LnBsYWNlcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dhaXRpbmcgZm9yIHBsYWNlIHN0b3JpbmcgdG8gZmluaXNoJyk7XHJcbiAgICAgICAgYXdhaXQgcHJvY2Vzc1Byb21pc2U7XHJcblxyXG4gICAgICAgIC8vIFJlZnJlc2ggcG9pbnRzIGluc2lkZSBib3VuZHNcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdSZWZyZXNoaW5nIHBvaW50cyBpbnNpZGUgYm91bmRzLicpO1xyXG4gICAgICAgIC8vYXdhaXQgdGhpcy5yZWZyZXNoUG9pbnRzRnJvbVN0b3JlKGJvdW5kcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlZnJlc2hQb2ludHNGcm9tU3RvcmUoYm91bmRzPzogTC5MYXRMbmdCb3VuZHMpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcmtlckxheWVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWFya2VyIExheWVyIG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGJvdW5kcyBhcmUgbm90IHBhc3NlZCwgdXNlIG1hcCBib3VuZHNcclxuICAgICAgICBpZiAoIWJvdW5kcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQm91bmRzIG5vdCBwYXNzZWQuIFVzaW5nIG1hcCBib3VuZHMuJyk7XHJcbiAgICAgICAgICAgIGJvdW5kcyA9IHRoaXMubWFwLmdldEJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm91bmRzID0gcm91bmRCb3VuZHMoYm91bmRzKTtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyLnJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKGJvdW5kcywgdGhpcy5tYXJrZXJGaWx0ZXIpO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIC8vIEdldCB0aGUgYm94ZXNcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVmcmVzaGluZyBwb2ludHMgd2l0aGluIGJvdW5kcycsIGJvdW5kcy50b0JCb3hTdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc3QgcG9pbnRzID0gYXdhaXQgdGhpcy5kYXRhc3RvcmUuZ2V0UG9pbnRzV2l0aGluQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIGFkZCBwb2ludHMgdG8gbWFwIHRoYXQgZG9uJ3QgYWxyZWFkeSBleGlzdCBpbiBsYXllclxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFya2VyID0gTC5jaXJjbGVNYXJrZXIoW3BvaW50LmxhdGl0dWRlLCBwb2ludC5sb25naXR1ZGVdLCB7XHJcbiAgICAgICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgICAgICAvL2ZpbGxDb2xvcjogdGhpcy5nZXRQbGFjZUNvbG91cihwbGFjZSksXHJcbiAgICAgICAgICAgICAgICAvL2NvbG9yOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBwb3B1cFxyXG4gICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKHBvaW50LmxvY2lkcy5qb2luKCc8YnIgLz4nKSk7XHJcbiAgICAgICAgICAgIG1hcmtlci5vbigncG9wdXBvcGVuJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBvcHVwQ29udGVudChwb2ludClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb250ZW50ID0+IGV2ZW50LnBvcHVwLnNldENvbnRlbnQoY29udGVudCkpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJMYXllci5hZGRMYXllcihtYXJrZXIpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb250cm9sczoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IElDb250cm9sO1xyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIGFkZENvbnRyb2woa2V5OiBzdHJpbmcsIGNvbnRyb2w6IElDb250cm9sKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHNba2V5XSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRyb2wgd2l0aCBrZXkgJHtrZXl9IGFscmVhZHkgZXhpc3RzYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzW2tleV0gPSBjb250cm9sO1xyXG5cclxuICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKGNvbnRyb2wuZ2V0Q29udHJvbCgpKVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnQWRkZWQgY29udHJvbCcsIGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TWFya2VyRmlsdGVyKGZpbHRlcjogKHBsYWNlOiBOYm5QbGFjZSkgPT4gYm9vbGVhbikge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubWFya2VyTGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYXJrZXIgTGF5ZXIgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJGaWx0ZXIgPSBmaWx0ZXI7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5yZWZyZXNoTWFya2Vyc0luc2lkZUJvdW5kcyh0aGlzLm1hcC5nZXRCb3VuZHMoKSwgdGhpcy5tYXJrZXJGaWx0ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qcHJpdmF0ZSBzZXRNYXJrZXJMYXllcihtYXJrZXJMYXllcjogSU1hcmtlckxheWVyKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hcmtlckxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2VyTGF5ZXIucmVtb3ZlQWxsTWFya2VycygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllciA9IG1hcmtlckxheWVyO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIuc2V0TWFwKHRoaXMubWFwKTtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyLnNldERhdGFzdG9yZSh0aGlzLmRhdGFzdG9yZSk7XHJcblxyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIucmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMoXHJcbiAgICAgICAgICAgIHRoaXMubWFwLmdldEJvdW5kcygpLCB0aGlzLm1hcmtlckZpbHRlclxyXG4gICAgICAgICk7XHJcbiAgICB9Ki9cclxuXHJcbiAgICBzZXRNb2RlSGFuZGxlcihtb2RlSGFuZGxlcjogSU1vZGUpIHtcclxuICAgICAgICB0aGlzLm1vZGVIYW5kbGVyID0gbW9kZUhhbmRsZXI7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllcj8uc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcbmltcG9ydCBJQ29udHJvbCBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jb250cm9sLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi4vbmJuX3RlY2hfbWFwLmNsYXNzXCI7XHJcbmltcG9ydCB7IENvbnRyb2xFdmVudCB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEFDb250cm9sIGltcGxlbWVudHMgSUNvbnRyb2wge1xyXG5cclxuICAgIC8vcHJvdGVjdGVkIG1hcDogTmJuVGVjaE1hcDtcclxuICAgIHByb3RlY3RlZCBjb250cm9sOiBMLkNvbnRyb2w7XHJcbiAgICAvL3Byb3RlY3RlZCBrZXk6IHN0cmluZztcclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIGV2ZW50SGFuZGxlcnM6IHtcclxuICAgICAgICBbZXZlbnROYW1lOiBzdHJpbmddOiAoKGU6IENvbnRyb2xFdmVudCkgPT4gdm9pZClbXVxyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKC8qa2V5OiBzdHJpbmcvKiwgbmJuVGVjaE1hcDogTmJuVGVjaE1hcCovKSB7XHJcbiAgICAgICAgLy90aGlzLmtleSA9IGtleTtcclxuICAgICAgICAvL3RoaXMubWFwID0gbmJuVGVjaE1hcDtcclxuICAgICAgICB0aGlzLmNvbnRyb2wgPSBuZXcgTC5Db250cm9sKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb24oZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoZTogQ29udHJvbEV2ZW50KSA9PiB2b2lkKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGVtaXQoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE6IGFueSkgOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmRlYnVnKGBFbWl0dGluZyBldmVudDogJHtldmVudE5hbWV9YCwge1xyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBoYW5kbGVyczogdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0uZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5nZXRTdGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGdldFN0YXRlKCkgOiBhbnk7XHJcblxyXG4gICAgcHVibGljIGdldENvbnRyb2woKSA6IEwuQ29udHJvbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbDtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG4vL2ltcG9ydCBOYm5UZWNoTWFwIGZyb20gXCIuLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IEFDb250cm9sIGZyb20gXCIuL2NvbnRyb2wuYWJzdHJhY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb0Rpc3BsYXlNb2RlIGV4dGVuZHMgQUNvbnRyb2wge1xyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheU1vZGUgPSAnYWxsJztcclxuICAgIHByaXZhdGUgZWxDb250cm9sRGl2OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgcHJpdmF0ZSBlbERyb3Bkb3duOiBIVE1MU2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmdlbmVyYXRlQ29udHJvbERpdigpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5vbkFkZCA9IChtYXA6IEwuTWFwKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVEcm9wZG93bigpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbENvbnRyb2xEaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3RoaXMuY29udHJvbC5vbkFkZCA9ICgpID0+IHRoaXMuYWRkQ29udHJvbERpdigpO1xyXG4gICAgICAgIC8vdGhpcy5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhdGUoKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheU1vZGU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgYWxsTGFiZWw6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGFsbFJhZGlvOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBhbGxUZXh0OiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB1cGdyYWRlTGFiZWw6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHVwZ3JhZGVSYWRpbzogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgdXBncmFkZVRleHQ6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGVlTGFiZWw6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGVlUmFkaW86IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGVlVGV4dDogYW55ID0gbnVsbDtcclxuICAgIFxyXG4gICAgY2hhbmdlTW9kZShtb2RlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmRpc3BsYXlNb2RlID0gbW9kZTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIG1vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVDb250cm9sRGl2KCkgOiB2b2lkIHtcclxuICAgICAgICBpZih0aGlzLmVsQ29udHJvbERpdikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbnRyb2xEaXYgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmNsYXNzTGlzdC5hZGQoJ2luZm8nLCAnbGVnZW5kJyk7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZURyb3Bkb3duKCkgOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5lbERyb3Bkb3duKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRHJvcGRvd24gYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRyb3Bkb3duID0gdGhpcy5lbERyb3Bkb3duO1xyXG4gICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2wtc2VsZWN0Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFsbE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGFsbE9wdGlvbi52YWx1ZSA9ICdhbGwnO1xyXG4gICAgICAgIGFsbE9wdGlvbi5pbm5lclRleHQgPSAnU2hvdyBBbGwgTG9jYXRpb25zJztcclxuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZChhbGxPcHRpb24pO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIGNvbnN0IHVwZ3JhZGVPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICB1cGdyYWRlT3B0aW9uLnZhbHVlID0gJ3VwZ3JhZGUnO1xyXG4gICAgICAgIHVwZ3JhZGVPcHRpb24uaW5uZXJUZXh0ID0gJ1RlY2ggVXBncmFkZXMnO1xyXG4gICAgICAgIGRyb3Bkb3duLmFwcGVuZENoaWxkKHVwZ3JhZGVPcHRpb24pO1xyXG5cclxuICAgICAgICBjb25zdCBlZU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGVlT3B0aW9uLnZhbHVlID0gJ2VlJztcclxuICAgICAgICBlZU9wdGlvbi5pbm5lclRleHQgPSAnRW50ZXJwcmlzZSBFdGhlcm5ldCc7XHJcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQoZWVPcHRpb24pO1xyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIGRyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB0aGlzLmNoYW5nZU1vZGUoKGUudGFyZ2V0IGFzIEhUTUxTZWxlY3RFbGVtZW50KS52YWx1ZSkpO1xyXG5cclxuICAgICAgICB0aGlzLmVsRHJvcGRvd24gPSBkcm9wZG93bjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5hcHBlbmRDaGlsZChkcm9wZG93bik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qYWRkQ29udHJvbERpdigpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbGxMYWJlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2xhYmVsJywgJ2NvbnRyb2wtbGFiZWwnLCB0aGlzLmNvbnRyb2xEaXYpO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8gPSBMLkRvbVV0aWwuY3JlYXRlKCdpbnB1dCcsICdjb250cm9sLWlucHV0JywgdGhpcy5hbGxMYWJlbCk7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpby50eXBlID0gJ3JhZGlvJztcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLm5hbWUgPSAnZGlzcGxheS1tb2RlJztcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLnZhbHVlID0gJ2FsbCc7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpby5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuYWxsUmFkaW8sICdjaGFuZ2UnLCAoZSkgPT4gdGhpcy5jaGFuZ2VNb2RlKCdhbGwnKSk7XHJcbiAgICAgICAgdGhpcy5hbGxUZXh0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnc3BhbicsICdjb250cm9sLXRleHQnLCB0aGlzLmFsbExhYmVsKTtcclxuICAgICAgICB0aGlzLmFsbFRleHQuaW5uZXJUZXh0ID0gJ0FsbCc7XHJcblxyXG4gICAgICAgIHRoaXMudXBncmFkZUxhYmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGFiZWwnLCAnY29udHJvbC1sYWJlbCcsIHRoaXMuY29udHJvbERpdik7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8gPSBMLkRvbVV0aWwuY3JlYXRlKCdpbnB1dCcsICdjb250cm9sLWlucHV0JywgdGhpcy51cGdyYWRlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvLm5hbWUgPSAnZGlzcGxheS1tb2RlJztcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpby52YWx1ZSA9ICd1cGdyYWRlJztcclxuICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMudXBncmFkZVJhZGlvLCAnY2hhbmdlJywgKCkgPT4gdGhpcy5jaGFuZ2VNb2RlKCd1cGdyYWRlJykpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVRleHQgPSBMLkRvbVV0aWwuY3JlYXRlKCdzcGFuJywgJ2NvbnRyb2wtdGV4dCcsIHRoaXMudXBncmFkZUxhYmVsKTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVUZXh0LmlubmVyVGV4dCA9ICdUZWNoIFVwZ3JhZGUnO1xyXG5cclxuICAgICAgICB0aGlzLmVlTGFiZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdsYWJlbCcsICdjb250cm9sLWxhYmVsJywgdGhpcy5jb250cm9sRGl2KTtcclxuICAgICAgICB0aGlzLmVlUmFkaW8gPSBMLkRvbVV0aWwuY3JlYXRlKCdpbnB1dCcsICdjb250cm9sLWlucHV0JywgdGhpcy5lZUxhYmVsKTtcclxuICAgICAgICB0aGlzLmVlUmFkaW8udHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgdGhpcy5lZVJhZGlvLm5hbWUgPSAnZGlzcGxheS1tb2RlJztcclxuICAgICAgICB0aGlzLmVlUmFkaW8udmFsdWUgPSAnZWUnO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5lZVJhZGlvLCAnY2hhbmdlJywgKCkgPT4gdGhpcy5jaGFuZ2VNb2RlKCdlZScpKTtcclxuICAgICAgICB0aGlzLmVlVGV4dCA9IEwuRG9tVXRpbC5jcmVhdGUoJ3NwYW4nLCAnY29udHJvbC10ZXh0JywgdGhpcy5lZUxhYmVsKTtcclxuICAgICAgICB0aGlzLmVlVGV4dC5pbm5lclRleHQgPSAnRUUnO1xyXG5cclxuICAgIH0qL1xyXG5cclxufSIsImltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcbmltcG9ydCB7IExhdExuZ0xvY2lkU3RvcmFnZSwgTmJuUGxhY2UsIE5iblBsYWNlU3RvcmUsIFBvaW50QW5kTG9jaWRzLCBQb2ludEFuZFBsYWNlcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgSURhdGFzdG9yZSBmcm9tICcuLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS5pbnRlcmZhY2UnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNZW1vcnlEYXRhc3RvcmUgaW1wbGVtZW50cyBJRGF0YXN0b3JlIHtcclxuXHJcbiAgICBwcml2YXRlIGxhdExuZ0luZGV4OiBMYXRMbmdMb2NpZFN0b3JhZ2UgPSB7fTtcclxuICAgIHByaXZhdGUgbmJuUGxhY2VTdG9yZTogTmJuUGxhY2VTdG9yZSA9IHt9O1xyXG5cclxuICAgIGlzUmVhZHkoKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcmUgcGxhY2UgbWFya2VycyBcclxuICAgICAqIEBwYXJhbSBwbGFjZU1hcmtlciBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3RvcmVQbGFjZShwbGFjZTogTmJuUGxhY2UpIDogUHJvbWlzZTx2b2lkPiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhdGl0dWRlID0gcGxhY2UubGF0aXR1ZGU7XHJcbiAgICAgICAgY29uc3QgbG9uZ2l0dWRlID0gcGxhY2UubG9uZ2l0dWRlO1xyXG4gICAgICAgIGNvbnN0IGxhdExuZyA9IGAke2xhdGl0dWRlfSwke2xvbmdpdHVkZX1gO1xyXG4gICAgICAgIGNvbnN0IGxvY2lkID0gcGxhY2UubG9jaWQ7XHJcblxyXG4gICAgICAgIC8vIFN0b3JlIExPQ0lEIGludG8gaW5kZXhcclxuICAgICAgICBpZiAoIXRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXSkge1xyXG4gICAgICAgICAgICB0aGlzLmxhdExuZ0luZGV4W2xhdExuZ10gPSBbIGxvY2lkIF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXS5pbmNsdWRlcyhsb2NpZCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXS5wdXNoKGxvY2lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcmUgcGxhY2VcclxuICAgICAgICB0aGlzLm5iblBsYWNlU3RvcmVbbG9jaWRdID0gcGxhY2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHN0b3JlUGxhY2VzKHBsYWNlczogTmJuUGxhY2VbXSkgOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBwbGFjZXMuZm9yRWFjaChwbGFjZSA9PiB0aGlzLnN0b3JlUGxhY2UocGxhY2UpKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQbGFjZShsb2NpZDogc3RyaW5nKSA6IFByb21pc2U8TmJuUGxhY2U+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYm5QbGFjZVN0b3JlW2xvY2lkXTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQbGFjZXMoKTogUHJvbWlzZTxOYm5QbGFjZVtdPiB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubmJuUGxhY2VTdG9yZSlcclxuICAgICAgICAgICAgLm1hcChsb2NpZCA9PiB0aGlzLm5iblBsYWNlU3RvcmVbbG9jaWRdKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQb2ludHMoKSA6IFByb21pc2U8UG9pbnRBbmRMb2NpZHNbXT4ge1xyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmxhdExuZ0luZGV4KVxyXG4gICAgICAgICAgICAubWFwKChsYXRMbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFsgbGF0aXR1ZGUsIGxvbmdpdHVkZSBdID0gbGF0TG5nLnNwbGl0KCcsJykubWFwKE51bWJlcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhdGxuZzogbGF0TG5nLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlLCBsb25naXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jaWRzOiB0aGlzLmxhdExuZ0luZGV4W2xhdExuZ10sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQb2ludHNXaXRoaW5Cb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcykgOiBQcm9taXNlPFBvaW50QW5kTG9jaWRzW10+IHtcclxuICAgICAgICBjb25zdCBwb2ludHMgPSAoYXdhaXQgdGhpcy5nZXRQb2ludHMoKSlcclxuICAgICAgICAgICAgLmZpbHRlcigoeyBsYXRpdHVkZSwgbG9uZ2l0dWRlIH0pID0+IHRoaXMuaXNMYXRMbmdXaXRoaW5Cb3VuZHMobGF0aXR1ZGUsIGxvbmdpdHVkZSwgYm91bmRzKSlcclxuICAgICAgICByZXR1cm4gcG9pbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldEZ1bGxQb2ludHNXaXRoaW5Cb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcykgOiBQcm9taXNlPFBvaW50QW5kUGxhY2VzW10+IHtcclxuICAgICAgICBjb25zdCBwb2ludHMgPSAoYXdhaXQgdGhpcy5nZXRQb2ludHMoKSlcclxuICAgICAgICAgICAgLmZpbHRlcigoeyBsYXRpdHVkZSwgbG9uZ2l0dWRlIH0pID0+IHRoaXMuaXNMYXRMbmdXaXRoaW5Cb3VuZHMobGF0aXR1ZGUsIGxvbmdpdHVkZSwgYm91bmRzKSlcclxuICAgICAgICAgICAgLm1hcCgoeyBsYXRsbmcsIGxhdGl0dWRlLCBsb25naXR1ZGUsIGxvY2lkcyB9KSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgbGF0bG5nLCBsYXRpdHVkZSwgbG9uZ2l0dWRlLFxyXG4gICAgICAgICAgICAgICAgcGxhY2VzOiBsb2NpZHMubWFwKGxvY2lkID0+IHRoaXMubmJuUGxhY2VTdG9yZVtsb2NpZF0pLFxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICByZXR1cm4gcG9pbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBsYWNlc0F0TGF0TG5nKGxhdGl0dWRlOiBudW1iZXIsIGxvbmdpdHVkZTogbnVtYmVyKSA6IFByb21pc2U8TmJuUGxhY2VbXT4ge1xyXG4gICAgICAgIGNvbnN0IGxhdExuZyA9IGAke2xhdGl0dWRlfSwke2xvbmdpdHVkZX1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhdExuZ0luZGV4W2xhdExuZ11cclxuICAgICAgICAgICAgLm1hcChsb2NpZCA9PiB0aGlzLm5iblBsYWNlU3RvcmVbbG9jaWRdKVxyXG4gICAgICAgIDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzTGF0TG5nV2l0aGluQm91bmRzKGxhdGl0dWRlOiBudW1iZXIsIGxvbmdpdHVkZTogbnVtYmVyLCBib3VuZHM6IEwuTGF0TG5nQm91bmRzKSB7XHJcbiAgICAgICAgcmV0dXJuIGxhdGl0dWRlID4gYm91bmRzLmdldFNvdXRoKClcclxuICAgICAgICAgICAgJiYgbGF0aXR1ZGUgPCBib3VuZHMuZ2V0Tm9ydGgoKVxyXG4gICAgICAgICAgICAmJiBsb25naXR1ZGUgPiBib3VuZHMuZ2V0V2VzdCgpXHJcbiAgICAgICAgICAgICYmIGxvbmdpdHVkZSA8IGJvdW5kcy5nZXRFYXN0KClcclxuICAgICAgICA7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0sIE5iblBsYWNlLCBQb2ludEFuZFBsYWNlcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgKiBhcyBMIGZyb20gXCJsZWFmbGV0XCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgaXNQbGFjZUZUVFAsXHJcbiAgICBpc1BsYWNlRlRUQyxcclxuICAgIGlzUGxhY2VGVFRQQXZhaWwsXHJcbiAgICBpc1BsYWNlRlRUUFNvb24sXHJcbiAgICBpc1BsYWNlRlRUUEZhcixcclxuICAgIGlzRnd0b0ZUVEMsXHJcbiAgICBpc0Z3dG9GVFROLFxyXG4gICAgaXNTYXRUb0ZXLFxyXG4gICAgaXNEZWJ1Z01vZGVcclxufSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IGNvbG91ckZUVFAgXHRcdD0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJGVFRQQXZhaWwgICA9ICcjNzVBRDZGJztcclxuY29uc3QgY29sb3VyRlRUUFNvb24gICAgPSAnI0M4RTNDNSc7XHJcbmNvbnN0IGNvbG91ckhGQyBcdFx0PSAnI0ZGQkUwMCc7XHJcbmNvbnN0IGNvbG91ckZUVEMgXHRcdD0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFRDQXZhaWwgICA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUTkIgXHRcdD0gJyNFMzA3MUQnO1xyXG5jb25zdCBjb2xvdXJGVyBcdFx0ICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJGV0F2YWlsIFx0PSAnIzAyMkJFMyc7XHJcbmNvbnN0IGNvbG91clNhdCBcdCAgICA9ICcjNkIwMkUzJztcclxuY29uc3QgY29sb3VyVW5rbm93biAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuZnVuY3Rpb24gZ2V0VGVjaENvbG91cih0ZWNoVHlwZTogc3RyaW5nKSB7XHJcbiAgICBzd2l0Y2godGVjaFR5cGUpIHtcclxuICAgICAgICBjYXNlICdGVFRQJzogcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgY2FzZSAnRlRUQyc6IHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIGNhc2UgJ0ZUVE4nOlxyXG4gICAgICAgIGNhc2UgJ0ZUVEInOiByZXR1cm4gY29sb3VyRlRUTkI7XHJcbiAgICAgICAgY2FzZSAnSEZDJzogcmV0dXJuIGNvbG91ckhGQztcclxuICAgICAgICBjYXNlICdXSVJFTEVTUyc6IHJldHVybiBjb2xvdXJGVztcclxuICAgICAgICBjYXNlICdTQVRFTExJVEUnOiByZXR1cm4gY29sb3VyU2F0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsbE1vZGUgaW1wbGVtZW50cyBJTW9kZSB7XHJcblxyXG4gICAgZmlsdGVyKHBsYWNlOiBOYm5QbGFjZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwb2ludENvbG91cihwb2ludDogUG9pbnRBbmRQbGFjZXMpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGFjZUNvbG91cihwb2ludC5wbGFjZXNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkgOiBzdHJpbmcge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQQXZhaWwocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRQQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEZhcihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUQyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVEM7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzRnd0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzRnd0b0ZUVE4ocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFROQjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzU2F0VG9GVyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZXQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSAhPSAnTlVMTF9OQScpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocGxhY2UpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBnZXRUZWNoQ29sb3VyKHBsYWNlLnRlY2hUeXBlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXBDb250ZW50KHBsYWNlOiBOYm5QbGFjZSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8Yj4nK3BsYWNlLmxvY2lkKyc8L2I+PC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczEgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczIgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8Yj5UZWNobm9sb2d5IFBsYW48L2I+PC9icj4nO1xyXG5cclxuICAgICAgICAvKiogVGVjaG5vbG9neSBQbGFuIEZpbmFsIFN0YXRlICovXHJcbiAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlID09ICdGVFRQJ1xyXG4gICAgICAgICAgICB8fCAhcGxhY2UuYWx0UmVhc29uQ29kZVxyXG4gICAgICAgICAgICB8fCBwbGFjZS5hbHRSZWFzb25Db2RlID09ICdOVUxMX05BJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGVjaG5vbG9neTogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGlmIChwbGFjZS50ZWNoVHlwZSAhPSAnRlRUUCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdObyB0ZWNoIHVwZ3JhZGUgcGxhbm5lZDxiciAvPic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGVsc2UgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ3VycmVudDogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDaGFuZ2U6ICcgKyBwbGFjZS5hbHRSZWFzb25Db2RlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdTdGF0dXM6ICcgKyBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdQcm9ncmFtOiAnICsgcGxhY2UucHJvZ3JhbVR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1RhcmdldCBRdHI6ICcgKyBwbGFjZS50YXJnZXRFbGlnaWJpbGl0eVF1YXJ0ZXIgKyAnPGJyIC8+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8YnIgLz4nOyBcclxuICAgICAgICBcclxuICAgICAgICBpZiAocGxhY2UuZWUpIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICc8Yj5FbnRlcnByaXNlIEV0aGVybmV0PC9iPjwvYnI+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdQcmljZSBab25lOiAnICsgKCBwbGFjZS5jYmRwcmljaW5nID8gJ0NCRCcgOiAnWm9uZSAxLzIvMycgKSArICc8YnIgLz4nXHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnQnVpbGQgQ29zdDogJyArICggcGxhY2UuemVyb0J1aWxkQ29zdCA/ICckMCcgOiAnUE9BJyApICsgJzxiciAvPidcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgaHIgPSBMLkRvbVV0aWwuY3JlYXRlKCdocicpO1xyXG4gICAgICAgICAgICBjb25zdCBwcmUgPSBMLkRvbVV0aWwuY3JlYXRlKCdwcmUnKTtcclxuICAgICAgICAgICAgcHJlLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHBsYWNlLCBudWxsLCAyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChocik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRvb2x0aXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxhYmVsID0gcGxhY2VzWzBdLmFkZHJlc3MxO1xyXG5cclxuICAgICAgICBpZiAocGxhY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgbGFiZWwgKz0gJyAoICsgJyArIChwbGFjZXMubGVuZ3RoIC0gMSkgKyAnIG1vcmUpJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGVnZW5kSXRlbXMoKTogTGVnZW5kSXRlbVtdIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRQLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAgVXBncmFkZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFBBdmFpbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFRQIFVwZ3JhZGUgU29vbicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFBTb29uLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0hGQycsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckhGQyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFRDJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUQyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFROL0ZUVEInLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFROQixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVycsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZXLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZXIFVwZ3JhZGUnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGV0F2YWlsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1NhdGVsbGl0ZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91clNhdCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdVbmtub3duJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyVW5rbm93bixcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0gfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IEFDb250cm9sIGZyb20gXCIuL2NvbnRyb2wuYWJzdHJhY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xMZWdlbmQgZXh0ZW5kcyBBQ29udHJvbCB7XHJcblxyXG4gICAgcHJpdmF0ZSBlbENvbnRyb2xEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2wuc2V0UG9zaXRpb24oJ2JvdHRvbXJpZ2h0Jyk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmNsYXNzTGlzdC5hZGQoJ2luZm8nLCAnbGVnZW5kJyk7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sLm9uQWRkID0gKG1hcDogTC5NYXApID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxDb250cm9sRGl2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUxlZ2VuZChpdGVtczogTGVnZW5kSXRlbVtdKSB7XHJcblxyXG4gICAgICAgIGxldCBodG1sID0gJyc7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaHRtbCArPSAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIGl0ZW0uY29sb3VyICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+ICcgKyBpdGVtLmxhYmVsO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSAnICgnICsgaXRlbS5jb3VudCArICcpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodG1sICs9ICc8YnI+JztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuaW5uZXJIVE1MID0gaHRtbDtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgLypcclxuXHJcbiAgICBnZXRMZWdlbmRIVE1MKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5uYm5UZWNoTWFwLmNvbnRyb2xzLmRpc3BsYXlNb2RlPy5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfQ0JEX1pCQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgQ0JEICgkMCBCdWlsZCk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9DQkRfQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIENCRCAoQnVpbGQgUE9BKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX1oxMjNfWkJDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSAxLzIvMyAoJDAgQnVpbGQpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfWjEyM19CQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgMS8yLzMgKEJ1aWxkIFBPQSk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJVbmtub3duKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gVW5rbm93bic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5uYm5UZWNoTWFwLmNvbnRyb2xzLmRpc3BsYXlNb2RlPy5kaXNwbGF5TW9kZSA9PSAndXBncmFkZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQ09NUExFVEUgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQ29tcGxldGVkPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0FWQUlMICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEF2YWlsYWJsZTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9CVUlMREZJTkFMSVNFRCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBCdWlsZCBGaW5hbGlzZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfREVTSUdOICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEluIERlc2lnbjxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9DT01NSVRURUQgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQ29tbWl0dGVkPGJyPidcclxuICAgICAgICAgICAgKyAnPGI+TXVsdGkgRHdlbGxpbmcgVW5pdHM8L2I+PGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX01EVV9JTkJVSUxEICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEluIEJ1aWxkPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX01EVV9FTElHSUJMRSArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBFbGxpZ2libGU8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJVbmtub3duKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gVW5rbm93bic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRQPGJyPicgKyBcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFBBdmFpbCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVFAgVXBncmFkZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFBTb29uKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUUCBVcGdyYWRlIFNvb248YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJIRkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBIRkM8YnI+JyArIFxyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVEM8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFROQisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVE4vRlRUQjxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZXKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlc8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGV0F2YWlsKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlcgVXBncmFkZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clNhdCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFNhdGVsbGl0ZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb250cm9sRGl2KG1hcCkge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY29udHJvbERpdikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xEaXYgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnaW5mbyBsZWdlbmQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS53aWR0aCA9IFwiMTUwcHhcIjtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0TGVnZW5kSFRNTCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sRGl2O1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0TGVnZW5kSFRNTCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sLmFkZFRvKHRoaXMubmJuVGVjaE1hcC5tYXApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZSgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2wucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgKi9cclxufSIsIi8qKlxyXG4gKiBAZmlsZSBNYWluIGVudHJ5IHBvaW50IGZvciBtYXAgc2NyaXB0cy5cclxuICogQG1vZHVsZSBpbmRleC50c1xyXG4gKiBAdmVyc2lvbiAxLjAuMFxyXG4gKiBAYXV0aG9yIEtvYWxhR1xyXG4gKiBAbGljZW5zZSBNSVRcclxuICovXHJcblxyXG5pbXBvcnQgTGlwQXBpIGZyb20gXCIuL2FwaS9saXBfYXBpLmNsYXNzXCI7XHJcbmltcG9ydCBOYm5UZWNoTWFwIGZyb20gXCIuL25ibl90ZWNoX21hcC5jbGFzc1wiO1xyXG5pbXBvcnQgQ29udHJvRGlzcGxheU1vZGUgZnJvbSBcIi4vY29udHJvbHMvY29udHJvbF9kaXNwbGF5X21vZGUuY2xhc3NcIjtcclxuaW1wb3J0IHsgTWVtb3J5RGF0YXN0b3JlIH0gZnJvbSBcIi4vZGF0YXN0b3JlL2RhdGFzdG9yZS5tZW1vcnkuY2xhc3NcIjtcclxuaW1wb3J0IEFsbE1vZGUgZnJvbSBcIi4vbW9kZXMvbW9kZS5hbGxcIjtcclxuaW1wb3J0IENvbnRyb2xMZWdlbmQgZnJvbSBcIi4vY29udHJvbHMvY29udHJvbF9sZWdlbmQuY2xhc3NcIjtcclxuXHJcbmltcG9ydCAnLi9hc3NldHMvU2NyZWVuc2hvdDEucG5nJztcclxuaW1wb3J0ICcuL2Fzc2V0cy9TY3JlZW5zaG90Mi5wbmcnO1xyXG5pbXBvcnQgJy4vYXNzZXRzL1NjcmVlbnNob3QzLnBuZyc7XHJcblxyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBOYm5QbGFjZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ2luZGV4LnRzJyk7XHJcblxyXG5jb25zdCBpc0RldmVsb3BtZW50ID0gKCgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnIHx8IHByb2Nlc3MuYXJndi5pbmNsdWRlcygnZGV2ZWxvcG1lbnQnKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0pKCk7XHJcbmxvZ2dlci5kZWJ1ZygnaXNEZXZlbG9wbWVudCcsIGlzRGV2ZWxvcG1lbnQpO1xyXG5cclxuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IgJiYgIWlzRGV2ZWxvcG1lbnQpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcuL3NlcnZpY2Utd29ya2VyLmpzJykudGhlbihyZWdpc3RyYXRpb24gPT4ge1xyXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnU1cgcmVnaXN0ZXJlZDogJywgcmVnaXN0cmF0aW9uKTtcclxuICAgICAgICB9KS5jYXRjaChyZWdpc3RyYXRpb25FcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdTVyByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCByZWdpc3RyYXRpb25FcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gcmVhZHlcclxuICogQGRlc2NyaXB0aW9uIEV4ZWN1dGVzIGEgZnVuY3Rpb24gd2hlbiB0aGUgRE9NIGlzIHJlYWR5LlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bmN0aW9uIHRvIGV4ZWN1dGUuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKiBAc2VlIHtAbGluayBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTg5OTcwMS8xMjkzMjU2fVxyXG4gKi9cclxuZnVuY3Rpb24gcmVhZHkoZm46ICgpID0+IHZvaWQpIHtcclxuICAgIC8vIHNlZSBpZiBET00gaXMgYWxyZWFkeSBhdmFpbGFibGVcclxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XHJcbiAgICAgICAgLy8gY2FsbCBvbiBuZXh0IGF2YWlsYWJsZSB0aWNrXHJcbiAgICAgICAgc2V0VGltZW91dChmbiwgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZuKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gRXhlY3V0ZSB3aGVuIERPTSBpcyByZWFkeS5cclxucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgY29uc3QgbWFwQXBpID0gbmV3IExpcEFwaSgpO1xyXG4gICAgLy9jb25zdCBkYXRhc3RvcmUgPSBuZXcgSW5kZXhEQkRhdGFzdG9yZSgpO1xyXG4gICAgY29uc3QgZGF0YXN0b3JlID0gbmV3IE1lbW9yeURhdGFzdG9yZSgpO1xyXG4gICAgLy9jb25zdCBtYXJrZXJMYXllciA9IG5ldyBNYXJrZXJMYXllckNsdXN0ZXIoKTtcclxuXHJcbiAgICBjb25zdCBtb2RlQWxsID0gbmV3IEFsbE1vZGUoKTtcclxuXHJcbiAgICBjb25zdCBuYm5UZWNoTWFwID0gbmV3IE5iblRlY2hNYXAoe1xyXG4gICAgICAgIG1hcENvbnRhaW5lcklkOiAnbWFwJyxcclxuICAgICAgICBhcGk6IG1hcEFwaSxcclxuICAgICAgICBkYXRhc3RvcmU6IGRhdGFzdG9yZSxcclxuICAgICAgICAvL21hcmtlckxheWVyOiBtYXJrZXJMYXllcixcclxuICAgICAgICBkZWZhdWx0TW9kZUhhbmRsZXI6IG1vZGVBbGxcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBDb250cm9scyB0byBNYXBcclxuICAgICAqL1xyXG5cclxuICAgIC8vIERpc3BsYXkgTW9kZSBDb250cm9sXHJcbiAgICBjb25zdCBjRGlzcGxheU1vZGUgPSBuZXcgQ29udHJvRGlzcGxheU1vZGUoKTtcclxuICAgIG5iblRlY2hNYXAuYWRkQ29udHJvbCgnZGlzcGxheW1vZGUnLCBjRGlzcGxheU1vZGUpO1xyXG5cclxuICAgIC8vIExlZ2VuZCBDb250cm9sXHJcbiAgICBjb25zdCBjTGVnZW5kID0gbmV3IENvbnRyb2xMZWdlbmQoKTtcclxuICAgIGNMZWdlbmQudXBkYXRlTGVnZW5kKG1vZGVBbGwuZ2V0TGVnZW5kSXRlbXMoKSk7XHJcbiAgICBuYm5UZWNoTWFwLmFkZENvbnRyb2woJ2xlZ2VuZCcsIGNMZWdlbmQpO1xyXG5cclxuICAgIC8vIFNlYXJjaCBDb250cm9sXHJcblxyXG4gICAgLy8gUHJvZ3Jlc3MgQ29udHJvbFxyXG5cclxuICAgIC8vIEFkZCBldmVudCBMaXN0ZW5lcnNcclxuICAgIGNEaXNwbGF5TW9kZS5vbignY2hhbmdlJywgKGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKGUuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnYWxsJzpcclxuICAgICAgICAgICAgICAgIG5iblRlY2hNYXAuc2V0TW9kZUhhbmRsZXIobW9kZUFsbCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndXBncmFkZSc6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZWUnOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn0pIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE0MzogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcblx0fVxuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHJlc3VsdCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rXCJdID0gc2VsZltcIndlYnBhY2tDaHVua1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbOTE4XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNjExKSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwiZmV0Y2hQYWdlIiwiYm91bmRzIiwicGFnZSIsInByb2NlZWQiLCJub3J0aCIsImdldE5vcnRoIiwidG9GaXhlZCIsImVhc3QiLCJnZXRFYXN0Iiwic291dGgiLCJnZXRTb3V0aCIsIndlc3QiLCJnZXRXZXN0IiwiRXJyb3IiLCJNYXRoIiwibWF4IiwiTnVtYmVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmZXRjaCIsIm1ldGhvZCIsInJlZGlyZWN0IiwidGhlbiIsInJlc3BvbnNlIiwidGV4dCIsInJlc3VsdCIsInBhcnNlZFJlc3VsdCIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJjYXRjaCIsIm1hcCIsImRhdGFzdG9yZSIsIm1vZGVIYW5kbGVyIiwicG9pbnRzIiwidGhpcyIsIm1hcmtlcnMiLCJtYXhDbHVzdGVyUmFkaXVzIiwibWFya2VyQ2x1c3RlclJhZGl1cyIsInNwaWRlcmZ5T25NYXhab29tIiwiZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb20iLCJzaG93Q292ZXJhZ2VPbkhvdmVyIiwiem9vbVRvQm91bmRzT25DbGljayIsInJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzIiwiaWNvbkNyZWF0ZUZ1bmN0aW9uIiwiY2h1bmtlZExvYWRpbmciLCJjaHVua0ludGVydmFsIiwiY2h1bmtEZWxheSIsImNodW5rUHJvZ3Jlc3MiLCJwcm9jZXNzZWQiLCJ0b3RhbCIsImVsYXBzZWQiLCJjb25zb2xlIiwibG9nIiwiYWRkVG8iLCJvbiIsImV2ZW50IiwidGFyZ2V0IiwiZ2V0Wm9vbSIsImNsdXN0ZXIiLCJjb2xvckFycmF5IiwiZ2V0QWxsQ2hpbGRNYXJrZXJzIiwibWFya2VyIiwib3B0aW9ucyIsImZpbGxDb2xvciIsImNvbG9yQ291bnRzIiwiZm9yRWFjaCIsImNvbG9yIiwiY29sb3JBcnJheVNvcnRlZCIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwiYSIsImIiLCJiYWNrZ3JvdW5kIiwibGFzdENvbG91clBlcmNlbnQiLCJpbmRleCIsInRoaXNDb2xvdXJQZXJjZW50IiwibGVuZ3RoIiwicmFuZG9tSWQiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImh0bWwiLCJnZXRDaGlsZENvdW50IiwiY2xhc3NOYW1lIiwiem9vbSIsInNldE1vZGVIYW5kbGVyIiwidmFsdWVzIiwibGF5ZXIiLCJwb2ludCIsInNldFN0eWxlIiwicG9pbnRDb2xvdXIiLCJyZWRyYXciLCJlcnJvciIsImdldExheWVycyIsInJlZnJlc2hDbHVzdGVycyIsInJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzIiwibUZpbHRlciIsImdldEZ1bGxQb2ludHNXaXRoaW5Cb3VuZHMiLCJsYXRMbmdTdHJpbmciLCJsYXRsbmciLCJyZW5kZXJQb2ludCIsImZpbHRlcmVkUG9pbnRzIiwiZmlsdGVyIiwic2hvd1BvaW50IiwicGxhY2VzIiwicHVzaCIsInJlbW92ZUxheWVycyIsImFkZExheWVycyIsInAiLCJyZW1vdmVNYXJrZXJzT3V0c2lkZUJvdW5kcyIsInJlbW92ZUFsbE1hcmtlcnMiLCJjbGVhckxheWVycyIsImNpcmNsZU1hcmtlckxheWVyIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJyYWRpdXMiLCJ3ZWlnaHQiLCJvcGFjaXR5IiwiZmlsbE9wYWNpdHkiLCJiaW5kUG9wdXAiLCJyZW5kZXJQb3B1cCIsImF1dG9QYW4iLCJhdXRvQ2xvc2UiLCJiaW5kVG9vbHRpcCIsInJlbmRlclRvb2x0aXAiLCJyZW5kZXJQb3B1cENvbnRlbnQiLCJyZW5kb3JQb3B1cE11bHRpIiwiZ3JvdXBEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwbGFjZUNvbnRhaW5lcnMiLCJhZGRyZXNzMSIsInBsYWNlIiwicGxhY2VDb250YWluZXIiLCJwbGFjZUNvbG91ciIsImJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsInR5cGUiLCJpbm5lckhUTUwiLCJwYW5lbCIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRseUFjdGl2ZSIsImNvbnRhaW5zIiwicmVtb3ZlIiwibmFtZSIsInN1YiIsIkxvZ2dlciIsImFyZ3MiLCJ3YXJuIiwiZGVidWciLCJpc0RlYnVnTW9kZSIsImluZm8iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJpbmNsdWRlcyIsInJvdW5kQm91bmRzIiwiY2VpbCIsImZsb29yIiwibG9nZ2VyIiwibWFya2VyRmlsdGVyIiwiaW5pdGlhbFZpZXdTZXQiLCJjb250cm9scyIsIk5iblRlY2hNYXAiLCJERUZBVUxUX09QVElPTlMiLCJhcGkiLCJkZWZhdWx0TW9kZUhhbmRsZXIiLCJtYXBDb250YWluZXJJZCIsInByZWZlckNhbnZhcyIsIm1hcmtlckxheWVyIiwibWFwVGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJzdWJkb21haW5zIiwiY3Jvc3NPcmlnaW4iLCJtaW5ab29tIiwibWF4Wm9vbSIsIkwiLCJHZW9jb2RlciIsImdlb2NvZGVyIiwibWFwR2VvY29kZXIiLCJBcmNHaXMiLCJhcGlLZXkiLCJnZW9jb2RpbmdRdWVyeVBhcmFtcyIsImNvdW50cnlDb2RlIiwiY2F0ZWdvcnkiLCJtYXBTZWFyY2giLCJwb3NpdGlvbiIsImNvbGxhcHNlZCIsImRlZmF1bHRNYXJrR2VvY29kZSIsInN1Z2dlc3RNaW5MZW5ndGgiLCJzdWdnZXN0VGltZW91dCIsImJib3giLCJnZW9jb2RlIiwiZml0Qm91bmRzIiwibWFwTG9jYXRlIiwibG9jYXRlIiwibG9jYXRlT3B0aW9ucyIsInNldFZpZXciLCJrZWVwQ3VycmVudFpvb21MZXZlbCIsImluaXRpYWxab29tTGV2ZWwiLCJjYWNoZUxvY2F0aW9uIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJzZXRJbml0aWFsTWFwVmlldyIsImNlbnRlciIsImdldENlbnRlciIsInN0cmluZ2lmeSIsImxhdCIsImxuZyIsInB1c2hCcm93c2VySGlzdG9yeSIsImRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyIsImZldGNoRGF0YUZvckN1cnJlbnRWaWV3IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImdldFN0YXJ0UG9zIiwic3RhcnRQb3NTdHJpbmciLCJnZXRJdGVtIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2VhcmNoIiwiZ2V0IiwicGFyc2VJbnQiLCJnZW9GbGFnIiwic3RhcnRQb3MiLCJzdGFydCIsInNldFpvb20iLCJnZXRCb3hlc0luQm91bmRzIiwibm9ydGhtb3N0Iiwid2VzdG1tb3N0IiwiYm94ZXMiLCJib3giLCJnZXRDdXJyZW50Vmlld0JveGVzIiwiZ2V0Qm91bmRzIiwiaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXciLCJtYXBCb3VuZHMiLCJwYWQiLCJhdHRlbXB0IiwiaXNSZWFkeSIsInNldFRpbWVvdXQiLCJyZWZyZXNoUG9pbnRzRnJvbVN0b3JlIiwiYm94Q2h1bmtzIiwiYXJyYXkiLCJzaXplIiwicmVzdWx0cyIsInNwbGljZSIsImNodW5rQXJyYXkiLCJpIiwiZmV0Y2hQcm9taXNlcyIsImZldGNoRGF0YSIsImFsbCIsImludGVyc2VjdHMiLCJwcm9jZXNzRmV0Y2hSZXN1bHQiLCJuZXh0IiwibWVzc2FnZSIsInByb2Nlc3NQcm9taXNlIiwic3RvcmVQbGFjZXMiLCJhZGRDb250cm9sIiwia2V5IiwiY29udHJvbCIsImdldENvbnRyb2wiLCJzZXRNYXJrZXJGaWx0ZXIiLCJldmVudEhhbmRsZXJzIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJlbWl0IiwiaGFuZGxlcnMiLCJzdGF0ZSIsImdldFN0YXRlIiwiZGlzcGxheU1vZGUiLCJlbENvbnRyb2xEaXYiLCJlbERyb3Bkb3duIiwiYWxsTGFiZWwiLCJhbGxSYWRpbyIsImFsbFRleHQiLCJ1cGdyYWRlTGFiZWwiLCJ1cGdyYWRlUmFkaW8iLCJ1cGdyYWRlVGV4dCIsImVlTGFiZWwiLCJlZVJhZGlvIiwiZWVUZXh0IiwiZ2VuZXJhdGVDb250cm9sRGl2Iiwib25BZGQiLCJnZW5lcmF0ZURyb3Bkb3duIiwiY2hhbmdlTW9kZSIsIm1vZGUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJkcm9wZG93biIsImFsbE9wdGlvbiIsInZhbHVlIiwiaW5uZXJUZXh0IiwiZSIsImxhdExuZ0luZGV4IiwibmJuUGxhY2VTdG9yZSIsInN0b3JlUGxhY2UiLCJsYXRMbmciLCJsb2NpZCIsImdldFBsYWNlIiwiZ2V0UGxhY2VzIiwiZ2V0UG9pbnRzIiwic3BsaXQiLCJsb2NpZHMiLCJnZXRQb2ludHNXaXRoaW5Cb3VuZHMiLCJpc0xhdExuZ1dpdGhpbkJvdW5kcyIsImdldFBsYWNlc0F0TGF0TG5nIiwiZ2V0VGVjaENvbG91ciIsInRlY2hUeXBlIiwiaXNQbGFjZUZUVFAiLCJhbHRSZWFzb25Db2RlIiwibWF0Y2giLCJ0ZWNoQ2hhbmdlU3RhdHVzIiwiaXNQbGFjZUZUVFBBdmFpbCIsImlzUGxhY2VGVFRQU29vbiIsImlzUGxhY2VGVFRQRmFyIiwicmVhc29uQ29kZSIsImlzUGxhY2VGVFRDIiwiaXNGd3RvRlRUQyIsImlzRnd0b0ZUVE4iLCJpc1NhdFRvRlciLCJjb250ZW50IiwiY3JlYXRlIiwiYWRkcmVzczIiLCJwcm9ncmFtVHlwZSIsInRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciIsImVlIiwiY2JkcHJpY2luZyIsInplcm9CdWlsZENvc3QiLCJociIsInByZSIsImxhYmVsIiwiZ2V0TGVnZW5kSXRlbXMiLCJjb2xvdXIiLCJzZXRQb3NpdGlvbiIsInVwZGF0ZUxlZ2VuZCIsIml0ZW1zIiwiaXRlbSIsImNvdW50IiwiZm4iLCJpc0RldmVsb3BtZW50IiwicHJvY2VzcyIsImFyZ3YiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciIsIm1hcEFwaSIsIk1lbW9yeURhdGFzdG9yZSIsIm1vZGVBbGwiLCJuYm5UZWNoTWFwIiwiY0Rpc3BsYXlNb2RlIiwiY0xlZ2VuZCIsInJlYWR5U3RhdGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJPIiwiY2h1bmtJZHMiLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiZnVsZmlsbGVkIiwiaiIsImV2ZXJ5IiwiciIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVwbGFjZSIsImJhc2VVUkkiLCJzZWxmIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwiYmluZCIsIm5jIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=