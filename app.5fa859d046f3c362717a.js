/*! For license information please see app.5fa859d046f3c362717a.js.LICENSE.txt */
(()=>{"use strict";var t,e={611:(t,e,n)=>{const r=function(){function t(){}return t.prototype.fetchPage=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=function(){return!0}),r=this,o=void 0,a=function(){var r,o,i,a;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(s){switch(s.label){case 0:if(r=t.getNorth().toFixed(2),o=t.getEast().toFixed(2),i=t.getSouth().toFixed(2),a=t.getWest().toFixed(2),!n())throw new Error("Proceed function returned false. Stopping fetch.");return e=Math.max(1,Number(e)),"https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(e),[4,new Promise((function(t,n){fetch("https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(e),{method:"GET",redirect:"follow"}).then((function(t){return t.text()})).then((function(e){var n=JSON.parse(e);t(n.data)})).catch(n)}))];case 1:return[2,s.sent()]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function s(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,s)}l((a=a.apply(r,o||[])).next())}));var r,o,i,a},t}();n(623);var o=n(243),i=(n(664),n(687),n(634),n(817)),a=(n(732),n(256),function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}),s=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const l=function(){function t(t,e,n){this.points={},this.map=t,this.datastore=e,this.modeHandler=n,this.markers=new o.MarkerClusterGroup({maxClusterRadius:this.markerClusterRadius,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:18,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,iconCreateFunction:this.iconCreateFunction,chunkedLoading:!0,chunkInterval:150,chunkDelay:150,chunkProgress:function(t,e,n){console.log("chunkProgress",{processed:t,total:e,elapsed:n})}}),this.markers.addTo(this.map),this.map.on("zoomend",(function(t){console.log("zoomend",t.target.getZoom())}))}return t.prototype.iconCreateFunction=function(t){var e=t.getAllChildMarkers().map((function(t){return t.options.fillColor})),n={};e.forEach((function(t){n[t]||(n[t]=0),n[t]++}));var r=Object.keys(n).sort((function(t,e){return n[e]-n[t]})),i="background: conic-gradient(",a=0;r.forEach((function(t,r){0==r&&(i+="\n"+t+" 0%");var o=n[t]/e.length*100;i+=", \n"+t+" "+a+"%",i+=", \n"+t+" "+(a+o)+"%",a+=o})),i+="\n);";var s=Math.random().toString(36).substring(7);return o.divIcon({html:"<style>#cluster_".concat(s,"::before { ").concat(i," }</style> <div id='cluster_").concat(s,"'><span>")+t.getChildCount()+"</span></div>",className:"marker-cluster"})},t.prototype.markerClusterRadius=function(t){switch(t){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:return 150;case 14:return 100;default:return 0}},t.prototype.setModeHandler=function(t){return this.modeHandler=t,Object.values(this.points).forEach((function(e){var n=e.layer,r=e.point;n.setStyle({fillColor:t.pointColour(r)}),n.redraw()})),console.error(this.markers),this.markers&&this.markers.getLayers().length&&this.markers.refreshClusters(),this},t.prototype.refreshMarkersInsideBounds=function(t,e){var n,r,o;return a(this,void 0,void 0,(function(){var i,a,l=this;return s(this,(function(s){switch(s.label){case 0:if(!this.datastore)throw new Error("Datastore not set");return[4,this.datastore.getFullPointsWithinBounds(t)];case 1:return s.sent().forEach((function(t){var e=t.latlng;l.points[e]?l.points[e].point=t:l.points[e]={layer:l.renderPoint(t),point:t}})),e?(i=[],a=Object.values(this.points).filter((function(t){var n=t.layer,r=t.point.places.filter(e).length>0;return r||i.push(n),r})),i.length&&(null===(n=this.markers)||void 0===n||n.removeLayers(i)),null===(r=this.markers)||void 0===r||r.addLayers(a.map((function(t){return t.layer})))):null===(o=this.markers)||void 0===o||o.addLayers(Object.values(this.points).map((function(t){return t.layer}))),[2]}}))}))},t.prototype.removeMarkersOutsideBounds=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},t.prototype.removeAllMarkers=function(){var t;return a(this,void 0,void 0,(function(){return s(this,(function(e){return null===(t=this.markers)||void 0===t||t.clearLayers(),[2]}))}))},t.prototype.renderPoint=function(t){var e,n=this,r=o.circleMarker([t.latitude,t.longitude],{radius:5,fillColor:null===(e=this.modeHandler)||void 0===e?void 0:e.pointColour(t),color:"#000000",weight:1,opacity:1,fillOpacity:.8});return r.bindPopup((function(e){return n.renderPopup(t.places)||""}),{autoPan:!0,autoClose:!1}),r.bindTooltip((function(e){return n.modeHandler.renderTooltip(t.places)||""}),{}),r},t.prototype.renderPopup=function(t){return 1==t.length?this.modeHandler.renderPopupContent(t[0]):this.rendorPopupMulti(t)},t.prototype.rendorPopupMulti=function(t){var e,n,r=document.createElement("div"),o=[];t.sort((function(t,e){return t.address1<e.address1?-1:t.address1>e.address1?1:0}));var i=function(t){var e=document.createElement("div"),n=a.modeHandler.placeColour(t),i=document.createElement("button");i.classList.add("accordion"),i.type="button",i.innerHTML='<svg height="15" width="15" style="margin-right:3px">'+'<circle class="circle" cx="7.5" cy="9" r="5" stroke="#000" stroke-width="1" fill="'.concat(n,'" />')+"</svg>"+"<span>".concat(t.address1,"</span>");var s=document.createElement("div");s.classList.add("panel"),s.appendChild(a.modeHandler.renderPopupContent(t)),i.addEventListener("click",(function(){var t=e.classList.contains("active");o.forEach((function(t){t.classList.remove("active")})),t||e.classList.add("active")})),e.appendChild(i),e.appendChild(s),r.appendChild(e),o.push(e)},a=this;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),l=s.next();!l.done;l=s.next())i(l.value)}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},t}();var c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},p=function(){function t(t){this.name=t}return t.prototype.sub=function(e){return new t("".concat(this.name,".").concat(e))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.warn.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];h()&&console.debug.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.info.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,u(["[".concat(this.name,"]")],c(t),!1))},t}();function h(){return window.location.href.includes("localhost")||window.location.href.includes("debug=true")}var d=function(){return d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},d.apply(this,arguments)},f=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function v(t){var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=Math.floor(50*t.getSouth())/50,i=Math.ceil(25*t.getEast())/25;return o.latLngBounds([r,n],[e,i])}var m=function(){function t(e){var n=this;this.logger=new p("NbnTechMap"),this.markerFilter=function(t){return!0},this.initialViewSet=!1,this.progressControl=new o.Control({position:"bottomleft"}),this.progressItems={},this.controls={},e=d(d({},t.DEFAULT_OPTIONS),e),this.api=e.api,this.datastore=e.datastore,this.modeHandler=e.defaultModeHandler,this.map=o.map(e.mapContainerId,{preferCanvas:!0}),this.markerLayer=new l(this.map,this.datastore,this.modeHandler),this.mapTileLayer=o.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",crossOrigin:!0,minZoom:5,maxZoom:20}),this.mapTileLayer.addTo(this.map),console.log({L:o,Geocoder:i.Ms,geocoder:i.yK});var r=new i.d2.ArcGis({apiKey:"AAPKa97b8a5374db4fa9b0fdd8e55361cba4Z9fEuw3ckAOIFHK1CP_VbzTv3OTeUz3ggrFAzVPzjyn3Q7bQFzbwkDMvDxaJ-JzG",geocodingQueryParams:{countryCode:"AU",category:"Address,LatLong,Neighborhood,District,City,Metro Area"}});this.mapSearch=o.Control.geocoder({position:"topleft",collapsed:!0,defaultMarkGeocode:!1,geocoder:r,suggestMinLength:5,suggestTimeout:1e3}),this.mapSearch.on("markgeocode",(function(t){var e=t.geocode.bbox;n.map.fitBounds(e,{maxZoom:16})})),this.mapSearch.addTo(this.map),this.mapLocate=o.control.locate({position:"topleft",locateOptions:{maxZoom:16},setView:"untilPan",keepCurrentZoomLevel:!0,initialZoomLevel:17,cacheLocation:!0}),this.mapLocate.addTo(this.map),this.map.on("locateactivate",(function(){localStorage.setItem("geolocate","1")})),this.map.on("locatedeactivate",(function(){localStorage.removeItem("geolocate")})),this.setInitialMapView(),this.map.on("moveend",(function(){return f(n,void 0,void 0,(function(){var t,e;return g(this,(function(n){switch(n.label){case 0:return t=this.map.getCenter(),e=this.map.getZoom(),localStorage.setItem("startpos",JSON.stringify({lat:t.lat,lng:t.lng,zoom:e})),this.pushBrowserHistory(),r.options.geocodingQueryParams&&(r.options.geocodingQueryParams.location="".concat(t.lng,",").concat(t.lat)),[4,this.displayMarkersInCurrentView()];case 1:return n.sent(),this.fetchDataForCurrentView(),[2]}}))}))})),this.fetchDataForCurrentView(),window.addEventListener("popstate",(function(){var t=new URLSearchParams(window.location.search),e=t.get("lat"),r=t.get("lng"),o=t.get("zoom");e&&r&&o&&(n.map.setView([Number(e),Number(r)],parseInt(o)),n.initialViewSet=!0)}))}return t.prototype.pushBrowserHistory=function(){var t=this.map.getCenter(),e=this.map.getZoom(),n=new URLSearchParams(window.location.search);n.set("lat",t.lat.toString()),n.set("lng",t.lng.toString()),n.set("zoom",e.toString());var r=window.location.pathname+"?"+n.toString();window.history.pushState({},"",r)},t.prototype.getStartPos=function(){var t=localStorage.getItem("startpos");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}},t.prototype.setInitialMapView=function(){var t=this.logger.sub("setInitialMapView");if(this.initialViewSet)t.warn("Initial map view already set");else{var e=new URLSearchParams(window.location.search),n=e.get("lat"),r=e.get("lng"),o=e.get("zoom");if(n&&r&&o)return this.map.setView([Number(n),Number(r)],parseInt(o)),void(this.initialViewSet=!0);var i=localStorage.getItem("geolocate"),a=this.getStartPos();a&&(this.map.setView([a.lat,a.lng],a.zoom),this.initialViewSet=!0),a||(this.map.setView([-26.1772288,133.4170119],10),this.initialViewSet=!0),!i&&a||(this.mapLocate.start(),this.map.setZoom(17),this.initialViewSet=!0),this.initialViewSet||t.error("Could not set initial map view")}},t.prototype.getBoxesInBounds=function(t){for(var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=[],i=e;i>t.getSouth();i-=.02)for(var a=n;a<t.getEast();a+=.04)r.push([i,a]);return r.map((function(t){var e=t[0],n=t[1],r=e-.02,i=n+.04;return o.latLngBounds([r,n],[e,i])}))},t.prototype.getCurrentViewBoxes=function(){return this.getBoxesInBounds(this.map.getBounds())},t.prototype.hideMarkersOutsideCurrentView=function(){var t=this.map.getBounds().pad(.5);this.markerLayer.removeMarkersOutsideBounds(t)},t.prototype.displayMarkersInCurrentView=function(t){return void 0===t&&(t=1),f(this,void 0,void 0,(function(){var e,n=this;return g(this,(function(r){return!1===this.datastore.isReady()?t>10?(console.error("Could not get datastore ready. Giving up."),[2]):(console.warn("Datastore is not ready. Delaying displayMarkersInCurrentView()"),setTimeout((function(){return n.displayMarkersInCurrentView(t+1)}),1e3),[2]):(console.log("Displaying markers in current view"),e=v(this.map.getBounds()),console.log("Fetching from Datastore",e),this.refreshPointsFromStore(e),[2])}))}))},t.prototype.showZoomInWarning=function(){var t=this;this.zoomInWarningControl||(this.zoomInWarningControl=new o.Control({position:"topright"}),this.zoomInWarningControl.onAdd=function(){var t=o.DomUtil.create("div","info legend");return t.innerHTML='<h4 style="margin:0">Area Too Big!</h4>',t.innerHTML+='<p style="margin:0">Location loading is paused until you zoom in.</p>',t.style.backgroundColor="#ff9800",t.style.opacity="0.8",t.style.padding="10px 20px",t.style.color="#ffffff",t});var e=this.zoomInWarningControl;setTimeout((function(){return t.map.addControl(e)}),1e3)},t.prototype.hideZoomInWarning=function(){this.zoomInWarningControl&&this.map.removeControl(this.zoomInWarningControl)},t.prototype.fetchDataForCurrentView=function(){return f(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,s,l=this;return g(this,(function(c){switch(c.label){case 0:if(t=this.logger.sub("fetchDataForCurrentView"),this.hideMarkersOutsideCurrentView(),this.displayMarkersInCurrentView(),this.map.getZoom()<11)return t.warn("Zoom level too low. Skipping."),this.showZoomInWarning(),[2];if(e=this.getCurrentViewBoxes(),t.debug("Current view boxes",e),e.length>500)return t.warn("Too many boxes to fetch. Skipping."),this.showZoomInWarning(),[2];n=this.map.getCenter().toString()+this.map.getZoom(),r=this.createProgress(n,e.length,"Fetching boxes..."),this.hideZoomInWarning(),o=function(t,e){for(var n=[];t.length;)n.push(t.splice(0,10));return n}(e),t.debug("Box chunks",o.length,o),i=0,a=0,c.label=1;case 1:return a<o.length?this.map.getCenter().toString()+this.map.getZoom()!=n?(t.debug("Map moved. Cancelling fetch."),r.text="Map moved. Cancelling fetch.",this.updateProgress(n,i,!0),[2]):(s=o[a].map((function(t,e){return f(l,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.fetchData(t)];case 1:return e.sent(),i++,this.updateProgress(n,i,!1),[2]}}))}))})),t.debug("Fetch promises",s.length,s),[4,Promise.all(s)]):[3,4];case 2:c.sent(),this.refreshPointsFromStore(this.map.getBounds().pad(.5)),c.label=3;case 3:return a++,[3,1];case 4:return this.updateProgress(n,i,!0),t.debug("All boxes fetched"),[2]}}))}))},t.prototype.createProgress=function(t,e,n){return this.progressItems[t]={started:new Date,finished:void 0,complete:!1,progress:0,total:e,text:n},this.progressItems[t]},t.prototype.updateProgress=function(t,e,n){if(!this.progressItems[t])throw new Error("Progress item with key ".concat(t," does not exist"));this.progressItems[t].finished=n?new Date:void 0,this.progressItems[t].complete=n,this.progressItems[t].progress=e,this.renderProgress()},t.prototype.renderProgress=function(){for(var t=this,e=new Date,n=Object.keys(this.progressItems),r=0;r<n.length;r++){var i=n[r];if(this.progressItems[i]){var a=this.progressItems[i].finished;a&&e.getTime()-a.getTime()>5e3&&delete this.progressItems[i]}}0!=Object.keys(this.progressItems).length?(this.progressControl.onAdd=function(){var e=o.DomUtil.create("div","info legend");e.innerHTML='<h4 style="margin:0">Loading...</h4>';for(var n=Object.values(t.progressItems),r=0;r<n.length;r++){var i=n[r];if(!(i.finished&&(new Date).getTime()-i.finished.getTime()>1e4)){var a=i.progress/i.total*100,s=i.complete?"Complete":"".concat(i.progress," of ").concat(i.total);e.innerHTML+='<p style="margin:0">'.concat(i.text," (").concat(s,")</p>"),e.innerHTML+='<progress value="'.concat(a,'" max="100"></progress>')}}return e.style.backgroundColor="#000000",e.style.opacity="0.8",e.style.padding="10px 20px",e.style.color="#ffffff",e},this.map.addControl(this.progressControl),setTimeout((function(){Object.values(t.progressItems).every((function(t){return t.complete}))&&t.hideProgress()}),5e3)):this.hideProgress()},t.prototype.hideProgress=function(){this.map.removeControl(this.progressControl)},t.prototype.fetchData=function(t,e){return void 0===e&&(e=1),f(this,void 0,void 0,(function(){var n,r,o=this;return g(this,(function(i){switch(i.label){case 0:h()&&console.log("Fetching Box",t.getCenter().toString(),e),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,this.api.fetchPage(t,e,(function(){return o.map.getBounds().intersects(t)}))];case 2:return n=i.sent(),[4,this.processFetchResult(n,t)];case 3:return i.sent(),n.next?[4,this.fetchData(t,n.next)]:[3,5];case 4:return[2,i.sent()];case 5:return[2];case 6:return"Page already loaded this session."==(r=i.sent()).message?[2]:(console.error(r),[3,7]);case 7:return[2]}}))}))},t.prototype.processFetchResult=function(t,e){return f(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return console.log("Storing places."),e=this.datastore.storePlaces(t.places),console.log("Waiting for place storing to finish"),[4,e];case 1:return n.sent(),[2]}}))}))},t.prototype.refreshPointsFromStore=function(t){return f(this,void 0,void 0,(function(){return g(this,(function(e){if(!this.markerLayer)throw new Error("Marker Layer not set");return t||(console.log("Bounds not passed. Using map bounds."),t=this.map.getBounds()),t=v(t),this.markerLayer.refreshMarkersInsideBounds(t,this.markerFilter),[2]}))}))},t.prototype.addControl=function(t,e){if(this.controls[t])throw new Error("Control with key ".concat(t," already exists"));this.controls[t]=e,this.map.addControl(e.getControl()),console.log("Added control",t)},t.prototype.setMarkerFilter=function(t){if(!this.markerLayer)throw new Error("Marker Layer not set");this.markerFilter=t,this.markerLayer.refreshMarkersInsideBounds(this.map.getBounds(),this.markerFilter)},t.prototype.setModeHandler=function(t){var e;this.modeHandler=t,null===(e=this.markerLayer)||void 0===e||e.setModeHandler(t)},t.DEFAULT_OPTIONS={mapContainerId:"map"},t}();const y=m,w=function(){function t(){this.eventHandlers={},this.control=new o.Control}return t.prototype.on=function(t,e){this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},t.prototype.emit=function(t,e){var n=this;console.debug("Emitting event: ".concat(t),{data:e,handlers:this.eventHandlers[t]}),this.eventHandlers[t]&&this.eventHandlers[t].forEach((function(r){return r({name:t,state:n.getState(),data:e})}))},t.prototype.getControl=function(){return this.control},t}();var b,C=(b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},b(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const T=function(t){function e(){var e=t.call(this)||this;return e.displayMode="all",e.elControlDiv=document.createElement("div"),e.elDropdown=document.createElement("select"),e.allLabel=null,e.allRadio=null,e.allText=null,e.upgradeLabel=null,e.upgradeRadio=null,e.upgradeText=null,e.eeLabel=null,e.eeRadio=null,e.eeText=null,e.generateControlDiv(),e.control.onAdd=function(t){return e.generateDropdown(),e.elControlDiv},e}return C(e,t),e.prototype.getState=function(){return this.displayMode},e.prototype.changeMode=function(t){this.displayMode=t,this.emit("change",t)},e.prototype.generateControlDiv=function(){this.elControlDiv&&console.warn("ControlDiv already exists"),this.elControlDiv.classList.add("info","legend"),this.elControlDiv.style.backgroundColor="#ffffff",this.elControlDiv.style.opacity="0.8",this.elControlDiv.style.padding="5px",this.elControlDiv.style.borderRadius="5px"},e.prototype.generateDropdown=function(){var t=this;this.elDropdown&&console.warn("Dropdown already exists");var e=this.elDropdown;e.classList.add("control-select");var n=document.createElement("option");n.value="all",n.innerText="Show All Locations",e.appendChild(n),e.addEventListener("change",(function(e){return t.changeMode(e.target.value)})),this.elDropdown=e,this.elControlDiv.appendChild(e)},e}(w);var k=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},x=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},L=function(){function t(){this.latLngIndex={},this.nbnPlaceStore={}}return t.prototype.isReady=function(){return!0},t.prototype.storePlace=function(t){return k(this,void 0,void 0,(function(){var e,n,r,o;return x(this,(function(i){return e=t.latitude,n=t.longitude,r="".concat(e,",").concat(n),o=t.locid,this.latLngIndex[r]?this.latLngIndex[r].includes(o)||this.latLngIndex[r].push(o):this.latLngIndex[r]=[o],this.nbnPlaceStore[o]=t,[2]}))}))},t.prototype.storePlaces=function(t){return k(this,void 0,void 0,(function(){var e=this;return x(this,(function(n){return t.forEach((function(t){return e.storePlace(t)})),[2]}))}))},t.prototype.getPlace=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){return[2,this.nbnPlaceStore[t]]}))}))},t.prototype.getPlaces=function(){return k(this,void 0,void 0,(function(){var t=this;return x(this,(function(e){return[2,Object.keys(this.nbnPlaceStore).map((function(e){return t.nbnPlaceStore[e]}))]}))}))},t.prototype.getPoints=function(){return k(this,void 0,void 0,(function(){var t=this;return x(this,(function(e){return[2,Object.keys(this.latLngIndex).map((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e.split(",").map(Number),2);return{latlng:e,latitude:n[0],longitude:n[1],locids:t.latLngIndex[e]}}))]}))}))},t.prototype.getPointsWithinBounds=function(t){return k(this,void 0,void 0,(function(){var e=this;return x(this,(function(n){switch(n.label){case 0:return[4,this.getPoints()];case 1:return[2,n.sent().filter((function(n){var r=n.latitude,o=n.longitude;return e.isLatLngWithinBounds(r,o,t)}))]}}))}))},t.prototype.getFullPointsWithinBounds=function(t){return k(this,void 0,void 0,(function(){var e,n=this;return x(this,(function(r){switch(r.label){case 0:return[4,this.getPoints()];case 1:return e=r.sent().filter((function(e){var r=e.latitude,o=e.longitude;return n.isLatLngWithinBounds(r,o,t)})).map((function(t){return{latlng:t.latlng,latitude:t.latitude,longitude:t.longitude,places:t.locids.map((function(t){return n.nbnPlaceStore[t]}))}})),[2,e]}}))}))},t.prototype.getPlacesAtLatLng=function(t,e){return k(this,void 0,void 0,(function(){var n,r=this;return x(this,(function(o){return n="".concat(t,",").concat(e),[2,this.latLngIndex[n].map((function(t){return r.nbnPlaceStore[t]}))]}))}))},t.prototype.isLatLngWithinBounds=function(t,e,n){return t>n.getSouth()&&t<n.getNorth()&&e>n.getWest()&&e<n.getEast()},t}(),S="#1D7044",P="#75AD6F",M="#C8E3C5",E="#FFBE00",F="#FF7E01",I="#E3071D",O="#02B9E3",D="#022BE3",B="#6B02E3",H="#888888";function A(t){switch(t){case"FTTP":return S;case"FTTC":return F;case"FTTN":case"FTTB":return I;case"HFC":return E;case"WIRELESS":return O;case"SATELLITE":return B}return H}const z=function(){function t(){}return t.prototype.filter=function(t){return!0},t.prototype.pointColour=function(t){return this.placeColour(t.places[0])},t.prototype.placeColour=function(t){return function(t){return"FTTP"===t.techType}(t)?S:function(t){return!(!t.altReasonCode||!t.altReasonCode.match(/^FTTP/)||"Eligible To Order"!==t.techChangeStatus)}(t)?P:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/))switch(t.techChangeStatus){case"In Design":case"Build Finalised":case"Planned":case"MDU Complex Eligible To Apply":case"MDU Complex Premises In Build":return!0}return!1}(t)?M:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/)&&"Committed"===t.techChangeStatus)return!0}(t)?A(t.techType):function(t){return!("FTTC"!=t.techType||!t.reasonCode||!t.reasonCode.match(/^FTTC/)||"New Tech Connected"!=t.techChangeStatus)}(t)?F:function(t){return"FTTC"==t.techType&&"FTTC_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?"#FF7E01":function(t){return"FTTN"==t.techType&&"FTTN_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?I:function(t){return"WIRELESS"==t.techType&&"FW_SA"==t.reasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?D:(t.altReasonCode&&"NULL_NA"!=t.altReasonCode&&console.log(t),A(t.techType))},t.prototype.renderPopupContent=function(t){var e=o.DomUtil.create("div");if(e.innerHTML="<b>"+t.locid+"</b></br>"+t.address1+"</br>"+t.address2+"</br><br />",e.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=t.techType&&t.altReasonCode&&"NULL_NA"!=t.altReasonCode?(t.altReasonCode&&t.altReasonCode.match(/^FTTP/),e.innerHTML+="Current: "+t.techType+"<br />",e.innerHTML+="Change: "+t.altReasonCode+"<br />",e.innerHTML+="Status: "+t.techChangeStatus+"<br />",e.innerHTML+="Program: "+t.programType+"<br />",e.innerHTML+="Target Qtr: "+t.targetEligibilityQuarter+"<br />"):(e.innerHTML+="Technology: "+t.techType+"<br />","FTTP"!=t.techType&&(e.innerHTML+="No tech upgrade planned<br />")),e.innerHTML+="<br />",t.ee&&(e.innerHTML+="<b>Enterprise Ethernet</b></br>",e.innerHTML+="Price Zone: "+(t.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",e.innerHTML+="Build Cost: "+(t.zeroBuildCost?"$0":"POA")+"<br />",e.innerHTML+="<br />"),h()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(t,null,2),e.appendChild(n),e.appendChild(r)}return e},t.prototype.renderTooltip=function(t){var e=t[0].address1;return t.length>1&&(e+=" ( + "+(t.length-1)+" more)"),e},t.prototype.getLegendItems=function(){return[{label:"FTTP",colour:S},{label:"FTTP Upgrade",colour:P},{label:"FTTP Upgrade Soon",colour:M},{label:"HFC",colour:E},{label:"FTTC",colour:F},{label:"FTTN/FTTB",colour:I},{label:"FW",colour:O},{label:"FW Upgrade",colour:D},{label:"Satellite",colour:B},{label:"Unknown",colour:H}]},t}();var R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const V=function(t){function e(){var e=t.call(this)||this;return e.elControlDiv=document.createElement("div"),e.control.setPosition("bottomright"),e.elControlDiv.classList.add("info","legend"),e.elControlDiv.style.backgroundColor="#ffffff",e.elControlDiv.style.opacity="0.8",e.elControlDiv.style.padding="5px",e.elControlDiv.style.borderRadius="5px",e.control.onAdd=function(t){return e.elControlDiv},e}return R(e,t),e.prototype.getState=function(){},e.prototype.updateLegend=function(t){var e="";t.forEach((function(t){e+='<svg height="10" width="10"><circle cx="5" cy="5" r="5" fill="'+t.colour+'" stroke="#000000" stroke-width="1" opacity="1" fill-opacity="0.8" /></svg> '+t.label,t.count&&(e+=" ("+t.count+")"),e+="<br>"})),this.elControlDiv.innerHTML=e},e}(w);n.p,n.p,n.p;var W,N=new p("index.ts"),_=function(){try{return process.argv.includes("development")}catch(t){return!1}}();N.debug("isDevelopment",_),"serviceWorker"in navigator&&!_&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(t){N.info("SW registered: ",t)})).catch((function(t){N.warn("SW registration failed: ",t)}))})),W=function(){var t=new r,e=new L,n=new z,o=new y({mapContainerId:"map",api:t,datastore:e,defaultModeHandler:n}),i=new T;o.addControl("displaymode",i);var a=new V;a.updateLegend(n.getLegendItems()),o.addControl("legend",a),i.on("change",(function(t){"all"===t.state&&o.setModeHandler(n)}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(W,1):document.addEventListener("DOMContentLoaded",W)},36:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 stroke=%27%23000%27 stroke-linecap=%27round%27 stroke-width=%271.6%27 viewBox=%270 0 24 24%27%3E%3Cdefs/%3E%3Cg%3E%3Cpath stroke-opacity=%27.1%27 d=%27M14 8.4l3-5%27/%3E%3Cpath stroke-opacity=%27.2%27 d=%27M15.6 10l5-3%27/%3E%3Cpath stroke-opacity=%27.3%27 d=%27M16.2 12H22%27/%3E%3Cpath stroke-opacity=%27.4%27 d=%27M15.6 14l5 3m-6.5-1.4l2.9 5%27/%3E%3Cpath stroke-opacity=%27.5%27 d=%27M12 16.2V22m-2-6.4l-3 5%27/%3E%3Cpath stroke-opacity=%27.6%27 d=%27M8.4 14l-5 3%27/%3E%3Cpath stroke-opacity=%27.7%27 d=%27M7.8 12H2%27/%3E%3Cpath stroke-opacity=%27.8%27 d=%27M8.4 10l-5-3%27/%3E%3Cpath stroke-opacity=%27.9%27 d=%27M10 8.4l-3-5%27/%3E%3Cpath d=%27M12 7.8V2%27/%3E%3CanimateTransform attributeName=%27transform%27 calcMode=%27discrete%27 dur=%271s%27 repeatCount=%27indefinite%27 type=%27rotate%27 values=%270 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12%27/%3E%3C/g%3E%3C/svg%3E"},585:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Cpath d=%27M12.2 13l3.4 6.6c.6 1.1 2.5-.4 2-1.2l-4-6.2z%27/%3E%3Ccircle cx=%2710.8%27 cy=%278.9%27 r=%273.9%27 fill=%27none%27 stroke=%27%23000%27 stroke-width=%271.5%27/%3E%3C/svg%3E"},539:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M304 48a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48 368a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm208-208a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM96 256a48 48 0 1 0-96 0 48 48 0 0 0 96 0zm13 99a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm294 0a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM109 61a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"/></svg>'},141:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},478:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%28252, 132, 40%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},38:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%2832, 116, 182%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,o,i]=t[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!t;)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{r.b=document.baseURI||self.location.href;var t={143:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[a,s,l]=n,c=0;if(a.some((e=>0!==t[e]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(e&&e(n);c<a.length;c++)i=a[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.nc=void 0;var o=r.O(void 0,[918],(()=>r(611)));o=r.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBbUIxVSxLQUFPcVUsRUFBcUJNLEtBQUssS0FBTUQsRUFBbUIxVSxLQUFLMlUsS0FBS0QsUUNoRHZGaEQsRUFBb0JrRCxRQUFLOUosRUNHekIsSUFBSStKLEVBQXNCbkQsRUFBb0JTLE9BQUVySCxFQUFXLENBQUMsTUFBTSxJQUFPNEcsRUFBb0IsT0FDN0ZtRCxFQUFzQm5ELEVBQW9CUyxFQUFFMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2xpcF9hcGkuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hcmtlcmxheWVyL21hcmtlcmxheWVyLmNsdXN0ZXIuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9uYm5fdGVjaF9tYXAuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xzL2NvbnRyb2wuYWJzdHJhY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xzL2NvbnRyb2xfZGlzcGxheV9tb2RlLmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhc3RvcmUvZGF0YXN0b3JlLm1lbW9yeS5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZXMvbW9kZS5hbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xzL2NvbnRyb2xfbGVnZW5kLmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiaW1wb3J0IElBcGkgZnJvbSBcIi4uL2ludGVyZmFjZXMvYXBpLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBOYm5QbGFjZUFwaVJlc3BvbnNlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCB7IGlzRGVidWdNb2RlIH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXBBcGkgaW1wbGVtZW50cyBJQXBpIHtcclxuXHJcbiAgICBhc3luYyBmZXRjaFBhZ2UoXHJcbiAgICAgICAgYm91bmRzOiBMLkxhdExuZ0JvdW5kcyxcclxuICAgICAgICBwYWdlOiBudW1iZXIgPSAxLFxyXG4gICAgICAgIHByb2NlZWQ6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB0cnVlLFxyXG4gICAgKSA6IFByb21pc2U8TmJuUGxhY2VBcGlSZXNwb25zZT5cclxuICAgIHtcclxuXHJcbiAgICAgICAgY29uc3Qgbm9ydGggPSBib3VuZHMuZ2V0Tm9ydGgoKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIGNvbnN0IGVhc3QgPSBib3VuZHMuZ2V0RWFzdCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3Qgc291dGggPSBib3VuZHMuZ2V0U291dGgoKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIGNvbnN0IHdlc3QgPSBib3VuZHMuZ2V0V2VzdCgpLnRvRml4ZWQoMik7XHJcblxyXG4gICAgICAgIGlmICghcHJvY2VlZCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvY2VlZCBmdW5jdGlvbiByZXR1cm5lZCBmYWxzZS4gU3RvcHBpbmcgZmV0Y2guJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHBhZ2UgPSBNYXRoLm1heCgxLCBOdW1iZXIocGFnZSkpO1xyXG5cclxuICAgICAgICBjb25zdCBwYWdlVXJsID0gYGh0dHBzOi8vYXBpLmxpcC5uZXQuYXUvbmJuLWJ1bGsvbWFwLyR7bm9ydGh9LyR7ZWFzdH0vJHtzb3V0aH0vJHt3ZXN0fT9wYWdlPSR7cGFnZX1gO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBwYWdlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkIHRoaXMgc2Vzc2lvbi5cclxuICAgICAgICAvL2NvbnN0IGNhY2hlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShwYWdlVXJsKTtcclxuICAgICAgICAvL2NvbnN0IGNhY2hlZFRpbWUgPSBjYWNoZSA/IG5ldyBEYXRlKGNhY2hlKSA6IG51bGw7XHJcbiAgICAgICAgLy9pZiAoY2FjaGVkVGltZSAmJiBjYWNoZWRUaW1lLmdldFRpbWUoKSA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMTAwMCAqIDYwICogNjAgKiAyNCkge1xyXG4gICAgICAgIC8vICAgIHRocm93IG5ldyBFcnJvcignUGFnZSBhbHJlYWR5IGxvYWRlZCB0aGlzIHNlc3Npb24uJyk7XHJcbiAgICAgICAgLy99XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGZldGNoKGBodHRwczovL2FwaS5saXAubmV0LmF1L25ibi1idWxrL21hcC8ke25vcnRofS8ke2Vhc3R9LyR7c291dGh9LyR7d2VzdH0/cGFnZT0ke3BhZ2V9YCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxyXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpIGFzIHsgZGF0YTogTmJuUGxhY2VBcGlSZXNwb25zZX07XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHBhcnNlZFJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShwYWdlVXJsLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgSURhdGFzdG9yZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9kYXRhc3RvcmUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBJTWFya2VyTGF5ZXIgZnJvbSBcIi4uL2ludGVyZmFjZXMvbWFya2VybGF5ZXIuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCAnbGVhZmxldC5tYXJrZXJjbHVzdGVyJztcclxuaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvZGlzdC9NYXJrZXJDbHVzdGVyLmNzcyc7XHJcbi8vaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvZGlzdC9NYXJrZXJDbHVzdGVyLkRlZmF1bHQuY3NzJztcclxuXHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuaW1wb3J0IHsgTmJuUGxhY2UsIFBvaW50QW5kTG9jaWRzLCBQb2ludEFuZFBsYWNlcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5cclxuLy8gQ29uc3RhbnQgQ29sb3Vyc1xyXG5jb25zdCBjb2xvdXJGVFRQIFx0XHQ9ICcjMUQ3MDQ0JztcclxuY29uc3QgY29sb3VyRlRUUEF2YWlsICAgPSAnIzc1QUQ2Ric7XHJcbmNvbnN0IGNvbG91ckZUVFBTb29uICAgID0gJyNDOEUzQzUnO1xyXG5jb25zdCBjb2xvdXJIRkMgXHRcdD0gJyNGRkJFMDAnO1xyXG5jb25zdCBjb2xvdXJGVFRDIFx0XHQ9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUQ0F2YWlsICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVE5CIFx0XHQ9ICcjRTMwNzFEJztcclxuY29uc3QgY29sb3VyRlcgXHRcdCAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgY29sb3VyRldBdmFpbCBcdD0gJyMwMjJCRTMnO1xyXG5jb25zdCBjb2xvdXJTYXQgXHQgICAgPSAnIzZCMDJFMyc7XHJcblxyXG5jb25zdCBjb2xvdXJFRV9DQkRfWkJDICA9ICcjMUQ3MDQ0JztcclxuY29uc3QgY29sb3VyRUVfQ0JEX0JDICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IGNvbG91ckVFX1oxMjNfWkJDID0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJFRV9aMTIzX0JDICA9ICcjRTMwNzFEJztcclxuXHJcbmNvbnN0IENPTF9URUNIX0NPTVBMRVRFICAgICAgICAgPSAnIzFENzA0NCc7XHJcbmNvbnN0IENPTF9URUNIX0FWQUlMICAgICAgICAgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IENPTF9URUNIX0JVSUxERklOQUxJU0VEICAgPSAnI0ZGQkUwMCc7XHJcbmNvbnN0IENPTF9URUNIX0RFU0lHTiAgICAgICAgICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IENPTF9URUNIX0NPTU1JVFRFRCAgICAgICAgPSAnI0UzMDcxRCc7XHJcblxyXG5jb25zdCBDT0xfVEVDSF9NRFVfSU5CVUlMRCAgICAgID0gJyMwMjJCRTMnO1xyXG5jb25zdCBDT0xfVEVDSF9NRFVfRUxJR0lCTEUgICAgID0gJyM2QjAyRTMnO1xyXG5cclxuY29uc3QgY29sb3VyVW5rbm93biAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXJMYXllckNsdXN0ZXIgaW1wbGVtZW50cyBJTWFya2VyTGF5ZXIge1xyXG5cclxuICAgIHByaXZhdGUgbWFwOiBMLk1hcDtcclxuICAgIHByaXZhdGUgZGF0YXN0b3JlOiBJRGF0YXN0b3JlO1xyXG4gICAgcHJpdmF0ZSBtb2RlSGFuZGxlcjogSU1vZGU7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXJrZXJzOiBMLk1hcmtlckNsdXN0ZXJHcm91cDtcclxuXHJcbiAgICBwcml2YXRlIHBvaW50czoge1xyXG4gICAgICAgIFtsYXRMbmdTdHJpbmc6IHN0cmluZ106IHtcclxuICAgICAgICAgICAgbGF5ZXI6IEwuQ2lyY2xlTWFya2VyLFxyXG4gICAgICAgICAgICBwb2ludDogUG9pbnRBbmRQbGFjZXMsXHJcbiAgICAgICAgfVxyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1hcDogTC5NYXAsIGRhdGFzdG9yZTogSURhdGFzdG9yZSwgbW9kZUhhbmRsZXI6IElNb2RlKSB7XHJcblxyXG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xyXG4gICAgICAgIHRoaXMuZGF0YXN0b3JlID0gZGF0YXN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gbmV3IEwuTWFya2VyQ2x1c3Rlckdyb3VwKHtcclxuICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogdGhpcy5tYXJrZXJDbHVzdGVyUmFkaXVzLFxyXG4gICAgICAgICAgICBzcGlkZXJmeU9uTWF4Wm9vbTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiAxOCxcclxuICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogdHJ1ZSxcclxuICAgICAgICAgICAgem9vbVRvQm91bmRzT25DbGljazogdHJ1ZSxcclxuICAgICAgICAgICAgcmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHM6IHRydWUsXHJcbiAgICAgICAgICAgIGljb25DcmVhdGVGdW5jdGlvbjogdGhpcy5pY29uQ3JlYXRlRnVuY3Rpb24sXHJcbiAgICAgICAgICAgIGNodW5rZWRMb2FkaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBjaHVua0ludGVydmFsOiAxNTAsXHJcbiAgICAgICAgICAgIGNodW5rRGVsYXk6IDE1MCxcclxuICAgICAgICAgICAgY2h1bmtQcm9ncmVzczogKHByb2Nlc3NlZCwgdG90YWwsIGVsYXBzZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaHVua1Byb2dyZXNzJywgeyBwcm9jZXNzZWQsIHRvdGFsLCBlbGFwc2VkIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlcnMuYWRkVG8odGhpcy5tYXApO1xyXG5cclxuICAgICAgICB0aGlzLm1hcC5vbignem9vbWVuZCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnem9vbWVuZCcsIGV2ZW50LnRhcmdldC5nZXRab29tKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBpY29uQ3JlYXRlRnVuY3Rpb24oY2x1c3RlcjogTC5NYXJrZXJDbHVzdGVyKSA6IEwuRGl2SWNvblxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNvbG9yQXJyYXkgPSBjbHVzdGVyLmdldEFsbENoaWxkTWFya2VycygpLm1hcCgobWFya2VyKSA9PiAobWFya2VyIGFzIGFueSkub3B0aW9ucy5maWxsQ29sb3IpXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9yQ291bnRzOiB7W2NvbG9yOiBzdHJpbmddOiBudW1iZXJ9ID0ge307XHJcblxyXG4gICAgICAgIGNvbG9yQXJyYXkuZm9yRWFjaCgoY29sb3IpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFjb2xvckNvdW50c1tjb2xvcl0pIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yQ291bnRzW2NvbG9yXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JdKys7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9yQXJyYXlTb3J0ZWQgPSBPYmplY3Qua2V5cyhjb2xvckNvdW50cylcclxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGNvbG9yQ291bnRzW2JdIC0gY29sb3JDb3VudHNbYV0pXHJcbiAgICAgICAgO1xyXG5cclxuICAgICAgICBsZXQgYmFja2dyb3VuZCA9ICdiYWNrZ3JvdW5kOiBjb25pYy1ncmFkaWVudCgnXHJcblxyXG4gICAgICAgIGxldCBsYXN0Q29sb3VyUGVyY2VudCA9IDA7XHJcblxyXG4gICAgICAgIGNvbG9yQXJyYXlTb3J0ZWQuZm9yRWFjaCgoY29sb3IsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kICs9IFwiXFxuXCIgKyBjb2xvciArICcgMCUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRoaXNDb2xvdXJQZXJjZW50ID0gKGNvbG9yQ291bnRzW2NvbG9yXSAvIGNvbG9yQXJyYXkubGVuZ3RoICogMTAwKTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZCArPSBcIiwgXFxuXCIgKyBjb2xvciArICcgJyArIChsYXN0Q29sb3VyUGVyY2VudCkgKyAnJSc7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQgKz0gXCIsIFxcblwiICsgY29sb3IgKyAnICcgKyAobGFzdENvbG91clBlcmNlbnQrdGhpc0NvbG91clBlcmNlbnQpICsgJyUnO1xyXG4gICAgICAgICAgICBsYXN0Q29sb3VyUGVyY2VudCArPSB0aGlzQ29sb3VyUGVyY2VudDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja2dyb3VuZCArPSBcIlxcbik7XCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmRvbUlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xyXG5cclxuICAgICAgICByZXR1cm4gTC5kaXZJY29uKHtcclxuICAgICAgICAgICAgaHRtbDogYDxzdHlsZT4jY2x1c3Rlcl8ke3JhbmRvbUlkfTo6YmVmb3JlIHsgJHtiYWNrZ3JvdW5kfSB9PC9zdHlsZT4gPGRpdiBpZD0nY2x1c3Rlcl8ke3JhbmRvbUlkfSc+PHNwYW4+YCArIGNsdXN0ZXIuZ2V0Q2hpbGRDb3VudCgpICsgJzwvc3Bhbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdtYXJrZXItY2x1c3RlcicsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBtYXJrZXJDbHVzdGVyUmFkaXVzKHpvb206IG51bWJlcikge1xyXG4gICAgICAgIHN3aXRjaCh6b29tKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgY2FzZSAxMTpcclxuICAgICAgICAgICAgY2FzZSAxMjpcclxuICAgICAgICAgICAgY2FzZSAxMzogcmV0dXJuIDE1MDtcclxuICAgICAgICAgICAgY2FzZSAxNDogcmV0dXJuIDEwMDtcclxuICAgICAgICAgICAgY2FzZSAxNTpcclxuICAgICAgICAgICAgY2FzZSAxNjpcclxuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldE1vZGVIYW5kbGVyKG1vZGVIYW5kbGVyOiBJTW9kZSkge1xyXG5cclxuICAgICAgICB0aGlzLm1vZGVIYW5kbGVyID0gbW9kZUhhbmRsZXI7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgY29sb3VyIG9mIHRoZSBwb2ludHNcclxuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKS5mb3JFYWNoKCh7bGF5ZXIsIHBvaW50fSkgPT4ge1xyXG4gICAgICAgICAgICBsYXllci5zZXRTdHlsZSh7XHJcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IG1vZGVIYW5kbGVyLnBvaW50Q29sb3VyKHBvaW50KSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxheWVyLnJlZHJhdygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMubWFya2Vycyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hcmtlcnMgJiYgdGhpcy5tYXJrZXJzLmdldExheWVycygpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnMucmVmcmVzaENsdXN0ZXJzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZWZyZXNoTWFya2Vyc0luc2lkZUJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzLCBtRmlsdGVyPzogKHBsYWNlOiBOYm5QbGFjZSkgPT4gYm9vbGVhbikge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZGF0YXN0b3JlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YXN0b3JlIG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1BvaW50cyA9IGF3YWl0IHRoaXMuZGF0YXN0b3JlLmdldEZ1bGxQb2ludHNXaXRoaW5Cb3VuZHMoYm91bmRzKTtcclxuICAgICAgICBcclxuICAgICAgICBuZXdQb2ludHNcclxuICAgICAgICAgICAgLmZvckVhY2gocG9pbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGF0TG5nU3RyaW5nID0gcG9pbnQubGF0bG5nO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBvaW50c1tsYXRMbmdTdHJpbmddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludHNbbGF0TG5nU3RyaW5nXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IHRoaXMucmVuZGVyUG9pbnQocG9pbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1tsYXRMbmdTdHJpbmddLnBvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICBpZiAobUZpbHRlcikge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVtb3ZlTGF5ZXJzOiBMLkxheWVyW10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkUG9pbnRzID0gT2JqZWN0LnZhbHVlcyh0aGlzLnBvaW50cylcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKHtsYXllciwgcG9pbnR9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvd1BvaW50ID0gcG9pbnQucGxhY2VzLmZpbHRlcihtRmlsdGVyKS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvd1BvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dQb2ludDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlbW92ZUxheWVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya2Vycz8ucmVtb3ZlTGF5ZXJzKHJlbW92ZUxheWVycyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycz8uYWRkTGF5ZXJzKGZpbHRlcmVkUG9pbnRzLm1hcChwID0+IHAubGF5ZXIpKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5hZGRMYXllcnMoT2JqZWN0LnZhbHVlcyh0aGlzLnBvaW50cykubWFwKHAgPT4gcC5sYXllcikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZW1vdmVNYXJrZXJzT3V0c2lkZUJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKSB7XHJcbiAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBoZXJlLCBhcyB0aGUgbWFya2VyIGNsdXN0ZXIgcGx1Z2luIGhhbmRsZXMgdGhpcyBmb3IgdXNcclxuICAgICAgICAvL2NvbnN0IHJlbW92ZU1hcmtlcnMgPSB0aGlzLm1hcmtlcnMuZ2V0TGF5ZXJzKClcclxuICAgICAgICAvLyAgICAuZmlsdGVyKChsYXllcjogTC5DaXJjbGVNYXJrZXIpID0+ICFib3VuZHMuY29udGFpbnMobGF5ZXIuZ2V0TGF0TG5nKCkpKVxyXG4gICAgICAgIC8vO1xyXG4gICAgICAgIC8vdGhpcy5tYXJrZXJzLnJlbW92ZUxheWVycyhyZW1vdmVNYXJrZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZW1vdmVBbGxNYXJrZXJzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMubWFya2Vycz8uY2xlYXJMYXllcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlcnMgYSBwb2ludCB1c2luZyB0aGUgY3VycmVudCBtb2RlIGhhbmRsZXIuXHJcbiAgICAgKiBAcGFyYW0gcG9pbnRcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICByZW5kZXJQb2ludChwb2ludDogUG9pbnRBbmRQbGFjZXMpOiBMLkNpcmNsZU1hcmtlciB7XHJcblxyXG4gICAgICAgIGNvbnN0IGNpcmNsZU1hcmtlckxheWVyID0gTC5jaXJjbGVNYXJrZXIoWyBwb2ludC5sYXRpdHVkZSwgcG9pbnQubG9uZ2l0dWRlIF0sIHtcclxuICAgICAgICAgICAgcmFkaXVzOiA1LFxyXG4gICAgICAgICAgICBmaWxsQ29sb3I6IHRoaXMubW9kZUhhbmRsZXI/LnBvaW50Q29sb3VyKHBvaW50KSwgLy90aGlzLmdldFBsYWNlQ29sb3VyKHBsYWNlKSxcclxuICAgICAgICAgICAgY29sb3I6IFwiIzAwMDAwMFwiLFxyXG4gICAgICAgICAgICB3ZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNpcmNsZU1hcmtlckxheWVyLmJpbmRQb3B1cChcclxuICAgICAgICAgICAgKGxheWVyKSA9PiB0aGlzLnJlbmRlclBvcHVwKHBvaW50LnBsYWNlcykgfHwgJycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGF1dG9QYW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFRvb2x0aXAoXHJcbiAgICAgICAgICAgIChsYXllcikgPT4gdGhpcy5tb2RlSGFuZGxlci5yZW5kZXJUb29sdGlwKHBvaW50LnBsYWNlcykgfHwgJycsXHJcbiAgICAgICAgICAgIHt9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gY2lyY2xlTWFya2VyTGF5ZXI7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBvcHVwKHBsYWNlczogTmJuUGxhY2VbXSkgOiBIVE1MRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGlmIChwbGFjZXMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZUhhbmRsZXIucmVuZGVyUG9wdXBDb250ZW50KHBsYWNlc1swXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kb3JQb3B1cE11bHRpKHBsYWNlcyk7XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZW5kb3JQb3B1cE11bHRpKHBsYWNlczogTmJuUGxhY2VbXSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxhY2VDb250YWluZXJzOiBIVE1MRWxlbWVudFtdID0gW107XHJcblxyXG4gICAgICAgIHBsYWNlcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhLmFkZHJlc3MxIDwgYi5hZGRyZXNzMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhLmFkZHJlc3MxID4gYi5hZGRyZXNzMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHBsYWNlIG9mIHBsYWNlcykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlQ29sb3VyID0gdGhpcy5tb2RlSGFuZGxlci5wbGFjZUNvbG91cihwbGFjZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgQWNjb3JkaW9uIEJ1dHRvblxyXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlvbicpO1xyXG4gICAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xyXG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxzdmcgaGVpZ2h0PVwiMTVcIiB3aWR0aD1cIjE1XCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6M3B4XCI+YFxyXG4gICAgICAgICAgICAgICAgKyBgPGNpcmNsZSBjbGFzcz1cImNpcmNsZVwiIGN4PVwiNy41XCIgY3k9XCI5XCIgcj1cIjVcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCIke3BsYWNlQ29sb3VyfVwiIC8+YFxyXG4gICAgICAgICAgICAgICAgKyBgPC9zdmc+YFxyXG4gICAgICAgICAgICAgICAgKyBgPHNwYW4+JHtwbGFjZS5hZGRyZXNzMX08L3NwYW4+YFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQWRkIFBhbmVsXHJcbiAgICAgICAgICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BhbmVsJyk7XHJcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKHRoaXMubW9kZUhhbmRsZXIucmVuZGVyUG9wdXBDb250ZW50KHBsYWNlKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgRXZlbnRzXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50bHlBY3RpdmUgPSBwbGFjZUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gYWxsIGJ1dHRvbnMgYW5kIHBhbmVsc1xyXG4gICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXJzLmZvckVhY2goKHBsYWNlQ29udGFpbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRseUFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdG8gRE9NXHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHBhbmVsKTtcclxuICAgICAgICAgICAgZ3JvdXBEaXYuYXBwZW5kQ2hpbGQocGxhY2VDb250YWluZXIpO1xyXG4gICAgICAgICAgICBwbGFjZUNvbnRhaW5lcnMucHVzaChwbGFjZUNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGdyb3VwRGl2O1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBnZXRQbGFjZUNvbG91cihwbGFjZTogTmJuUGxhY2UpIHtcclxuXHJcbiAgICAgICAgLyoqIEVFIERpc3BsYXkgTW9kZSAqL1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHMuZGlzcGxheU1vZGUuZGlzcGxheU1vZGUgPT0gJ2VlJykge1xyXG5cclxuICAgICAgICAgICAgaWYocGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfQ0JEX1pCQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYocGxhY2UuY2JkcHJpY2luZyAmJiAhcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG91ckVFX0NCRF9CQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoIXBsYWNlLmNiZHByaWNpbmcgJiYgcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG91ckVFX1oxMjNfWkJDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiAhcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG91ckVFX1oxMjNfQkM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJVbmtub3duO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xzLmRpc3BsYXlNb2RlLmRpc3BsYXlNb2RlID09ICd1cGdyYWRlJykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgc3dpdGNoIChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQcmV2aW91cyBUZWNoIERpc2Nvbm5lY3RlZCc6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ05ldyBUZWNoIENvbm5lY3RlZCcgOiByZXR1cm4gQ09MX1RFQ0hfQ09NUExFVEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdJbiBEZXNpZ24nOiByZXR1cm4gQ09MX1RFQ0hfREVTSUdOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQnVpbGQgRmluYWxpc2VkJzogcmV0dXJuIENPTF9URUNIX0JVSUxERklOQUxJU0VEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ29tbWl0dGVkJzogcmV0dXJuIENPTF9URUNIX0NPTU1JVFRFRDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0VsaWdpYmxlIFRvIE9yZGVyJzogcmV0dXJuIENPTF9URUNIX0FWQUlMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggRWxpZ2libGUgVG8gQXBwbHknOiByZXR1cm4gQ09MX1RFQ0hfTURVX0VMSUdJQkxFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnOiByZXR1cm4gQ09MX1RFQ0hfTURVX0lOQlVJTEQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJVbmtub3duO1xyXG4gICAgICAgIH0qL1xyXG4vKlxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBBdmFpbChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBBdmFpbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUFNvb24ocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRQU29vbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEZhcihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc0ZXdG9GVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQ0F2YWlsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRnd0b0ZUVE4ocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFROQjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzU2F0VG9GVyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZXQXZhaWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlICE9ICdOVUxMX05BJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnZXRUZWNoQ29sb3VyKHBsYWNlLnRlY2hUeXBlKTtcclxuICAgIH1cclxuKi9cclxuXHJcbn0iLCJpbXBvcnQgeyBOYm5QbGFjZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XHJcblxyXG4gICAgc3ViKG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBuZXcgTG9nZ2VyKGAke3RoaXMubmFtZX0uJHtuYW1lfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbmFtZTogc3RyaW5nKSB7XHJcbiAgICB9XHJcblxyXG4gICAgZXJyb3IoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHdhcm4oLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVidWcoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5mbyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbyhgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2coLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNodW5rQXJyYXk8VD4oYXJyYXk6IFRbXSwgc2l6ZTogbnVtYmVyKTogVFtdW10ge1xyXG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xyXG4gICAgd2hpbGUgKGFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIHJlc3VsdHMucHVzaChhcnJheS5zcGxpY2UoMCwgc2l6ZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RlYnVnTW9kZSgpIHtcclxuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xyXG4gICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdsb2NhbGhvc3QnKVxyXG4gICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdkZWJ1Zz10cnVlJylcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUUCc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUTihwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZUVE4nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUhGQyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0hGQyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUQihwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZUVEInO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVEMocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZihwbGFjZS50ZWNoVHlwZSA9PSBcIkZUVENcIlxyXG4gICAgICAgICYmIHBsYWNlLnJlYXNvbkNvZGUgJiYgcGxhY2UucmVhc29uQ29kZS5tYXRjaCgvXkZUVEMvKVxyXG4gICAgICAgICYmIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ05ldyBUZWNoIENvbm5lY3RlZCdcclxuICAgICkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZpeGVkV2lyZWxlc3MocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdGaXhlZCBXaXJlbGVzcyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlU2F0ZWxsaXRlKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnU2F0ZWxsaXRlJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQQXZhaWwocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBTb29uKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6XHJcbiAgICAgICAgICAgIGNhc2UgJ0J1aWxkIEZpbmFsaXNlZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYW5uZWQnOlxyXG4gICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IFByZW1pc2VzIEluIEJ1aWxkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQRmFyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbW1pdHRlZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z3dG9GVFROKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09IFwiRlRUTlwiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZUVE5fU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gXCJGV19DVFwiXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnRWxpZ2libGUgVG8gT3JkZXInXHJcbiAgICA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z3dG9GVFRDKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09IFwiRlRUQ1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZUVENfU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gXCJGV19DVFwiXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnRWxpZ2libGUgVG8gT3JkZXInXHJcbiAgICA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1NhdFRvRlcocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJXSVJFTEVTU1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZXX1NBXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG4iLCJcclxuaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xyXG5pbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG5cclxuaW1wb3J0ICdsZWFmbGV0LmxvY2F0ZWNvbnRyb2wvZGlzdC9MLkNvbnRyb2wuTG9jYXRlLm1pbi5jc3MnXHJcbmltcG9ydCAnbGVhZmxldC5sb2NhdGVjb250cm9sJztcclxuXHJcbmltcG9ydCAnbGVhZmxldC1jb250cm9sLWdlb2NvZGVyL2Rpc3QvQ29udHJvbC5HZW9jb2Rlci5jc3MnO1xyXG5pbXBvcnQgeyBHZW9jb2RlciwgZ2VvY29kZXIsIGdlb2NvZGVycyB9IGZyb20gJ2xlYWZsZXQtY29udHJvbC1nZW9jb2Rlcic7XHJcblxyXG5pbXBvcnQgeyBOYm5QbGFjZSwgTmJuUGxhY2VBcGlSZXNwb25zZSwgTmJuVGVjaE1hcE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcclxuLy9pbXBvcnQgTWFya2VyR3JvdXAgZnJvbSAnLi9tYXJrZXJfZ3JvdXAuY2xhc3MudHMuZGV2JztcclxuLy9pbXBvcnQgQ29udHJvbFpvb21XYXJuaW5nIGZyb20gJy4vY29udHJvbF96b29tX3dhcm5pbmcuY2xhc3MnO1xyXG4vL2ltcG9ydCBDb250cm9sRmlsdGVyIGZyb20gJy4vY29udHJvbF9maWx0ZXIuY2xhc3MnO1xyXG5cclxuaW1wb3J0IElBcGkgZnJvbSAnLi9pbnRlcmZhY2VzL2FwaS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgSURhdGFzdG9yZSBmcm9tICcuL2ludGVyZmFjZXMvZGF0YXN0b3JlLmludGVyZmFjZSc7XHJcbmltcG9ydCBJTWFya2VyTGF5ZXIgZnJvbSAnLi9pbnRlcmZhY2VzL21hcmtlcmxheWVyLmludGVyZmFjZSc7XHJcbmltcG9ydCBNYXJrZXJMYXllckNsdXN0ZXIgZnJvbSAnLi9tYXJrZXJsYXllci9tYXJrZXJsYXllci5jbHVzdGVyLmNsYXNzJztcclxuaW1wb3J0IElDb250cm9sIGZyb20gJy4vaW50ZXJmYWNlcy9jb250cm9sLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IGNodW5rQXJyYXksIGlzRGVidWdNb2RlIH0gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCBJTW9kZSBmcm9tICcuL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2UnO1xyXG5cclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuZEJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKTogTC5MYXRMbmdCb3VuZHMge1xyXG4gICAgY29uc3Qgbm9ydGggPSBNYXRoLmNlaWwoYm91bmRzLmdldE5vcnRoKCkgKiA1MCkgLyA1MDtcclxuICAgIGNvbnN0IHdlc3QgPSBNYXRoLmZsb29yKGJvdW5kcy5nZXRXZXN0KCkgKiAyNSkgLyAyNTtcclxuICAgIGNvbnN0IHNvdXRoID0gTWF0aC5mbG9vcihib3VuZHMuZ2V0U291dGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgY29uc3QgZWFzdCA9IE1hdGguY2VpbChib3VuZHMuZ2V0RWFzdCgpICogMjUpIC8gMjU7XHJcbiAgICByZXR1cm4gTC5sYXRMbmdCb3VuZHMoW3NvdXRoLCB3ZXN0XSwgW25vcnRoLCBlYXN0XSk7XHJcbn1cclxuXHJcbmNvbnN0IE1BWF9CT1hFU19JTl9WSUVXID0gNTAwO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmJuVGVjaE1hcCB7XHJcblxyXG4gICAgcHJpdmF0ZSBsb2dnZXIgPSBuZXcgTG9nZ2VyKCdOYm5UZWNoTWFwJyk7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfT1BUSU9OUzogUGFydGlhbDxOYm5UZWNoTWFwT3B0aW9ucz4gPSB7XHJcbiAgICAgICAgbWFwQ29udGFpbmVySWQ6ICdtYXAnLFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHttYXB9IC0gTGVhZmxldCBtYXAgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcDogTC5NYXA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcFRpbGVMYXllcn0gLSBMZWFmbGV0IG1hcCB0aWxlIGxheWVyLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcFRpbGVMYXllcjogTC5UaWxlTGF5ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge2FwaX0gLSBBUEkgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFwaTogSUFwaTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBtYXBMb2NhdGU6IEwuQ29udHJvbC5Mb2NhdGU7XHJcbiAgICBwcml2YXRlIG1hcFNlYXJjaDogR2VvY29kZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge2RhdGFzdG9yZX0gLSBEYXRhc3RvcmUgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGRhdGFzdG9yZTogSURhdGFzdG9yZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFya2VyTGF5ZXJ9IC0gTGF5ZXIgdG8gaG9sZCBtYXJrZXJzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya2VyTGF5ZXI6IElNYXJrZXJMYXllcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFya2VyRmlsdGVyfSAtIEZ1bmN0aW9uIHRvIGZpbHRlciBtYXJrZXJzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya2VyRmlsdGVyOiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuID0gKHBsYWNlOiBOYm5QbGFjZSkgPT4gdHJ1ZTtcclxuXHJcbiAgICBwcml2YXRlIG1vZGVIYW5kbGVyOiBJTW9kZTtcclxuXHJcbiAgICAvLyBTdG9yZXMgbWFwIGNvbnRyb2xzXHJcbiAgICAvKmNvbnRyb2xzOiB7W2tleTogc3RyaW5nXTogYW55fSA9IHtcclxuICAgICAgICB6b29tV2FybmluZzogbnVsbCxcclxuICAgICAgICBsZWdlbmQ6IG51bGwsXHJcbiAgICAgICAgZGlzcGxheU1vZGU6IG51bGwsXHJcbiAgICAgICAgZmlsdGVyOiBudWxsLFxyXG4gICAgfSovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTmJuVGVjaE1hcE9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IHsgLi4uTmJuVGVjaE1hcC5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcclxuXHJcbiAgICAgICAgdGhpcy5hcGkgPSBvcHRpb25zLmFwaTtcclxuICAgICAgICB0aGlzLmRhdGFzdG9yZSA9IG9wdGlvbnMuZGF0YXN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBvcHRpb25zLmRlZmF1bHRNb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtYXBcclxuICAgICAgICB0aGlzLm1hcCA9IEwubWFwKG9wdGlvbnMubWFwQ29udGFpbmVySWQsIHsgcHJlZmVyQ2FudmFzOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIG1hcmtlciBsYXllclxyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIgPSBuZXcgTWFya2VyTGF5ZXJDbHVzdGVyKFxyXG4gICAgICAgICAgICB0aGlzLm1hcCwgdGhpcy5kYXRhc3RvcmUsIHRoaXMubW9kZUhhbmRsZXJcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vIFNldCB1cCB0aGUgT1NNIGxheWVyXHJcbiAgICAgICAgdGhpcy5tYXBUaWxlTGF5ZXIgPSBMLnRpbGVMYXllcignaHR0cHM6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL3Jhc3RlcnRpbGVzL3ZveWFnZXIve3p9L3t4fS97eX17cn0ucG5nJywge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb25zXCI+Q0FSVE88L2E+JyxcclxuICAgICAgICAgICAgc3ViZG9tYWluczogJ2FiY2QnLFxyXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZSxcclxuICAgICAgICAgICAgbWluWm9vbTogNSxcclxuICAgICAgICAgICAgbWF4Wm9vbTogMjBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBsYXllciB0byB0aGUgbWFwXHJcbiAgICAgICAgdGhpcy5tYXBUaWxlTGF5ZXIuYWRkVG8odGhpcy5tYXApO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh7IEwsIEdlb2NvZGVyLCBnZW9jb2RlciB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGdlb2NvZGVyIGNvbnRyb2xcclxuICAgICAgICBjb25zdCBtYXBHZW9jb2RlciA9IG5ldyBnZW9jb2RlcnMuQXJjR2lzKHtcclxuICAgICAgICAgICAgYXBpS2V5OiAnQUFQS2E5N2I4YTUzNzRkYjRmYTliMGZkZDhlNTUzNjFjYmE0WjlmRXV3M2NrQU9JRkhLMUNQX1ZielR2M09UZVV6M2dnckZBelZQemp5bjNRN2JRRnpid2tETXZEeGFKLUp6RycsXHJcbiAgICAgICAgICAgIGdlb2NvZGluZ1F1ZXJ5UGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogJ0FVJyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnQWRkcmVzcyxMYXRMb25nLE5laWdoYm9yaG9vZCxEaXN0cmljdCxDaXR5LE1ldHJvIEFyZWEnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBTZWFyY2ggPSAoTC5Db250cm9sIGFzIHVua25vd24gYXMgeyBnZW9jb2RlcjogdHlwZW9mIGdlb2NvZGVyIH0pLmdlb2NvZGVyKHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcclxuICAgICAgICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICAgICAgICBkZWZhdWx0TWFya0dlb2NvZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZW9jb2RlcjogbWFwR2VvY29kZXIsXHJcbiAgICAgICAgICAgIHN1Z2dlc3RNaW5MZW5ndGg6IDUsXHJcbiAgICAgICAgICAgIHN1Z2dlc3RUaW1lb3V0OiAxMDAwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcFNlYXJjaC5vbignbWFya2dlb2NvZGUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYmJveCA9IGV2ZW50Lmdlb2NvZGUuYmJveDtcclxuICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKGJib3gsIHtcclxuICAgICAgICAgICAgICAgICdtYXhab29tJzogMTYsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcFNlYXJjaC5hZGRUbyh0aGlzLm1hcCk7XHJcblxyXG5cclxuICAgICAgICAvLyBBZGQgbG9jYXRlIGNvbnRyb2xcclxuICAgICAgICB0aGlzLm1hcExvY2F0ZSA9IEwuY29udHJvbC5sb2NhdGUoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxyXG4gICAgICAgICAgICBsb2NhdGVPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBtYXhab29tOiAxNlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRWaWV3OiAndW50aWxQYW4nLFxyXG4gICAgICAgICAgICBrZWVwQ3VycmVudFpvb21MZXZlbDogdHJ1ZSxcclxuICAgICAgICAgICAgaW5pdGlhbFpvb21MZXZlbDogMTcsXHJcbiAgICAgICAgICAgIGNhY2hlTG9jYXRpb246IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBMb2NhdGUuYWRkVG8odGhpcy5tYXApO1xyXG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGVhY3RpdmF0ZScsICgpID0+IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dlb2xvY2F0ZScsICcxJyk7IH0pO1xyXG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGVkZWFjdGl2YXRlJywgKCkgPT4geyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2VvbG9jYXRlJyk7IH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldEluaXRpYWxNYXBWaWV3KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc3RvcmUgbWFwIHBvc2l0aW9uIHdoZW4gbW92ZWQgb3Igem9vbWVkXHJcbiAgICAgICAgdGhpcy5tYXAub24oJ21vdmVlbmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RhcnRwb3MnLCBKU09OLnN0cmluZ2lmeSh7IGxhdDogY2VudGVyLmxhdCwgbG5nOiBjZW50ZXIubG5nLCB6b29tIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5wdXNoQnJvd3Nlckhpc3RvcnkoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXBHZW9jb2Rlci5vcHRpb25zLmdlb2NvZGluZ1F1ZXJ5UGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICBtYXBHZW9jb2Rlci5vcHRpb25zLmdlb2NvZGluZ1F1ZXJ5UGFyYW1zLmxvY2F0aW9uID0gYCR7Y2VudGVyLmxuZ30sJHtjZW50ZXIubGF0fWA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5mZXRjaERhdGFGb3JDdXJyZW50VmlldygpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhdCA9IHVybFBhcmFtcy5nZXQoJ2xhdCcpO1xyXG4gICAgICAgICAgICBjb25zdCBsbmcgPSB1cmxQYXJhbXMuZ2V0KCdsbmcnKTtcclxuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHVybFBhcmFtcy5nZXQoJ3pvb20nKTtcclxuICAgICAgICAgICAgaWYgKGxhdCAmJiBsbmcgJiYgem9vbSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhbIE51bWJlcihsYXQpLCBOdW1iZXIobG5nKSBdLCBwYXJzZUludCh6b29tKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHVzaEJyb3dzZXJIaXN0b3J5KCkge1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgVVJMIHdpdGggbGF0LGxuZyx6b29tXHJcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMubWFwLmdldFpvb20oKTtcclxuXHJcbiAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICB1cmxQYXJhbXMuc2V0KCdsYXQnLCBjZW50ZXIubGF0LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHVybFBhcmFtcy5zZXQoJ2xuZycsIGNlbnRlci5sbmcudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgdXJsUGFyYW1zLnNldCgnem9vbScsIHpvb20udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc3QgbmV3VXJsID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgJz8nICsgdXJsUGFyYW1zLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIG5ld1VybCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTdGFydFBvcygpIDogeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIsIHpvb206IG51bWJlciB9IHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRQb3NTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3RhcnRwb3MnKTtcclxuICAgICAgICBpZiAoIXN0YXJ0UG9zU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdGFydFBvc1N0cmluZykgYXMgeyBsYXQ6IG51bWJlciwgbG5nOiBudW1iZXIsIHpvb206IG51bWJlciB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXRpYWxWaWV3U2V0ID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHNldEluaXRpYWxNYXBWaWV3KCkge1xyXG5cclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ3NldEluaXRpYWxNYXBWaWV3Jyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxWaWV3U2V0KSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdJbml0aWFsIG1hcCB2aWV3IGFscmVhZHkgc2V0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGxhdCxsbmcsem9vbSBhcmUgaW4gVVJMLCBzZXQgbWFwIHRvIHRoYXRcclxuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIGNvbnN0IGxhdCA9IHVybFBhcmFtcy5nZXQoJ2xhdCcpO1xyXG4gICAgICAgIGNvbnN0IGxuZyA9IHVybFBhcmFtcy5nZXQoJ2xuZycpO1xyXG4gICAgICAgIGNvbnN0IHpvb20gPSB1cmxQYXJhbXMuZ2V0KCd6b29tJyk7XHJcbiAgICAgICAgaWYgKGxhdCAmJiBsbmcgJiYgem9vbSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgTnVtYmVyKGxhdCksIE51bWJlcihsbmcpIF0sIHBhcnNlSW50KHpvb20pKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGdlb0ZsYWcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2VvbG9jYXRlJyk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRQb3MgPSB0aGlzLmdldFN0YXJ0UG9zKCk7XHJcblxyXG4gICAgICAgIC8vIElmIGxvY2FsIHN0b3JhZ2UgY29udGFpbnMgbGFzdCBtYXAgcG9zaXRpb24sIHNldCBtYXAgdG8gdGhhdFxyXG4gICAgICAgIGlmIChzdGFydFBvcykge1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgc3RhcnRQb3MubGF0LCBzdGFydFBvcy5sbmcgXSwgc3RhcnRQb3Muem9vbSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IHRvIEF1c3RyYWxpYSBpZiBubyBzdGFydCBwb3NpdGlvblxyXG4gICAgICAgIGlmICghc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhbIC0yNi4xNzcyMjg4LCAxMzMuNDE3MDExOSBdLCAxMCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbG9jYWwgc3RvcmFnZSBjb250YWlucyBnZW9sb2NhdGUgZmxhZ1xyXG4gICAgICAgIC8vIG9yLCBpZiBubyBzdGFydCBwb3NpdGlvbiwgc3RhcnQgZ2VvbG9jYXRpb25cclxuICAgICAgICBpZiAoZ2VvRmxhZyB8fCAhc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXBMb2NhdGUuc3RhcnQoKTtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0Wm9vbSgxNyk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxWaWV3U2V0KSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignQ291bGQgbm90IHNldCBpbml0aWFsIG1hcCB2aWV3Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRCb3hlc0luQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpOiBMLkxhdExuZ0JvdW5kc1tdIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gU3RhcnRpbmcgcG9pbnQgc2hvdWxkIGJlIHRoZSBub3J0aC13ZXN0IGNvcm5lciBvZiB0aGUgbWFwIHJvdW5kZWQgYmV5b25kIHRoZSBtYXAgYm91bmRzXHJcbiAgICAgICAgLy8gTGF0aXR1ZGUgaXMgcm91bmRlZCB0byAyIGRlY2ltYWwgcGxhY2VzIG11bHRpcGxlIG9mIDAuMDJcclxuICAgICAgICAvLyBMb25naXR1ZGUgaXMgcm91bmRlZCB0byAyIGRlY2ltYWwgcGxhY2VzIG11bHRpcGxlIG9mIDAuMDRcclxuICAgICAgICBjb25zdCBub3J0aG1vc3QgPSBNYXRoLmNlaWwoYm91bmRzLmdldE5vcnRoKCkgKiA1MCkgLyA1MDtcclxuICAgICAgICBjb25zdCB3ZXN0bW1vc3QgPSBNYXRoLmZsb29yKGJvdW5kcy5nZXRXZXN0KCkgKiAyNSkgLyAyNTtcclxuXHJcbiAgICAgICAgLy8gc3BsaXQgbWFwIGludG8gYm94ZXMgc3RhcnRpbmcgZnJvbSBub3J0aC13ZXN0IGNvcm5lclxyXG4gICAgICAgIC8vIGVhY2ggYm94IHNob3VsZCBiZSAwLjAyIGRlZ3JlZXMgbGF0aXR1ZGUgYnkgMC4wNCBkZWdyZWVzIGxvbmdpdHVkZVxyXG4gICAgICAgIGNvbnN0IGJveGVzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgbGF0aXR1ZGUgPSBub3J0aG1vc3Q7IGxhdGl0dWRlID4gYm91bmRzLmdldFNvdXRoKCk7IGxhdGl0dWRlIC09IDAuMDIpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgbG9uZ2l0dWRlID0gd2VzdG1tb3N0OyBsb25naXR1ZGUgPCBib3VuZHMuZ2V0RWFzdCgpOyBsb25naXR1ZGUgKz0gMC4wNCkge1xyXG4gICAgICAgICAgICAgICAgYm94ZXMucHVzaChbbGF0aXR1ZGUsIGxvbmdpdHVkZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNYXAgZWFjaCBib3ggaW50byBhIGJvdW5kcyBvYmplY3RcclxuICAgICAgICBjb25zdCBib3hCb3VuZHMgPSBib3hlcy5tYXAoYm94ID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ydGggPSBib3hbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHdlc3QgPSBib3hbMV07XHJcbiAgICAgICAgICAgIGNvbnN0IHNvdXRoID0gbm9ydGggLSAwLjAyO1xyXG4gICAgICAgICAgICBjb25zdCBlYXN0ID0gd2VzdCArIDAuMDQ7XHJcbiAgICAgICAgICAgIHJldHVybiBMLmxhdExuZ0JvdW5kcyhbc291dGgsIHdlc3RdLCBbbm9ydGgsIGVhc3RdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGJveEJvdW5kcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGZXRjaCBib3hlcyB0aGF0IGFyZSB2aXNpYmxlIG9uIHRoZSBtYXBcclxuICAgICAqL1xyXG4gICAgZ2V0Q3VycmVudFZpZXdCb3hlcygpOiBMLkxhdExuZ0JvdW5kc1tdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm94ZXNJbkJvdW5kcyh0aGlzLm1hcC5nZXRCb3VuZHMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlIG1hcmtlcnMgdGhhdCBhcmUgb3V0c2lkZSB0aGUgbWFwIGJvdW5kc1xyXG4gICAgICovXHJcbiAgICBoaWRlTWFya2Vyc091dHNpZGVDdXJyZW50VmlldygpIHtcclxuICAgICAgICBjb25zdCBtYXBCb3VuZHMgPSB0aGlzLm1hcC5nZXRCb3VuZHMoKS5wYWQoMC41KTtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyLnJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzKG1hcEJvdW5kcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEaXNwbGF5IG1hcmtlcnMgdGhhdCBhcmUgaW5zaWRlIHRoZSBtYXAgYm91bmRzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyhhdHRlbXB0OiBudW1iZXIgPSAxKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGFzdG9yZS5pc1JlYWR5KCkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoYXR0ZW1wdCA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZ2V0IGRhdGFzdG9yZSByZWFkeS4gR2l2aW5nIHVwLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RhdGFzdG9yZSBpcyBub3QgcmVhZHkuIERlbGF5aW5nIGRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpJyk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoYXR0ZW1wdCsxKSwgMTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdEaXNwbGF5aW5nIG1hcmtlcnMgaW4gY3VycmVudCB2aWV3Jyk7XHJcbiAgICAgICAgY29uc3QgbWFwQm91bmRzID0gcm91bmRCb3VuZHModGhpcy5tYXAuZ2V0Qm91bmRzKCkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBmcm9tIERhdGFzdG9yZScsIG1hcEJvdW5kcyk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG9pbnRzRnJvbVN0b3JlKG1hcEJvdW5kcyk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB6b29tSW5XYXJuaW5nQ29udHJvbD86IEwuQ29udHJvbDtcclxuXHJcbiAgICBzaG93Wm9vbUluV2FybmluZygpIHtcclxuICAgICAgICBpZighdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbCkge1xyXG4gICAgICAgICAgICB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sID0gbmV3IEwuQ29udHJvbCh7IHBvc2l0aW9uOiAndG9wcmlnaHQnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sLm9uQWRkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2luZm8gbGVnZW5kJyk7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gJzxoNCBzdHlsZT1cIm1hcmdpbjowXCI+QXJlYSBUb28gQmlnITwvaDQ+JztcclxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgKz0gJzxwIHN0eWxlPVwibWFyZ2luOjBcIj5Mb2NhdGlvbiBsb2FkaW5nIGlzIHBhdXNlZCB1bnRpbCB5b3Ugem9vbSBpbi48L3A+JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmOTgwMCc7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xyXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMTBweCAyMHB4JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjZmZmZmZmJztcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgem9vbUluV2FybmluZ0NvbnRyb2wgPSB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5tYXAuYWRkQ29udHJvbCh6b29tSW5XYXJuaW5nQ29udHJvbCksIDEwMDApO1xyXG4gICAgfVxyXG4gICAgaGlkZVpvb21Jbldhcm5pbmcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuem9vbUluV2FybmluZ0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAucmVtb3ZlQ29udHJvbCh0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGZXRjaCBkYXRhIGZvciBjdXJyZW50IG1hcCB2aWV3XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCkge1xyXG5cclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ2ZldGNoRGF0YUZvckN1cnJlbnRWaWV3Jyk7XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXcoKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tYXAuZ2V0Wm9vbSgpIDwgMTEpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1pvb20gbGV2ZWwgdG9vIGxvdy4gU2tpcHBpbmcuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1pvb21Jbldhcm5pbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IGJveGVzIHRoYXQgYXJlIGN1cnJlbnRseSB2aXNpYmxlXHJcbiAgICAgICAgY29uc3QgYm94ZXMgPSB0aGlzLmdldEN1cnJlbnRWaWV3Qm94ZXMoKTtcclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0N1cnJlbnQgdmlldyBib3hlcycsIGJveGVzKTtcclxuXHJcbiAgICAgICAgLy8gRG9uJ3QgZmV0Y2ggYm94ZXMgaWYgbW9yZSB0aGFuIDUwXHJcbiAgICAgICAgaWYgKGJveGVzLmxlbmd0aCA+IE1BWF9CT1hFU19JTl9WSUVXKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdUb28gbWFueSBib3hlcyB0byBmZXRjaC4gU2tpcHBpbmcuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1pvb21Jbldhcm5pbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdXBkYXRlS2V5ID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCkudG9TdHJpbmcoKSArIHRoaXMubWFwLmdldFpvb20oKTtcclxuICAgICAgICBjb25zdCBwcm9ncmVzc0l0ZW0gPSB0aGlzLmNyZWF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXMubGVuZ3RoLCAnRmV0Y2hpbmcgYm94ZXMuLi4nKTtcclxuXHJcbiAgICAgICAgdGhpcy5oaWRlWm9vbUluV2FybmluZygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENodW5rIGJveGVzIGludG8gZ3JvdXBzIG9mIDEwXHJcbiAgICAgICAgY29uc3QgYm94Q2h1bmtzID0gY2h1bmtBcnJheShib3hlcywgMTApO1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQm94IGNodW5rcycsIGJveENodW5rcy5sZW5ndGgsIGJveENodW5rcyk7XHJcblxyXG4gICAgICAgIGxldCBib3hlc1Byb2Nlc3NlZCA9IDA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm94Q2h1bmtzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXAuZ2V0Q2VudGVyKCkudG9TdHJpbmcoKSArIHRoaXMubWFwLmdldFpvb20oKSAhPSB1cGRhdGVLZXkpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnTWFwIG1vdmVkLiBDYW5jZWxsaW5nIGZldGNoLicpO1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NJdGVtLnRleHQgPSAnTWFwIG1vdmVkLiBDYW5jZWxsaW5nIGZldGNoLic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXNQcm9jZXNzZWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmZXRjaFByb21pc2VzID0gYm94Q2h1bmtzW2ldLm1hcChhc3luYyAoYm94LCBpMikgPT4ge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaERhdGEoYm94KTtcclxuICAgICAgICAgICAgICAgIGJveGVzUHJvY2Vzc2VkKys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXNQcm9jZXNzZWQsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0ZldGNoIHByb21pc2VzJywgZmV0Y2hQcm9taXNlcy5sZW5ndGgsIGZldGNoUHJvbWlzZXMpO1xyXG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChmZXRjaFByb21pc2VzKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoUG9pbnRzRnJvbVN0b3JlKHRoaXMubWFwLmdldEJvdW5kcygpLnBhZCgwLjUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3ModXBkYXRlS2V5LCBib3hlc1Byb2Nlc3NlZCwgdHJ1ZSk7XHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdBbGwgYm94ZXMgZmV0Y2hlZCcpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByb2dyZXNzQ29udHJvbCA9IG5ldyBMLkNvbnRyb2woeyBwb3NpdGlvbjogJ2JvdHRvbWxlZnQnIH0pO1xyXG4gICAgcHJpdmF0ZSBwcm9ncmVzc0l0ZW1zOiB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXToge1xyXG4gICAgICAgICAgICBzdGFydGVkOiBEYXRlLFxyXG4gICAgICAgICAgICBmaW5pc2hlZD86IERhdGUsXHJcbiAgICAgICAgICAgIHRleHQ6IHN0cmluZyxcclxuICAgICAgICAgICAgY29tcGxldGU6IGJvb2xlYW4sXHJcbiAgICAgICAgICAgIHByb2dyZXNzOiBudW1iZXIsXHJcbiAgICAgICAgICAgIHRvdGFsOiBudW1iZXIsXHJcbiAgICAgICAgfVxyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlUHJvZ3Jlc3Moa2V5OiBzdHJpbmcsIHRvdGFsOiBudW1iZXIsIHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgaXRlbVxyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldID0ge1xyXG4gICAgICAgICAgICBzdGFydGVkOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBmaW5pc2hlZDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBjb21wbGV0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHByb2dyZXNzOiAwLFxyXG4gICAgICAgICAgICB0b3RhbCwgdGV4dFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVQcm9ncmVzcyhrZXk6IHN0cmluZywgcHJvZ3Jlc3M6IG51bWJlciwgY29tcGxldGU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAoIXRoaXMucHJvZ3Jlc3NJdGVtc1trZXldKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvZ3Jlc3MgaXRlbSB3aXRoIGtleSAke2tleX0gZG9lcyBub3QgZXhpc3RgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0uZmluaXNoZWQgPSBjb21wbGV0ZSA/IG5ldyBEYXRlKCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0uY29tcGxldGUgPSBjb21wbGV0ZTtcclxuICAgICAgICB0aGlzLnByb2dyZXNzSXRlbXNba2V5XS5wcm9ncmVzcyA9IHByb2dyZXNzO1xyXG4gICAgICAgIHRoaXMucmVuZGVyUHJvZ3Jlc3MoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcmVuZGVyUHJvZ3Jlc3MoKSB7XHJcblxyXG4gICAgICAgIC8vIERlbGV0ZSBpdGVtcyBmaW5pc2hlZCBtb3JlIHRoYW4gNSBzZWNvbmRzIGFnb1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMucHJvZ3Jlc3NJdGVtcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjb25zdCBmaW5pc2hlZCA9IHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLmZpbmlzaGVkO1xyXG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgobm93LmdldFRpbWUoKSAtIGZpbmlzaGVkLmdldFRpbWUoKSkgPiA1MDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBubyBpdGVtcywgaGlkZSBwcm9ncmVzc1xyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnByb2dyZXNzSXRlbXMpLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbmRlciBwcm9ncmVzc1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDb250cm9sLm9uQWRkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnaW5mbyBsZWdlbmQnKTtcclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9ICc8aDQgc3R5bGU9XCJtYXJnaW46MFwiPkxvYWRpbmcuLi48L2g0Pic7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gT2JqZWN0LnZhbHVlcyh0aGlzLnByb2dyZXNzSXRlbXMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAvLyBza2lwIGl0ZW0gaWYgZmluaXNoZWQgbW9yZSB0aGFuIDEwIHNlY29uZHMgYWdvXHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5maW5pc2hlZCAmJiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBpdGVtLmZpbmlzaGVkLmdldFRpbWUoKSA+IDEwMDAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBpdGVtLnByb2dyZXNzIC8gaXRlbS50b3RhbCAqIDEwMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzVGV4dCA9IGl0ZW0uY29tcGxldGUgPyAnQ29tcGxldGUnIDogYCR7aXRlbS5wcm9ncmVzc30gb2YgJHtpdGVtLnRvdGFsfWA7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MICs9IGA8cCBzdHlsZT1cIm1hcmdpbjowXCI+JHtpdGVtLnRleHR9ICgke3Byb2dyZXNzVGV4dH0pPC9wPmA7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MICs9IGA8cHJvZ3Jlc3MgdmFsdWU9XCIke3Byb2dyZXNzfVwiIG1heD1cIjEwMFwiPjwvcHJvZ3Jlc3M+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMwMDAwMDAnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucGFkZGluZyA9ICcxMHB4IDIwcHgnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuY29sb3IgPSAnI2ZmZmZmZic7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgcHJvZ3Jlc3MgdG8gbWFwXHJcbiAgICAgICAgdGhpcy5tYXAuYWRkQ29udHJvbCh0aGlzLnByb2dyZXNzQ29udHJvbCk7XHJcblxyXG4gICAgICAgIC8vIEhpZGUgcHJvZ3Jlc3MgYWZ0ZXIgNSBzZWNvbmRzIGlmIGFsbCBjb21wbGV0ZVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyh0aGlzLnByb2dyZXNzSXRlbXMpLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5jb21wbGV0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDAwKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgaGlkZVByb2dyZXNzKCkge1xyXG4gICAgICAgIHRoaXMubWFwLnJlbW92ZUNvbnRyb2wodGhpcy5wcm9ncmVzc0NvbnRyb2wpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZldGNoRGF0YShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLCBwYWdlOiBudW1iZXIgPSAxXHJcbiAgICApIDogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG5cclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgQm94JywgYm91bmRzLmdldENlbnRlcigpLnRvU3RyaW5nKCksIHBhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmFwaS5mZXRjaFBhZ2UoYm91bmRzLCBwYWdlLCAoKSA9PiB0aGlzLm1hcC5nZXRCb3VuZHMoKS5pbnRlcnNlY3RzKGJvdW5kcykpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzRmV0Y2hSZXN1bHQoZGF0YSwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLm5leHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZldGNoRGF0YShib3VuZHMsIGRhdGEubmV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PSAnUGFnZSBhbHJlYWR5IGxvYWRlZCB0aGlzIHNlc3Npb24uJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwcm9jZXNzRmV0Y2hSZXN1bHQocmVzdWx0OiBOYm5QbGFjZUFwaVJlc3BvbnNlLCBib3VuZHM6IEwuTGF0TG5nQm91bmRzKSB7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ1Byb2Nlc3NpbmcgcGFnZScsIChyZXN1bHQubmV4dCB8fCAyKS0xLCAnb2YnLCByZXN1bHQudG90YWwsICd3aXRoJywgcmVzdWx0LnBsYWNlcy5sZW5ndGgsICdwbGFjZXMuJyk7XHJcblxyXG4gICAgICAgIC8vIElmIG1vcmUgcGFnZXMsIHN0YXJ0IGZldGNoaW5nIG5leHQgcGFnZVxyXG4gICAgICAgIC8qaWYgKHJlc3VsdC5uZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhKGJvdW5kcywgcmVzdWx0Lm5leHQpO1xyXG4gICAgICAgIH0qL1xyXG5cclxuICAgICAgICAvLyBQcm9jZXNzIHBsYWNlc1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdG9yaW5nIHBsYWNlcy4nKVxyXG4gICAgICAgIGNvbnN0IHByb2Nlc3NQcm9taXNlID0gdGhpcy5kYXRhc3RvcmUuc3RvcmVQbGFjZXMocmVzdWx0LnBsYWNlcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dhaXRpbmcgZm9yIHBsYWNlIHN0b3JpbmcgdG8gZmluaXNoJyk7XHJcbiAgICAgICAgYXdhaXQgcHJvY2Vzc1Byb21pc2U7XHJcblxyXG4gICAgICAgIC8vIFJlZnJlc2ggcG9pbnRzIGluc2lkZSBib3VuZHNcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdSZWZyZXNoaW5nIHBvaW50cyBpbnNpZGUgYm91bmRzLicpO1xyXG4gICAgICAgIC8vYXdhaXQgdGhpcy5yZWZyZXNoUG9pbnRzRnJvbVN0b3JlKGJvdW5kcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlZnJlc2hQb2ludHNGcm9tU3RvcmUoYm91bmRzPzogTC5MYXRMbmdCb3VuZHMpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcmtlckxheWVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWFya2VyIExheWVyIG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGJvdW5kcyBhcmUgbm90IHBhc3NlZCwgdXNlIG1hcCBib3VuZHNcclxuICAgICAgICBpZiAoIWJvdW5kcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQm91bmRzIG5vdCBwYXNzZWQuIFVzaW5nIG1hcCBib3VuZHMuJyk7XHJcbiAgICAgICAgICAgIGJvdW5kcyA9IHRoaXMubWFwLmdldEJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm91bmRzID0gcm91bmRCb3VuZHMoYm91bmRzKTtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyLnJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKGJvdW5kcywgdGhpcy5tYXJrZXJGaWx0ZXIpO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIC8vIEdldCB0aGUgYm94ZXNcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVmcmVzaGluZyBwb2ludHMgd2l0aGluIGJvdW5kcycsIGJvdW5kcy50b0JCb3hTdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc3QgcG9pbnRzID0gYXdhaXQgdGhpcy5kYXRhc3RvcmUuZ2V0UG9pbnRzV2l0aGluQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIGFkZCBwb2ludHMgdG8gbWFwIHRoYXQgZG9uJ3QgYWxyZWFkeSBleGlzdCBpbiBsYXllclxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFya2VyID0gTC5jaXJjbGVNYXJrZXIoW3BvaW50LmxhdGl0dWRlLCBwb2ludC5sb25naXR1ZGVdLCB7XHJcbiAgICAgICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgICAgICAvL2ZpbGxDb2xvcjogdGhpcy5nZXRQbGFjZUNvbG91cihwbGFjZSksXHJcbiAgICAgICAgICAgICAgICAvL2NvbG9yOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBwb3B1cFxyXG4gICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKHBvaW50LmxvY2lkcy5qb2luKCc8YnIgLz4nKSk7XHJcbiAgICAgICAgICAgIG1hcmtlci5vbigncG9wdXBvcGVuJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBvcHVwQ29udGVudChwb2ludClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb250ZW50ID0+IGV2ZW50LnBvcHVwLnNldENvbnRlbnQoY29udGVudCkpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJMYXllci5hZGRMYXllcihtYXJrZXIpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb250cm9sczoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IElDb250cm9sO1xyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIGFkZENvbnRyb2woa2V5OiBzdHJpbmcsIGNvbnRyb2w6IElDb250cm9sKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHNba2V5XSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRyb2wgd2l0aCBrZXkgJHtrZXl9IGFscmVhZHkgZXhpc3RzYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzW2tleV0gPSBjb250cm9sO1xyXG5cclxuICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKGNvbnRyb2wuZ2V0Q29udHJvbCgpKVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnQWRkZWQgY29udHJvbCcsIGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TWFya2VyRmlsdGVyKGZpbHRlcjogKHBsYWNlOiBOYm5QbGFjZSkgPT4gYm9vbGVhbikge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubWFya2VyTGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYXJrZXIgTGF5ZXIgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJGaWx0ZXIgPSBmaWx0ZXI7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5yZWZyZXNoTWFya2Vyc0luc2lkZUJvdW5kcyh0aGlzLm1hcC5nZXRCb3VuZHMoKSwgdGhpcy5tYXJrZXJGaWx0ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE1vZGVIYW5kbGVyKG1vZGVIYW5kbGVyOiBJTW9kZSkge1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyPy5zZXRNb2RlSGFuZGxlcihtb2RlSGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICogYXMgTCBmcm9tICdsZWFmbGV0JztcclxuaW1wb3J0IElDb250cm9sIGZyb20gXCIuLi9pbnRlcmZhY2VzL2NvbnRyb2wuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBOYm5UZWNoTWFwIGZyb20gXCIuLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IHsgQ29udHJvbEV2ZW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQUNvbnRyb2wgaW1wbGVtZW50cyBJQ29udHJvbCB7XHJcblxyXG4gICAgLy9wcm90ZWN0ZWQgbWFwOiBOYm5UZWNoTWFwO1xyXG4gICAgcHJvdGVjdGVkIGNvbnRyb2w6IEwuQ29udHJvbDtcclxuICAgIC8vcHJvdGVjdGVkIGtleTogc3RyaW5nO1xyXG5cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXZlbnRIYW5kbGVyczoge1xyXG4gICAgICAgIFtldmVudE5hbWU6IHN0cmluZ106ICgoZTogQ29udHJvbEV2ZW50KSA9PiB2b2lkKVtdXHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgY29uc3RydWN0b3IoLyprZXk6IHN0cmluZy8qLCBuYm5UZWNoTWFwOiBOYm5UZWNoTWFwKi8pIHtcclxuICAgICAgICAvL3RoaXMua2V5ID0ga2V5O1xyXG4gICAgICAgIC8vdGhpcy5tYXAgPSBuYm5UZWNoTWFwO1xyXG4gICAgICAgIHRoaXMuY29udHJvbCA9IG5ldyBMLkNvbnRyb2woKTtcclxuICAgIH1cclxuXHJcbiAgICBvbihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChlOiBDb250cm9sRXZlbnQpID0+IHZvaWQpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZW1pdChldmVudE5hbWU6IHN0cmluZywgZGF0YTogYW55KSA6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoYEVtaXR0aW5nIGV2ZW50OiAke2V2ZW50TmFtZX1gLCB7XHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIGhhbmRsZXJzOiB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLmdldFN0YXRlKCksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0U3RhdGUoKSA6IGFueTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29udHJvbCgpIDogTC5Db250cm9sIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcbi8vaW1wb3J0IE5iblRlY2hNYXAgZnJvbSBcIi4uL25ibl90ZWNoX21hcC5jbGFzc1wiO1xyXG5pbXBvcnQgQUNvbnRyb2wgZnJvbSBcIi4vY29udHJvbC5hYnN0cmFjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvRGlzcGxheU1vZGUgZXh0ZW5kcyBBQ29udHJvbCB7XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5TW9kZSA9ICdhbGwnO1xyXG4gICAgcHJpdmF0ZSBlbENvbnRyb2xEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBwcml2YXRlIGVsRHJvcGRvd246IEhUTUxTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVDb250cm9sRGl2KCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sLm9uQWRkID0gKG1hcDogTC5NYXApID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZURyb3Bkb3duKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsQ29udHJvbERpdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdGhpcy5jb250cm9sLm9uQWRkID0gKCkgPT4gdGhpcy5hZGRDb250cm9sRGl2KCk7XHJcbiAgICAgICAgLy90aGlzLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZSgpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TW9kZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBhbGxMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgYWxsUmFkaW86IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGFsbFRleHQ6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHVwZ3JhZGVMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgdXBncmFkZVJhZGlvOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB1cGdyYWRlVGV4dDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVSYWRpbzogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVUZXh0OiBhbnkgPSBudWxsO1xyXG4gICAgXHJcbiAgICBjaGFuZ2VNb2RlKG1vZGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheU1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgbW9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUNvbnRyb2xEaXYoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmKHRoaXMuZWxDb250cm9sRGl2KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29udHJvbERpdiBhbHJlYWR5IGV4aXN0cycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuY2xhc3NMaXN0LmFkZCgnaW5mbycsICdsZWdlbmQnKTtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5wYWRkaW5nID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlRHJvcGRvd24oKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmVsRHJvcGRvd24pIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEcm9wZG93biBhbHJlYWR5IGV4aXN0cycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZHJvcGRvd24gPSB0aGlzLmVsRHJvcGRvd247XHJcbiAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnY29udHJvbC1zZWxlY3QnKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWxsT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgYWxsT3B0aW9uLnZhbHVlID0gJ2FsbCc7XHJcbiAgICAgICAgYWxsT3B0aW9uLmlubmVyVGV4dCA9ICdTaG93IEFsbCBMb2NhdGlvbnMnO1xyXG4gICAgICAgIGRyb3Bkb3duLmFwcGVuZENoaWxkKGFsbE9wdGlvbik7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgY29uc3QgdXBncmFkZU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIHVwZ3JhZGVPcHRpb24udmFsdWUgPSAndXBncmFkZSc7XHJcbiAgICAgICAgdXBncmFkZU9wdGlvbi5pbm5lclRleHQgPSAnVGVjaCBVcGdyYWRlcyc7XHJcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQodXBncmFkZU9wdGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGVlT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgZWVPcHRpb24udmFsdWUgPSAnZWUnO1xyXG4gICAgICAgIGVlT3B0aW9uLmlubmVyVGV4dCA9ICdFbnRlcnByaXNlIEV0aGVybmV0JztcclxuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZChlZU9wdGlvbik7XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHRoaXMuY2hhbmdlTW9kZSgoZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQpLnZhbHVlKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxEcm9wZG93biA9IGRyb3Bkb3duO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmFwcGVuZENoaWxkKGRyb3Bkb3duKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyphZGRDb250cm9sRGl2KCkge1xyXG5cclxuICAgICAgICB0aGlzLmFsbExhYmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGFiZWwnLCAnY29udHJvbC1sYWJlbCcsIHRoaXMuY29udHJvbERpdik7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmFsbExhYmVsKTtcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8udmFsdWUgPSAnYWxsJztcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5hbGxSYWRpbywgJ2NoYW5nZScsIChlKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2FsbCcpKTtcclxuICAgICAgICB0aGlzLmFsbFRleHQgPSBMLkRvbVV0aWwuY3JlYXRlKCdzcGFuJywgJ2NvbnRyb2wtdGV4dCcsIHRoaXMuYWxsTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuYWxsVGV4dC5pbm5lclRleHQgPSAnQWxsJztcclxuXHJcbiAgICAgICAgdGhpcy51cGdyYWRlTGFiZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdsYWJlbCcsICdjb250cm9sLWxhYmVsJywgdGhpcy5jb250cm9sRGl2KTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLnVwZ3JhZGVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8udHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvLnZhbHVlID0gJ3VwZ3JhZGUnO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy51cGdyYWRlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ3VwZ3JhZGUnKSk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlVGV4dCA9IEwuRG9tVXRpbC5jcmVhdGUoJ3NwYW4nLCAnY29udHJvbC10ZXh0JywgdGhpcy51cGdyYWRlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVRleHQuaW5uZXJUZXh0ID0gJ1RlY2ggVXBncmFkZSc7XHJcblxyXG4gICAgICAgIHRoaXMuZWVMYWJlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2xhYmVsJywgJ2NvbnRyb2wtbGFiZWwnLCB0aGlzLmNvbnRyb2xEaXYpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby50eXBlID0gJ3JhZGlvJztcclxuICAgICAgICB0aGlzLmVlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby52YWx1ZSA9ICdlZSc7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmVlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2VlJykpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnc3BhbicsICdjb250cm9sLXRleHQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0LmlubmVyVGV4dCA9ICdFRSc7XHJcblxyXG4gICAgfSovXHJcblxyXG59IiwiaW1wb3J0ICogYXMgTCBmcm9tICdsZWFmbGV0JztcclxuaW1wb3J0IHsgTGF0TG5nTG9jaWRTdG9yYWdlLCBOYm5QbGFjZSwgTmJuUGxhY2VTdG9yZSwgUG9pbnRBbmRMb2NpZHMsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCBJRGF0YXN0b3JlIGZyb20gJy4uL2ludGVyZmFjZXMvZGF0YXN0b3JlLmludGVyZmFjZSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1lbW9yeURhdGFzdG9yZSBpbXBsZW1lbnRzIElEYXRhc3RvcmUge1xyXG5cclxuICAgIHByaXZhdGUgbGF0TG5nSW5kZXg6IExhdExuZ0xvY2lkU3RvcmFnZSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBuYm5QbGFjZVN0b3JlOiBOYm5QbGFjZVN0b3JlID0ge307XHJcblxyXG4gICAgaXNSZWFkeSgpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZSBwbGFjZSBtYXJrZXJzIFxyXG4gICAgICogQHBhcmFtIHBsYWNlTWFya2VyIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzdG9yZVBsYWNlKHBsYWNlOiBOYm5QbGFjZSkgOiBQcm9taXNlPHZvaWQ+IHtcclxuXHJcbiAgICAgICAgY29uc3QgbGF0aXR1ZGUgPSBwbGFjZS5sYXRpdHVkZTtcclxuICAgICAgICBjb25zdCBsb25naXR1ZGUgPSBwbGFjZS5sb25naXR1ZGU7XHJcbiAgICAgICAgY29uc3QgbGF0TG5nID0gYCR7bGF0aXR1ZGV9LCR7bG9uZ2l0dWRlfWA7XHJcbiAgICAgICAgY29uc3QgbG9jaWQgPSBwbGFjZS5sb2NpZDtcclxuXHJcbiAgICAgICAgLy8gU3RvcmUgTE9DSUQgaW50byBpbmRleFxyXG4gICAgICAgIGlmICghdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXSA9IFsgbG9jaWQgXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddLmluY2x1ZGVzKGxvY2lkKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddLnB1c2gobG9jaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdG9yZSBwbGFjZVxyXG4gICAgICAgIHRoaXMubmJuUGxhY2VTdG9yZVtsb2NpZF0gPSBwbGFjZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc3RvcmVQbGFjZXMocGxhY2VzOiBOYm5QbGFjZVtdKSA6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHBsYWNlcy5mb3JFYWNoKHBsYWNlID0+IHRoaXMuc3RvcmVQbGFjZShwbGFjZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBsYWNlKGxvY2lkOiBzdHJpbmcpIDogUHJvbWlzZTxOYm5QbGFjZT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5iblBsYWNlU3RvcmVbbG9jaWRdO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBsYWNlcygpOiBQcm9taXNlPE5iblBsYWNlW10+IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5uYm5QbGFjZVN0b3JlKVxyXG4gICAgICAgICAgICAubWFwKGxvY2lkID0+IHRoaXMubmJuUGxhY2VTdG9yZVtsb2NpZF0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBvaW50cygpIDogUHJvbWlzZTxQb2ludEFuZExvY2lkc1tdPiB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubGF0TG5nSW5kZXgpXHJcbiAgICAgICAgICAgIC5tYXAoKGxhdExuZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgWyBsYXRpdHVkZSwgbG9uZ2l0dWRlIF0gPSBsYXRMbmcuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0bG5nOiBsYXRMbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGUsIGxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICBsb2NpZHM6IHRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKSA6IFByb21pc2U8UG9pbnRBbmRMb2NpZHNbXT4ge1xyXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IChhd2FpdCB0aGlzLmdldFBvaW50cygpKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh7IGxhdGl0dWRlLCBsb25naXR1ZGUgfSkgPT4gdGhpcy5pc0xhdExuZ1dpdGhpbkJvdW5kcyhsYXRpdHVkZSwgbG9uZ2l0dWRlLCBib3VuZHMpKVxyXG4gICAgICAgIHJldHVybiBwb2ludHM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0RnVsbFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKSA6IFByb21pc2U8UG9pbnRBbmRQbGFjZXNbXT4ge1xyXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IChhd2FpdCB0aGlzLmdldFBvaW50cygpKVxyXG4gICAgICAgICAgICAuZmlsdGVyKCh7IGxhdGl0dWRlLCBsb25naXR1ZGUgfSkgPT4gdGhpcy5pc0xhdExuZ1dpdGhpbkJvdW5kcyhsYXRpdHVkZSwgbG9uZ2l0dWRlLCBib3VuZHMpKVxyXG4gICAgICAgICAgICAubWFwKCh7IGxhdGxuZywgbGF0aXR1ZGUsIGxvbmdpdHVkZSwgbG9jaWRzIH0pID0+ICh7XHJcbiAgICAgICAgICAgICAgICBsYXRsbmcsIGxhdGl0dWRlLCBsb25naXR1ZGUsXHJcbiAgICAgICAgICAgICAgICBwbGFjZXM6IGxvY2lkcy5tYXAobG9jaWQgPT4gdGhpcy5uYm5QbGFjZVN0b3JlW2xvY2lkXSksXHJcbiAgICAgICAgICAgIH0pKVxyXG4gICAgICAgIHJldHVybiBwb2ludHM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0UGxhY2VzQXRMYXRMbmcobGF0aXR1ZGU6IG51bWJlciwgbG9uZ2l0dWRlOiBudW1iZXIpIDogUHJvbWlzZTxOYm5QbGFjZVtdPiB7XHJcbiAgICAgICAgY29uc3QgbGF0TG5nID0gYCR7bGF0aXR1ZGV9LCR7bG9uZ2l0dWRlfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGF0TG5nSW5kZXhbbGF0TG5nXVxyXG4gICAgICAgICAgICAubWFwKGxvY2lkID0+IHRoaXMubmJuUGxhY2VTdG9yZVtsb2NpZF0pXHJcbiAgICAgICAgO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNMYXRMbmdXaXRoaW5Cb3VuZHMobGF0aXR1ZGU6IG51bWJlciwgbG9uZ2l0dWRlOiBudW1iZXIsIGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIHtcclxuICAgICAgICByZXR1cm4gbGF0aXR1ZGUgPiBib3VuZHMuZ2V0U291dGgoKVxyXG4gICAgICAgICAgICAmJiBsYXRpdHVkZSA8IGJvdW5kcy5nZXROb3J0aCgpXHJcbiAgICAgICAgICAgICYmIGxvbmdpdHVkZSA+IGJvdW5kcy5nZXRXZXN0KClcclxuICAgICAgICAgICAgJiYgbG9uZ2l0dWRlIDwgYm91bmRzLmdldEVhc3QoKVxyXG4gICAgICAgIDtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSwgTmJuUGxhY2UsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBpc1BsYWNlRlRUUCxcclxuICAgIGlzUGxhY2VGVFRDLFxyXG4gICAgaXNQbGFjZUZUVFBBdmFpbCxcclxuICAgIGlzUGxhY2VGVFRQU29vbixcclxuICAgIGlzUGxhY2VGVFRQRmFyLFxyXG4gICAgaXNGd3RvRlRUQyxcclxuICAgIGlzRnd0b0ZUVE4sXHJcbiAgICBpc1NhdFRvRlcsXHJcbiAgICBpc0RlYnVnTW9kZVxyXG59IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgY29sb3VyRlRUUCBcdFx0PSAnIzFENzA0NCc7XHJcbmNvbnN0IGNvbG91ckZUVFBBdmFpbCAgID0gJyM3NUFENkYnO1xyXG5jb25zdCBjb2xvdXJGVFRQU29vbiAgICA9ICcjQzhFM0M1JztcclxuY29uc3QgY29sb3VySEZDIFx0XHQ9ICcjRkZCRTAwJztcclxuY29uc3QgY29sb3VyRlRUQyBcdFx0PSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVENBdmFpbCAgID0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFROQiBcdFx0PSAnI0UzMDcxRCc7XHJcbmNvbnN0IGNvbG91ckZXIFx0XHQgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IGNvbG91ckZXQXZhaWwgXHQ9ICcjMDIyQkUzJztcclxuY29uc3QgY29sb3VyU2F0IFx0ICAgID0gJyM2QjAyRTMnO1xyXG5jb25zdCBjb2xvdXJVbmtub3duICAgICAgPSAnIzg4ODg4OCc7XHJcblxyXG5mdW5jdGlvbiBnZXRUZWNoQ29sb3VyKHRlY2hUeXBlOiBzdHJpbmcpIHtcclxuICAgIHN3aXRjaCh0ZWNoVHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ0ZUVFAnOiByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICBjYXNlICdGVFRDJzogcmV0dXJuIGNvbG91ckZUVEM7XHJcbiAgICAgICAgY2FzZSAnRlRUTic6XHJcbiAgICAgICAgY2FzZSAnRlRUQic6IHJldHVybiBjb2xvdXJGVFROQjtcclxuICAgICAgICBjYXNlICdIRkMnOiByZXR1cm4gY29sb3VySEZDO1xyXG4gICAgICAgIGNhc2UgJ1dJUkVMRVNTJzogcmV0dXJuIGNvbG91ckZXO1xyXG4gICAgICAgIGNhc2UgJ1NBVEVMTElURSc6IHJldHVybiBjb2xvdXJTYXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3VyVW5rbm93bjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxsTW9kZSBpbXBsZW1lbnRzIElNb2RlIHtcclxuXHJcbiAgICBmaWx0ZXIocGxhY2U6IE5iblBsYWNlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvaW50Q29sb3VyKHBvaW50OiBQb2ludEFuZFBsYWNlcykgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlQ29sb3VyKHBvaW50LnBsYWNlc1swXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxhY2VDb2xvdXIocGxhY2U6IE5iblBsYWNlKSA6IHN0cmluZyB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBBdmFpbChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBTb29uKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUFNvb247XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQztcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNGd3RvRlRUQyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVENBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlICE9ICdOVUxMX05BJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQb3B1cENvbnRlbnQocGxhY2U6IE5iblBsYWNlKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxiPicrcGxhY2UubG9jaWQrJzwvYj48L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMSArICc8L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMiArICc8L2JyPidcclxuICAgICAgICAgICAgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiPlRlY2hub2xvZ3kgUGxhbjwvYj48L2JyPic7XHJcblxyXG4gICAgICAgIC8qKiBUZWNobm9sb2d5IFBsYW4gRmluYWwgU3RhdGUgKi9cclxuICAgICAgICBpZiAocGxhY2UudGVjaFR5cGUgPT0gJ0ZUVFAnXHJcbiAgICAgICAgICAgIHx8ICFwbGFjZS5hbHRSZWFzb25Db2RlXHJcbiAgICAgICAgICAgIHx8IHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gJ05VTExfTkEnXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUZWNobm9sb2d5OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlICE9ICdGVFRQJykge1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ05vIHRlY2ggdXBncmFkZSBwbGFubmVkPGJyIC8+JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0N1cnJlbnQ6ICcgKyBwbGFjZS50ZWNoVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ2hhbmdlOiAnICsgcGxhY2UuYWx0UmVhc29uQ29kZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnU3RhdHVzOiAnICsgcGxhY2UudGVjaENoYW5nZVN0YXR1cyArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnUHJvZ3JhbTogJyArIHBsYWNlLnByb2dyYW1UeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUYXJnZXQgUXRyOiAnICsgcGxhY2UudGFyZ2V0RWxpZ2liaWxpdHlRdWFydGVyICsgJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiciAvPic7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwbGFjZS5lZSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiPkVudGVycHJpc2UgRXRoZXJuZXQ8L2I+PC9icj4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJ1ByaWNlIFpvbmU6ICcgKyAoIHBsYWNlLmNiZHByaWNpbmcgPyAnQ0JEJyA6ICdab25lIDEvMi8zJyApICsgJzxiciAvPidcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdCdWlsZCBDb3N0OiAnICsgKCBwbGFjZS56ZXJvQnVpbGRDb3N0ID8gJyQwJyA6ICdQT0EnICkgKyAnPGJyIC8+J1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBociA9IEwuRG9tVXRpbC5jcmVhdGUoJ2hyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ3ByZScpO1xyXG4gICAgICAgICAgICBwcmUuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkocGxhY2UsIG51bGwsIDIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChwcmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVG9vbHRpcChwbGFjZXM6IE5iblBsYWNlW10pIDogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbGFiZWwgPSBwbGFjZXNbMF0uYWRkcmVzczE7XHJcblxyXG4gICAgICAgIGlmIChwbGFjZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBsYWJlbCArPSAnICggKyAnICsgKHBsYWNlcy5sZW5ndGggLSAxKSArICcgbW9yZSknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRMZWdlbmRJdGVtcygpOiBMZWdlbmRJdGVtW10ge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCBVcGdyYWRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUEF2YWlsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAgVXBncmFkZSBTb29uJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUFNvb24sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnSEZDJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VySEZDLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVEMnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRDLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVE4vRlRUQicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVE5CLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZXJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlcgVXBncmFkZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZXQXZhaWwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnU2F0ZWxsaXRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyU2F0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJVbmtub3duLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgQUNvbnRyb2wgZnJvbSBcIi4vY29udHJvbC5hYnN0cmFjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbExlZ2VuZCBleHRlbmRzIEFDb250cm9sIHtcclxuXHJcbiAgICBwcml2YXRlIGVsQ29udHJvbERpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbC5zZXRQb3NpdGlvbignYm90dG9tcmlnaHQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuY2xhc3NMaXN0LmFkZCgnaW5mbycsICdsZWdlbmQnKTtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5wYWRkaW5nID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2wub25BZGQgPSAobWFwOiBMLk1hcCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbENvbnRyb2xEaXY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTGVnZW5kKGl0ZW1zOiBMZWdlbmRJdGVtW10pIHtcclxuXHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgaXRlbS5jb2xvdXIgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gJyArIGl0ZW0ubGFiZWw7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICcgKCcgKyBpdGVtLmNvdW50ICsgJyknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxicj4nO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5pbm5lckhUTUwgPSBodG1sO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKlxyXG5cclxuICAgIGdldExlZ2VuZEhUTUwoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5iblRlY2hNYXAuY29udHJvbHMuZGlzcGxheU1vZGU/LmRpc3BsYXlNb2RlID09ICdlZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9DQkRfWkJDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSBDQkQgKCQwIEJ1aWxkKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX0NCRF9CQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgQ0JEIChCdWlsZCBQT0EpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfWjEyM19aQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIDEvMi8zICgkMCBCdWlsZCk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9aMTIzX0JDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSAxLzIvMyAoQnVpbGQgUE9BKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5iblRlY2hNYXAuY29udHJvbHMuZGlzcGxheU1vZGU/LmRpc3BsYXlNb2RlID09ICd1cGdyYWRlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9DT01QTEVURSArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBDb21wbGV0ZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQVZBSUwgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQXZhaWxhYmxlPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0JVSUxERklOQUxJU0VEICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEJ1aWxkIEZpbmFsaXNlZDxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9ERVNJR04gKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSW4gRGVzaWduPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0NPTU1JVFRFRCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBDb21taXR0ZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8Yj5NdWx0aSBEd2VsbGluZyBVbml0czwvYj48YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfTURVX0lOQlVJTEQgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSW4gQnVpbGQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfTURVX0VMSUdJQkxFICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEVsbGlnaWJsZTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVFA8YnI+JyArIFxyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUEF2YWlsKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUUCBVcGdyYWRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUFNvb24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRQIFVwZ3JhZGUgU29vbjxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckhGQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEhGQzxicj4nICsgXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFRDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUQzxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVE5CKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUTi9GVFRCPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlcrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVzxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZXQXZhaWwrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVyBVcGdyYWRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyU2F0KydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gU2F0ZWxsaXRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyVW5rbm93bisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFVua25vd24nO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbnRyb2xEaXYobWFwKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jb250cm9sRGl2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbERpdiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdpbmZvIGxlZ2VuZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLndpZHRoID0gXCIxNTBweFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRMZWdlbmRIVE1MKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaCgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRMZWdlbmRIVE1MKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2wuYWRkVG8odGhpcy5uYm5UZWNoTWFwLm1hcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAqL1xyXG59IiwiLyoqXHJcbiAqIEBmaWxlIE1haW4gZW50cnkgcG9pbnQgZm9yIG1hcCBzY3JpcHRzLlxyXG4gKiBAbW9kdWxlIGluZGV4LnRzXHJcbiAqIEB2ZXJzaW9uIDEuMC4wXHJcbiAqIEBhdXRob3IgS29hbGFHXHJcbiAqIEBsaWNlbnNlIE1JVFxyXG4gKi9cclxuXHJcbmltcG9ydCBMaXBBcGkgZnJvbSBcIi4vYXBpL2xpcF9hcGkuY2xhc3NcIjtcclxuaW1wb3J0IE5iblRlY2hNYXAgZnJvbSBcIi4vbmJuX3RlY2hfbWFwLmNsYXNzXCI7XHJcbmltcG9ydCBDb250cm9EaXNwbGF5TW9kZSBmcm9tIFwiLi9jb250cm9scy9jb250cm9sX2Rpc3BsYXlfbW9kZS5jbGFzc1wiO1xyXG5pbXBvcnQgeyBNZW1vcnlEYXRhc3RvcmUgfSBmcm9tIFwiLi9kYXRhc3RvcmUvZGF0YXN0b3JlLm1lbW9yeS5jbGFzc1wiO1xyXG5pbXBvcnQgQWxsTW9kZSBmcm9tIFwiLi9tb2Rlcy9tb2RlLmFsbFwiO1xyXG5pbXBvcnQgQ29udHJvbExlZ2VuZCBmcm9tIFwiLi9jb250cm9scy9jb250cm9sX2xlZ2VuZC5jbGFzc1wiO1xyXG5cclxuaW1wb3J0ICcuL2Fzc2V0cy9TY3JlZW5zaG90MS5wbmcnO1xyXG5pbXBvcnQgJy4vYXNzZXRzL1NjcmVlbnNob3QyLnBuZyc7XHJcbmltcG9ydCAnLi9hc3NldHMvU2NyZWVuc2hvdDMucG5nJztcclxuXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IE5iblBsYWNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignaW5kZXgudHMnKTtcclxuXHJcbmNvbnN0IGlzRGV2ZWxvcG1lbnQgPSAoKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgcHJvY2Vzcy5hcmd2LmluY2x1ZGVzKCdkZXZlbG9wbWVudCcpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSkoKTtcclxubG9nZ2VyLmRlYnVnKCdpc0RldmVsb3BtZW50JywgaXNEZXZlbG9wbWVudCk7XHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvciAmJiAhaXNEZXZlbG9wbWVudCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc2VydmljZS13b3JrZXIuanMnKS50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdTVyByZWdpc3RlcmVkOiAnLCByZWdpc3RyYXRpb24pO1xyXG4gICAgICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1NXIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIHJlZ2lzdHJhdGlvbkVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByZWFkeVxyXG4gKiBAZGVzY3JpcHRpb24gRXhlY3V0ZXMgYSBmdW5jdGlvbiB3aGVuIHRoZSBET00gaXMgcmVhZHkuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS85ODk5NzAxLzEyOTMyNTZ9XHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkeShmbjogKCkgPT4gdm9pZCkge1xyXG4gICAgLy8gc2VlIGlmIERPTSBpcyBhbHJlYWR5IGF2YWlsYWJsZVxyXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIpIHtcclxuICAgICAgICAvLyBjYWxsIG9uIG5leHQgYXZhaWxhYmxlIHRpY2tcclxuICAgICAgICBzZXRUaW1lb3V0KGZuLCAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZm4pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBFeGVjdXRlIHdoZW4gRE9NIGlzIHJlYWR5LlxyXG5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICBjb25zdCBtYXBBcGkgPSBuZXcgTGlwQXBpKCk7XHJcbiAgICAvL2NvbnN0IGRhdGFzdG9yZSA9IG5ldyBJbmRleERCRGF0YXN0b3JlKCk7XHJcbiAgICBjb25zdCBkYXRhc3RvcmUgPSBuZXcgTWVtb3J5RGF0YXN0b3JlKCk7XHJcbiAgICAvL2NvbnN0IG1hcmtlckxheWVyID0gbmV3IE1hcmtlckxheWVyQ2x1c3RlcigpO1xyXG5cclxuICAgIGNvbnN0IG1vZGVBbGwgPSBuZXcgQWxsTW9kZSgpO1xyXG5cclxuICAgIGNvbnN0IG5iblRlY2hNYXAgPSBuZXcgTmJuVGVjaE1hcCh7XHJcbiAgICAgICAgbWFwQ29udGFpbmVySWQ6ICdtYXAnLFxyXG4gICAgICAgIGFwaTogbWFwQXBpLFxyXG4gICAgICAgIGRhdGFzdG9yZTogZGF0YXN0b3JlLFxyXG4gICAgICAgIC8vbWFya2VyTGF5ZXI6IG1hcmtlckxheWVyLFxyXG4gICAgICAgIGRlZmF1bHRNb2RlSGFuZGxlcjogbW9kZUFsbFxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIENvbnRyb2xzIHRvIE1hcFxyXG4gICAgICovXHJcblxyXG4gICAgLy8gRGlzcGxheSBNb2RlIENvbnRyb2xcclxuICAgIGNvbnN0IGNEaXNwbGF5TW9kZSA9IG5ldyBDb250cm9EaXNwbGF5TW9kZSgpO1xyXG4gICAgbmJuVGVjaE1hcC5hZGRDb250cm9sKCdkaXNwbGF5bW9kZScsIGNEaXNwbGF5TW9kZSk7XHJcblxyXG4gICAgLy8gTGVnZW5kIENvbnRyb2xcclxuICAgIGNvbnN0IGNMZWdlbmQgPSBuZXcgQ29udHJvbExlZ2VuZCgpO1xyXG4gICAgY0xlZ2VuZC51cGRhdGVMZWdlbmQobW9kZUFsbC5nZXRMZWdlbmRJdGVtcygpKTtcclxuICAgIG5iblRlY2hNYXAuYWRkQ29udHJvbCgnbGVnZW5kJywgY0xlZ2VuZCk7XHJcblxyXG4gICAgLy8gU2VhcmNoIENvbnRyb2xcclxuXHJcbiAgICAvLyBQcm9ncmVzcyBDb250cm9sXHJcblxyXG4gICAgLy8gQWRkIGV2ZW50IExpc3RlbmVyc1xyXG4gICAgY0Rpc3BsYXlNb2RlLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZS5zdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlICdhbGwnOlxyXG4gICAgICAgICAgICAgICAgbmJuVGVjaE1hcC5zZXRNb2RlSGFuZGxlcihtb2RlQWxsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd1cGdyYWRlJzpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlZSc6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufSkiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTQzOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gPSBzZWxmW1wid2VicGFja0NodW5rXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs5MThdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg2MTEpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJmZXRjaFBhZ2UiLCJib3VuZHMiLCJwYWdlIiwicHJvY2VlZCIsIm5vcnRoIiwiZ2V0Tm9ydGgiLCJ0b0ZpeGVkIiwiZWFzdCIsImdldEVhc3QiLCJzb3V0aCIsImdldFNvdXRoIiwid2VzdCIsImdldFdlc3QiLCJFcnJvciIsIk1hdGgiLCJtYXgiLCJOdW1iZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZldGNoIiwibWV0aG9kIiwicmVkaXJlY3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJ0ZXh0IiwicmVzdWx0IiwicGFyc2VkUmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsImNhdGNoIiwibWFwIiwiZGF0YXN0b3JlIiwibW9kZUhhbmRsZXIiLCJwb2ludHMiLCJ0aGlzIiwibWFya2VycyIsIm1heENsdXN0ZXJSYWRpdXMiLCJtYXJrZXJDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlPbk1heFpvb20iLCJkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbSIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJ6b29tVG9Cb3VuZHNPbkNsaWNrIiwicmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHMiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJjaHVua2VkTG9hZGluZyIsImNodW5rSW50ZXJ2YWwiLCJjaHVua0RlbGF5IiwiY2h1bmtQcm9ncmVzcyIsInByb2Nlc3NlZCIsInRvdGFsIiwiZWxhcHNlZCIsImNvbnNvbGUiLCJsb2ciLCJhZGRUbyIsIm9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJnZXRab29tIiwiY2x1c3RlciIsImNvbG9yQXJyYXkiLCJnZXRBbGxDaGlsZE1hcmtlcnMiLCJtYXJrZXIiLCJvcHRpb25zIiwiZmlsbENvbG9yIiwiY29sb3JDb3VudHMiLCJmb3JFYWNoIiwiY29sb3IiLCJjb2xvckFycmF5U29ydGVkIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJhIiwiYiIsImJhY2tncm91bmQiLCJsYXN0Q29sb3VyUGVyY2VudCIsImluZGV4IiwidGhpc0NvbG91clBlcmNlbnQiLCJsZW5ndGgiLCJyYW5kb21JZCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiaHRtbCIsImdldENoaWxkQ291bnQiLCJjbGFzc05hbWUiLCJ6b29tIiwic2V0TW9kZUhhbmRsZXIiLCJ2YWx1ZXMiLCJsYXllciIsInBvaW50Iiwic2V0U3R5bGUiLCJwb2ludENvbG91ciIsInJlZHJhdyIsImVycm9yIiwiZ2V0TGF5ZXJzIiwicmVmcmVzaENsdXN0ZXJzIiwicmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMiLCJtRmlsdGVyIiwiZ2V0RnVsbFBvaW50c1dpdGhpbkJvdW5kcyIsImxhdExuZ1N0cmluZyIsImxhdGxuZyIsInJlbmRlclBvaW50IiwiZmlsdGVyZWRQb2ludHMiLCJmaWx0ZXIiLCJzaG93UG9pbnQiLCJwbGFjZXMiLCJwdXNoIiwicmVtb3ZlTGF5ZXJzIiwiYWRkTGF5ZXJzIiwicCIsInJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzIiwicmVtb3ZlQWxsTWFya2VycyIsImNsZWFyTGF5ZXJzIiwiY2lyY2xlTWFya2VyTGF5ZXIiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInJhZGl1cyIsIndlaWdodCIsIm9wYWNpdHkiLCJmaWxsT3BhY2l0eSIsImJpbmRQb3B1cCIsInJlbmRlclBvcHVwIiwiYXV0b1BhbiIsImF1dG9DbG9zZSIsImJpbmRUb29sdGlwIiwicmVuZGVyVG9vbHRpcCIsInJlbmRlclBvcHVwQ29udGVudCIsInJlbmRvclBvcHVwTXVsdGkiLCJncm91cERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBsYWNlQ29udGFpbmVycyIsImFkZHJlc3MxIiwicGxhY2UiLCJwbGFjZUNvbnRhaW5lciIsInBsYWNlQ29sb3VyIiwiYnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwidHlwZSIsImlubmVySFRNTCIsInBhbmVsIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY3VycmVudGx5QWN0aXZlIiwiY29udGFpbnMiLCJyZW1vdmUiLCJuYW1lIiwic3ViIiwiTG9nZ2VyIiwiYXJncyIsIndhcm4iLCJkZWJ1ZyIsImlzRGVidWdNb2RlIiwiaW5mbyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluY2x1ZGVzIiwicm91bmRCb3VuZHMiLCJjZWlsIiwiZmxvb3IiLCJsb2dnZXIiLCJtYXJrZXJGaWx0ZXIiLCJpbml0aWFsVmlld1NldCIsInByb2dyZXNzQ29udHJvbCIsInBvc2l0aW9uIiwicHJvZ3Jlc3NJdGVtcyIsImNvbnRyb2xzIiwiTmJuVGVjaE1hcCIsIkRFRkFVTFRfT1BUSU9OUyIsImFwaSIsImRlZmF1bHRNb2RlSGFuZGxlciIsIm1hcENvbnRhaW5lcklkIiwicHJlZmVyQ2FudmFzIiwibWFya2VyTGF5ZXIiLCJtYXBUaWxlTGF5ZXIiLCJhdHRyaWJ1dGlvbiIsInN1YmRvbWFpbnMiLCJjcm9zc09yaWdpbiIsIm1pblpvb20iLCJtYXhab29tIiwiTCIsIkdlb2NvZGVyIiwiZ2VvY29kZXIiLCJtYXBHZW9jb2RlciIsIkFyY0dpcyIsImFwaUtleSIsImdlb2NvZGluZ1F1ZXJ5UGFyYW1zIiwiY291bnRyeUNvZGUiLCJjYXRlZ29yeSIsIm1hcFNlYXJjaCIsImNvbGxhcHNlZCIsImRlZmF1bHRNYXJrR2VvY29kZSIsInN1Z2dlc3RNaW5MZW5ndGgiLCJzdWdnZXN0VGltZW91dCIsImJib3giLCJnZW9jb2RlIiwiZml0Qm91bmRzIiwibWFwTG9jYXRlIiwibG9jYXRlIiwibG9jYXRlT3B0aW9ucyIsInNldFZpZXciLCJrZWVwQ3VycmVudFpvb21MZXZlbCIsImluaXRpYWxab29tTGV2ZWwiLCJjYWNoZUxvY2F0aW9uIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJzZXRJbml0aWFsTWFwVmlldyIsImNlbnRlciIsImdldENlbnRlciIsInN0cmluZ2lmeSIsImxhdCIsImxuZyIsInB1c2hCcm93c2VySGlzdG9yeSIsImRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyIsImZldGNoRGF0YUZvckN1cnJlbnRWaWV3IiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2VhcmNoIiwiZ2V0IiwicGFyc2VJbnQiLCJzZXQiLCJuZXdVcmwiLCJwYXRobmFtZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJnZXRTdGFydFBvcyIsInN0YXJ0UG9zU3RyaW5nIiwiZ2V0SXRlbSIsImdlb0ZsYWciLCJzdGFydFBvcyIsInN0YXJ0Iiwic2V0Wm9vbSIsImdldEJveGVzSW5Cb3VuZHMiLCJub3J0aG1vc3QiLCJ3ZXN0bW1vc3QiLCJib3hlcyIsImJveCIsImdldEN1cnJlbnRWaWV3Qm94ZXMiLCJnZXRCb3VuZHMiLCJoaWRlTWFya2Vyc091dHNpZGVDdXJyZW50VmlldyIsIm1hcEJvdW5kcyIsInBhZCIsImF0dGVtcHQiLCJpc1JlYWR5Iiwic2V0VGltZW91dCIsInJlZnJlc2hQb2ludHNGcm9tU3RvcmUiLCJzaG93Wm9vbUluV2FybmluZyIsInpvb21Jbldhcm5pbmdDb250cm9sIiwib25BZGQiLCJkaXYiLCJjcmVhdGUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJhZGRDb250cm9sIiwiaGlkZVpvb21Jbldhcm5pbmciLCJyZW1vdmVDb250cm9sIiwidXBkYXRlS2V5IiwicHJvZ3Jlc3NJdGVtIiwiY3JlYXRlUHJvZ3Jlc3MiLCJib3hDaHVua3MiLCJhcnJheSIsInNpemUiLCJyZXN1bHRzIiwic3BsaWNlIiwiY2h1bmtBcnJheSIsImJveGVzUHJvY2Vzc2VkIiwiaSIsInVwZGF0ZVByb2dyZXNzIiwiZmV0Y2hQcm9taXNlcyIsImkyIiwiZmV0Y2hEYXRhIiwiYWxsIiwia2V5Iiwic3RhcnRlZCIsIkRhdGUiLCJmaW5pc2hlZCIsInVuZGVmaW5lZCIsImNvbXBsZXRlIiwicHJvZ3Jlc3MiLCJyZW5kZXJQcm9ncmVzcyIsIm5vdyIsImdldFRpbWUiLCJpdGVtcyIsIml0ZW0iLCJwcm9ncmVzc1RleHQiLCJldmVyeSIsImhpZGVQcm9ncmVzcyIsImludGVyc2VjdHMiLCJwcm9jZXNzRmV0Y2hSZXN1bHQiLCJuZXh0IiwibWVzc2FnZSIsInByb2Nlc3NQcm9taXNlIiwic3RvcmVQbGFjZXMiLCJjb250cm9sIiwiZ2V0Q29udHJvbCIsInNldE1hcmtlckZpbHRlciIsImV2ZW50SGFuZGxlcnMiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImVtaXQiLCJoYW5kbGVycyIsInN0YXRlIiwiZ2V0U3RhdGUiLCJkaXNwbGF5TW9kZSIsImVsQ29udHJvbERpdiIsImVsRHJvcGRvd24iLCJhbGxMYWJlbCIsImFsbFJhZGlvIiwiYWxsVGV4dCIsInVwZ3JhZGVMYWJlbCIsInVwZ3JhZGVSYWRpbyIsInVwZ3JhZGVUZXh0IiwiZWVMYWJlbCIsImVlUmFkaW8iLCJlZVRleHQiLCJnZW5lcmF0ZUNvbnRyb2xEaXYiLCJnZW5lcmF0ZURyb3Bkb3duIiwiY2hhbmdlTW9kZSIsIm1vZGUiLCJib3JkZXJSYWRpdXMiLCJkcm9wZG93biIsImFsbE9wdGlvbiIsInZhbHVlIiwiaW5uZXJUZXh0IiwiZSIsImxhdExuZ0luZGV4IiwibmJuUGxhY2VTdG9yZSIsInN0b3JlUGxhY2UiLCJsYXRMbmciLCJsb2NpZCIsImdldFBsYWNlIiwiZ2V0UGxhY2VzIiwiZ2V0UG9pbnRzIiwic3BsaXQiLCJsb2NpZHMiLCJnZXRQb2ludHNXaXRoaW5Cb3VuZHMiLCJpc0xhdExuZ1dpdGhpbkJvdW5kcyIsImdldFBsYWNlc0F0TGF0TG5nIiwiZ2V0VGVjaENvbG91ciIsInRlY2hUeXBlIiwiaXNQbGFjZUZUVFAiLCJhbHRSZWFzb25Db2RlIiwibWF0Y2giLCJ0ZWNoQ2hhbmdlU3RhdHVzIiwiaXNQbGFjZUZUVFBBdmFpbCIsImlzUGxhY2VGVFRQU29vbiIsImlzUGxhY2VGVFRQRmFyIiwicmVhc29uQ29kZSIsImlzUGxhY2VGVFRDIiwiaXNGd3RvRlRUQyIsImlzRnd0b0ZUVE4iLCJpc1NhdFRvRlciLCJjb250ZW50IiwiYWRkcmVzczIiLCJwcm9ncmFtVHlwZSIsInRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciIsImVlIiwiY2JkcHJpY2luZyIsInplcm9CdWlsZENvc3QiLCJociIsInByZSIsImxhYmVsIiwiZ2V0TGVnZW5kSXRlbXMiLCJjb2xvdXIiLCJzZXRQb3NpdGlvbiIsInVwZGF0ZUxlZ2VuZCIsImNvdW50IiwiZm4iLCJpc0RldmVsb3BtZW50IiwicHJvY2VzcyIsImFyZ3YiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciIsIm1hcEFwaSIsIk1lbW9yeURhdGFzdG9yZSIsIm1vZGVBbGwiLCJuYm5UZWNoTWFwIiwiY0Rpc3BsYXlNb2RlIiwiY0xlZ2VuZCIsInJlYWR5U3RhdGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJPIiwiY2h1bmtJZHMiLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiZnVsZmlsbGVkIiwiaiIsInIiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiLCJiYXNlVVJJIiwic2VsZiIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsImJpbmQiLCJuYyIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9