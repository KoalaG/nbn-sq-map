/*! For license information please see app.2461c84b6018e2686c87.js.LICENSE.txt */
(()=>{"use strict";var e,t={818:(e,t,r)=>{const n=function(){function e(){}return e.prototype.fetchPage=function(e){return t=this,r=arguments,o=function(e,t,r){var n,o,i,a,s;return void 0===t&&(t=1),void 0===r&&(r=function(){return!0}),function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(l){switch(l.label){case 0:if(n=e.getNorth().toFixed(2),o=e.getEast().toFixed(2),!r())throw new Error("Proceed function returned false. Stopping fetch.");return i=new URLSearchParams(window.location.search),a=i.get("apiServer")||"https://nbn.api.lip.net.au",t=Math.max(1,Number(t)),s="".concat(a,"/places/map/").concat(n,"/").concat(o,"?page=").concat(t),[4,new Promise((function(e,t){fetch(s,{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(t){var r=JSON.parse(t);e(r)})).catch(t)}))];case 1:return[2,l.sent()]}}))},new((n=void 0)||(n=Promise))((function(e,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,s)}l((o=o.apply(t,r||[])).next())}));var t,r,n,o},e}();r(274);var o=r(481),i=(r(527),r(245),r(603),r(676)),a=(r(389),r(759),function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}),s=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},l=function(){function e(e){this.name=e}return e.prototype.sub=function(t){return new e("".concat(this.name,".").concat(t))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c()&&console.debug.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e}();function c(){return window.location.href.includes("localhost")||window.location.href.includes("debug=true")}var u=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},p=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},d=function(){function e(e,t,r){this.logger=new l("MarkerLayerCluster"),this.pointMap=new Map,this.map=e,this.placeStore=r,this.modeHandler=t,this.markers=new o.MarkerClusterGroup({maxClusterRadius:this.markerClusterRadius,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:18,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,iconCreateFunction:this.iconCreateFunction,chunkedLoading:!0,chunkInterval:150,chunkDelay:150,chunkProgress:function(e,t,r){console.log("chunkProgress",{processed:e,total:t,elapsed:r})}}),this.markers.addTo(this.map),this.map.on("zoomend",(function(e){console.log("zoomend",e.target.getZoom())}))}return e.prototype.addPoints=function(e){var t=this,r=this.logger.sub("addPoints"),n=[];e.forEach((function(e){var r=e.lat+","+e.lng,o=t.pointMap.get(r);if(o)o.point=e;else{var i=t.renderPoint(e);n.push(i),t.pointMap.set(r,{layer:i,point:e})}})),r.debug("Adding new layers",n.length),n.length&&this.markers.addLayers(n)},e.prototype.removeAllPoints=function(){this.logger.sub("removeAllPoints").debug("Removing all points",this.pointMap),this.markers.clearLayers(),this.pointMap.clear(),this.logger.sub("removeAllPoints").debug("Removed all points",this.pointMap)},e.prototype.removeAllMarkers=function(){return u(this,void 0,void 0,(function(){return p(this,(function(e){return this.removeAllPoints(),[2]}))}))},e.prototype.markerClusterRadius=function(e){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:return 150;case 13:return 100;default:return 0}},e.prototype.updatePointStyle=function(e,t){t.setStyle({fillColor:this.modeHandler.placeColour(e[0])}),t.setTooltipContent(this.modeHandler.renderTooltip(e)),t.redraw()},e.prototype.setModeHandler=function(e,t){return this.modeHandler=e,this},e.prototype.DEP_refreshMarkersInsideBounds=function(e,t){return u(this,void 0,void 0,(function(){return p(this,(function(e){return[2]}))}))},e.prototype.removeMarkersOutsideBounds=function(e){return u(this,void 0,void 0,(function(){return p(this,(function(e){return[2]}))}))},e.prototype.renderPoint=function(e){var t=this,r=o.circleMarker([e.lat,e.lng],{radius:5,fillColor:e.col?e.col[0]:void 0,color:"#000000",weight:1,opacity:1,fillOpacity:.8});return r.on("click",(function(e){console.log("click",e)})),r.bindPopup((function(r){t.placeStore.getPlaces(e.ids).then((function(e){var n=t.renderPopup(e);r.setPopupContent(n)}));var n=document.createElement("div");return n.innerHTML='<div class="loading">Loading...</div>',n}),{autoPan:!0,autoClose:!1}),r.bindTooltip((function(t){var r=e.add[0];return e.add.length>1&&(r+=" ( + "+(e.add.length-1)+" more)"),r}),{}),r},e.prototype.renderPopup=function(e){return 1==e.length?this.modeHandler.renderPopupContent(e[0]):this.rendorPopupMulti(e)},e.prototype.rendorPopupMulti=function(e){var t,r,n=document.createElement("div"),o=[];e.sort((function(e,t){return e.address1<t.address1?-1:e.address1>t.address1?1:0}));var i=function(e){var t=document.createElement("div"),r=a.modeHandler.placeColour(e),i=document.createElement("button");i.classList.add("accordion"),i.type="button",i.innerHTML='<svg height="15" width="15" style="margin-right:3px">'+'<circle class="circle" cx="7.5" cy="9" r="5" stroke="#000" stroke-width="1" fill="'.concat(r,'" />')+"</svg>"+"<span>".concat(e.address1,"</span>");var s=document.createElement("div");s.classList.add("panel"),s.appendChild(a.modeHandler.renderPopupContent(e)),i.addEventListener("click",(function(){var e=t.classList.contains("active");o.forEach((function(e){e.classList.remove("active")})),e||t.classList.add("active")})),t.appendChild(i),t.appendChild(s),n.appendChild(t),o.push(t)},a=this;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),l=s.next();!l.done;l=s.next())i(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return n},e.prototype.iconCreateFunction=function(e){var t=e.getAllChildMarkers().map((function(e){return e.options.fillColor})),r={};t.forEach((function(e){r[e]||(r[e]=0),r[e]++}));var n=Object.keys(r).sort((function(e,t){return r[t]-r[e]})),i="background: conic-gradient(",a=0;n.forEach((function(e,n){0==n&&(i+="\n"+e+" 0%");var o=r[e]/t.length*100;i+=", \n"+e+" "+a+"%",i+=", \n"+e+" "+(a+o)+"%",a+=o})),i+="\n);";var s=Math.random().toString(36).substring(7);return o.divIcon({html:"<style>#cluster_".concat(s,"::before { ").concat(i," }</style> <div id='cluster_").concat(s,"'><span>")+e.getChildCount()+"</span></div>",className:"marker-cluster"})},e}();const h=d;var f=function(){return f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)},g=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},m=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},v=function(){function e(t){var r=this;this.MAX_UNFETCHED_BOXES=100,this.logger=new l("NbnTechMap"),this.initialViewSet=!1,this.debugBoxes=[],this.fetchedBoxes=new Set,this.progressControl=new o.Control({position:"bottomleft"}),this.progressItems={},this.controls={},t=f(f({},e.DEFAULT_OPTIONS),t),this.logger.sub("constructor").debug("Options",t),this.api=t.api,this.placeStore=t.placestore,this.modeHandler=t.defaultModeHandler,this.map=o.map(t.mapContainerId,{preferCanvas:!0}),this.markerLayer=new h(this.map,this.modeHandler,this.placeStore),this.mapTileLayer=o.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",crossOrigin:!0,minZoom:5,maxZoom:20}),this.mapTileLayer.addTo(this.map),console.log({L:o,Geocoder:i.Ho,geocoder:i.$G});var n=new i.mK.ArcGis({apiKey:"AAPKa97b8a5374db4fa9b0fdd8e55361cba4Z9fEuw3ckAOIFHK1CP_VbzTv3OTeUz3ggrFAzVPzjyn3Q7bQFzbwkDMvDxaJ-JzG",geocodingQueryParams:{countryCode:"AU",category:"Address,LatLong,Neighborhood,District,City,Metro Area"}});this.mapSearch=o.Control.geocoder({position:"topleft",collapsed:!0,defaultMarkGeocode:!1,geocoder:n,suggestMinLength:5,suggestTimeout:1e3}),this.mapSearch.on("markgeocode",(function(e){var t=e.geocode.bbox;r.map.fitBounds(t,{maxZoom:16})})),this.mapSearch.addTo(this.map),this.mapLocate=o.control.locate({position:"topleft",locateOptions:{maxZoom:16},setView:"untilPan",keepCurrentZoomLevel:!0,initialZoomLevel:17,cacheLocation:!0}),this.mapLocate.addTo(this.map),this.map.on("locateactivate",(function(){localStorage.setItem("geolocate","1")})),this.map.on("locatedeactivate",(function(){localStorage.removeItem("geolocate")})),this.setInitialMapView(),this.map.on("moveend",(function(){return g(r,void 0,void 0,(function(){var e,t;return m(this,(function(r){return e=this.map.getCenter(),t=this.map.getZoom(),localStorage.setItem("startpos",JSON.stringify({lat:e.lat,lng:e.lng,zoom:t})),this.pushBrowserHistory(),n.options.geocodingQueryParams&&(n.options.geocodingQueryParams.location="".concat(e.lng,",").concat(e.lat)),this.fetchDataForCurrentView(),[2]}))}))})),this.fetchDataForCurrentView(),window.addEventListener("popstate",(function(){var e=new URLSearchParams(window.location.search),t=e.get("lat"),n=e.get("lng"),o=e.get("zoom");t&&n&&o&&(r.map.setView([Number(t),Number(n)],parseInt(o)),r.initialViewSet=!0)}))}return e.prototype.pushBrowserHistory=function(){var e=this.map.getCenter(),t=this.map.getZoom(),r=new URLSearchParams(window.location.search);r.set("lat",e.lat.toString()),r.set("lng",e.lng.toString()),r.set("zoom",t.toString());var n=window.location.pathname+"?"+r.toString();window.history.pushState({},"",n)},e.prototype.getStartPos=function(){var e=localStorage.getItem("startpos");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},e.prototype.setInitialMapView=function(){var e=this.logger.sub("setInitialMapView");if(this.initialViewSet)e.warn("Initial map view already set");else{var t=new URLSearchParams(window.location.search),r=t.get("lat"),n=t.get("lng"),o=t.get("zoom");if(r&&n&&o)return this.map.setView([Number(r),Number(n)],parseInt(o)),void(this.initialViewSet=!0);var i=localStorage.getItem("geolocate"),a=this.getStartPos();a&&(this.map.setView([a.lat,a.lng],a.zoom),this.initialViewSet=!0),a||(this.map.setView([-26.1772288,133.4170119],10),this.initialViewSet=!0),!i&&a||(this.mapLocate.start(),this.map.setZoom(17),this.initialViewSet=!0),this.initialViewSet||e.error("Could not set initial map view")}},e.prototype.getBoxesInBounds=function(e){for(var t=this,r=.02*Math.ceil(e.getNorth()/.02),n=.02*Math.floor(e.getWest()/.02),i=[],a=r;a>e.getSouth();a-=.02)for(var s=n;s<e.getEast();s+=.02)i.push([Number(a.toFixed(2)),Number(s.toFixed(2))]);c()&&(console.log("Bounds",e),console.log("Boxes",i));var l=i.map((function(e){var t=e[0],r=e[1],n=t-.02,i=r+.02;return o.latLngBounds([n,r],[t,i])}));return c()&&(this.debugBoxes.forEach((function(e){return t.map.removeLayer(e)})),this.debugBoxes=l.map((function(e){return o.rectangle(e,{color:"#000000",weight:2,fillColor:"#ff7800",fillOpacity:.01,interactive:!1}).addTo(t.map)}))),l},e.prototype.getCurrentViewBoxes=function(){return this.getBoxesInBounds(this.map.getBounds())},e.prototype.hideMarkersOutsideCurrentView=function(){var e=this.map.getBounds().pad(.5);this.markerLayer.removeMarkersOutsideBounds(e)},e.prototype.DEP_displayMarkersInCurrentView=function(){return g(this,arguments,void 0,(function(e){return void 0===e&&(e=1),m(this,(function(e){return[2]}))}))},e.prototype.showZoomInWarning=function(){var e=this;this.zoomInWarningControl||(this.zoomInWarningControl=new o.Control({position:"topright"}),this.zoomInWarningControl.onAdd=function(){var e=o.DomUtil.create("div","info legend");return e.innerHTML='<h4 style="margin:0">Area Too Big!</h4>',e.innerHTML+='<p style="margin:0">Location loading is paused until you zoom in.</p>',e.style.backgroundColor="#ff9800",e.style.opacity="0.8",e.style.padding="10px 20px",e.style.color="#ffffff",e});var t=this.zoomInWarningControl;setTimeout((function(){return e.map.addControl(t)}),1e3)},e.prototype.hideZoomInWarning=function(){this.zoomInWarningControl&&this.map.removeControl(this.zoomInWarningControl)},e.prototype.fetchDataForCurrentView=function(){return g(this,void 0,void 0,(function(){var e,t,r,n,o,i,a,s,l,c,u,p,d=this;return m(this,(function(h){switch(h.label){case 0:if(e=this.logger.sub("fetchDataForCurrentView"),this.map.getZoom()<11)return e.warn("Zoom level too low. Skipping."),this.showZoomInWarning(),[2];if(t=this.getCurrentViewBoxes(),e.debug("Current view boxes",t),r=t.filter((function(e){return!d.fetchedBoxes.has(e.getCenter().toString())})),0==r.length)return this.hideZoomInWarning(),[2];if(r.length>this.MAX_UNFETCHED_BOXES)return e.warn("Too many boxes to fetch. Skipping."),this.showZoomInWarning(),[2];this.hideZoomInWarning(),n=this.map.getCenter().toString()+this.map.getZoom(),o=this.createProgress(n,r.length,"Fetching sections..."),this.renderProgress(),i=0,h.label=1;case 1:h.trys.push([1,6,7,8]),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),s=a.next(),h.label=2;case 2:return s.done?[3,5]:(l=s.value,this.map.getCenter().toString()+this.map.getZoom()!=n?(e.debug("Map moved. Fetch stopped."),o.text="Map moved. Fetch stopped.",this.updateProgress(n,i,!0),[2]):[4,this.fetchData(l)]);case 3:h.sent(),this.fetchedBoxes.add(l.getCenter().toString()),i++,this.updateProgress(n,i,!1),h.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return c=h.sent(),u={error:c},[3,8];case 7:try{s&&!s.done&&(p=a.return)&&p.call(a)}finally{if(u)throw u.error}return[7];case 8:return this.updateProgress(n,i,!0),e.debug("All boxes fetched"),[2]}}))}))},e.prototype.createProgress=function(e,t,r){return this.progressItems[e]={started:new Date,finished:void 0,complete:!1,progress:0,total:t,text:r},this.progressItems[e]},e.prototype.updateProgress=function(e,t,r){if(!this.progressItems[e])throw new Error("Progress item with key ".concat(e," does not exist"));this.progressItems[e].finished=r?new Date:void 0,this.progressItems[e].complete=r,this.progressItems[e].progress=t,this.renderProgress()},e.prototype.renderProgress=function(){for(var e=this,t=new Date,r=Object.keys(this.progressItems),n=0;n<r.length;n++){var i=r[n];if(this.progressItems[i]){var a=this.progressItems[i].finished;a&&t.getTime()-a.getTime()>5e3&&delete this.progressItems[i]}}0!=Object.keys(this.progressItems).length?(this.progressControl.onAdd=function(){var t=o.DomUtil.create("div","info legend");t.innerHTML='<h4 style="margin:0">Loading...</h4>';for(var r=Object.values(e.progressItems),n=0;n<r.length;n++){var i=r[n];if(!(i.finished&&(new Date).getTime()-i.finished.getTime()>1e4)){var a=i.progress/i.total*100,s=i.complete?"Complete":"".concat(i.progress," of ").concat(i.total);t.innerHTML+='<p style="margin:0">'.concat(i.text," (").concat(s,")</p>"),t.innerHTML+='<progress value="'.concat(a,'" max="100"></progress>')}}return t.style.backgroundColor="#000000",t.style.opacity="0.8",t.style.padding="10px 20px",t.style.color="#ffffff",t},this.map.addControl(this.progressControl),setTimeout((function(){Object.values(e.progressItems).every((function(e){return e.complete}))&&e.hideProgress()}),5e3)):this.hideProgress()},e.prototype.hideProgress=function(){this.map.removeControl(this.progressControl)},e.prototype.fetchData=function(e){return g(this,arguments,void 0,(function(e,t){var r,n,o,i,a=this;return void 0===t&&(t=1),m(this,(function(s){switch(s.label){case 0:this.logger.sub("fetchData").debug("Fetching Box",e.getCenter().toString(),t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,this.api.fetchPage(e,t,(function(){return a.map.getBounds().intersects(e)}))];case 2:return r=s.sent(),this.processFetchResult(r,e),n=r.page,o=r.totalPages,n<o?[4,this.fetchData(e,r.page+1)]:[3,4];case 3:return[2,s.sent()];case 4:return[2];case 5:return"Page already loaded this session."==(i=s.sent()).message?[2]:(console.error(i),[3,6]);case 6:return[2]}}))}))},e.prototype.processFetchResult=function(e,t){var r=this.logger.sub("processFetchResult");r.debug("Processing Fetch Result",e,t),this.placeStore.storePlaces(e.places).catch((function(e){return console.error("Error storing places",e)}));for(var n=new Map,o=0;o<e.places.length;o++){var i=e.places[o];if(this.modeHandler.filter(i)){var a="".concat(i.latitude,",").concat(i.longitude),s=this.modeHandler.placeColour(i),l=n.get(a);l?l.ids.includes(i.id)||(l.ids.push(i.id),l.add.push(i.address1),l.col.push(s)):n.set(a,{lat:i.latitude,lng:i.longitude,col:[s],add:[i.address1],ids:[i.id]})}}r.debug("Adding points to marker layer",n),this.markerLayer.addPoints(n)},e.prototype.DEPR_refreshPointsFromStore=function(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){if(!this.markerLayer)throw new Error("Marker Layer not set");return e||(console.log("Bounds not passed. Using map bounds."),e=this.map.getBounds()),e=function(e){var t=Math.ceil(50*e.getNorth())/50,r=Math.floor(25*e.getWest())/25,n=Math.floor(50*e.getSouth())/50,i=Math.ceil(25*e.getEast())/25;return o.latLngBounds([n,r],[t,i])}(e),[2]}))}))},e.prototype.addControl=function(e,t){if(this.controls[e])throw new Error("Control with key ".concat(e," already exists"));this.controls[e]=t,this.map.addControl(t.getControl()),console.log("Added control",e)},e.prototype.setModeHandler=function(e){var t,r;this.modeHandler=e,null===(t=this.markerLayer)||void 0===t||t.removeAllMarkers(),console.log("Current Fetched Boxes",this.fetchedBoxes),this.fetchedBoxes.clear(),console.log("Fetched Boxes Cleared",this.fetchedBoxes),null===(r=this.markerLayer)||void 0===r||r.setModeHandler(e,this.placeStore),this.fetchDataForCurrentView()},e.DEFAULT_OPTIONS={mapContainerId:"map"},e}();const y=v,b=function(){function e(){this.eventHandlers={},this.control=new o.Control}return e.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)},e.prototype.emit=function(e,t){var r=this;console.debug("Emitting event: ".concat(e),{data:t,handlers:this.eventHandlers[e]}),this.eventHandlers[e]&&this.eventHandlers[e].forEach((function(n){return n({name:e,state:r.getState(),data:t})}))},e.prototype.getControl=function(){return this.control},e}();var w,C=(w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},w(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});const T=function(e){function t(t,r){var n=e.call(this)||this;return n.displayMode="all",n.elControlDiv=document.createElement("div"),n.elDropdown=document.createElement("select"),n.generateControlDiv(),n.control.onAdd=function(e){return n.generateDropdown(t,r),n.elControlDiv},n}return C(t,e),t.prototype.getState=function(){return this.displayMode},t.prototype.changeMode=function(e){this.displayMode=e.id,this.emit("change",e)},t.prototype.generateControlDiv=function(){this.elControlDiv&&console.warn("ControlDiv already exists"),this.elControlDiv.classList.add("info","legend"),this.elControlDiv.style.backgroundColor="#ffffff",this.elControlDiv.style.opacity="0.8",this.elControlDiv.style.padding="5px",this.elControlDiv.style.borderRadius="5px"},t.prototype.generateDropdown=function(e,t){var r,n,o=this;this.elDropdown&&console.warn("Dropdown already exists");var i=this.elDropdown;i.classList.add("control-select");try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=a.next();!s.done;s=a.next()){var l=s.value,c=document.createElement("option");c.value=l.id,c.innerText=l.name,l.id===t.id&&(c.selected=!0),i.appendChild(c)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}i.addEventListener("change",(function(r){return o.changeMode(e.find((function(e){return e.id===i.value}))||t)})),this.elDropdown=i,this.elControlDiv.appendChild(i)},t}(b);var S="#1D7044",P="#75AD6F",E="#C8E3C5",M="#FFBE00",x="#FF7E01",L="#E3071D",D="#02B9E3",k="#022BE3",F="#6B02E3",H="#888888";function B(e){switch(e){case"FTTP":return S;case"FTTC":return x;case"FTTN":case"FTTB":return L;case"HFC":return M;case"WIRELESS":return D;case"SATELLITE":return F}return H}const O=function(){function e(){this.id="all",this.name="Show All Locations"}return e.prototype.filter=function(e){return!0},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){return function(e){return"FTTP"===e.techType}(e)?S:function(e){return!(!e.altReasonCode||!e.altReasonCode.match(/^FTTP/)||"Eligible To Order"!==e.techChangeStatus)}(e)?P:function(e){if(e.altReasonCode&&e.altReasonCode.match(/^FTTP/))switch(e.techChangeStatus){case"In Design":case"Build Finalised":case"Planned":case"MDU Complex Eligible To Apply":case"MDU Complex Premises In Build":return!0}return!1}(e)?E:function(e){if(e.altReasonCode&&e.altReasonCode.match(/^FTTP/)&&"Committed"===e.techChangeStatus)return!0}(e)?B(e.techType):function(e){return!("FTTC"!=e.techType||!e.reasonCode||!e.reasonCode.match(/^FTTC/)||"New Tech Connected"!=e.techChangeStatus)}(e)?x:function(e){return"FTTC"==e.techType&&"FTTC_SA"==e.reasonCode&&"FW_CT"==e.altReasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?"#FF7E01":function(e){return"FTTN"==e.techType&&"FTTN_SA"==e.reasonCode&&"FW_CT"==e.altReasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?L:function(e){return"WIRELESS"==e.techType&&"FW_SA"==e.reasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?k:(e.altReasonCode&&"NULL_NA"!=e.altReasonCode&&console.log(e),B(e.techType))},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.id+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=e.techType&&e.altReasonCode&&"NULL_NA"!=e.altReasonCode?(e.altReasonCode&&e.altReasonCode.match(/^FTTP/),t.innerHTML+="Current: "+e.techType+"<br />",t.innerHTML+="Change: "+e.altReasonCode+"<br />",t.innerHTML+="Status: "+e.techChangeStatus+"<br />",t.innerHTML+="Program: "+e.programType+"<br />",t.innerHTML+="Target Qtr: "+e.targetEligibilityQuarter+"<br />"):(t.innerHTML+="Technology: "+e.techType+"<br />","FTTP"!=e.techType&&(t.innerHTML+="No tech upgrade planned<br />")),t.innerHTML+="<br />",e.ee&&(t.innerHTML+="<b>Enterprise Ethernet</b></br>",t.innerHTML+="Price Zone: "+(e.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",t.innerHTML+="Build Cost: "+(e.zeroBuildCost?"$0":"POA")+"<br />",t.innerHTML+="<br />"),c()){var r=o.DomUtil.create("hr"),n=o.DomUtil.create("pre");n.innerHTML=JSON.stringify(e,null,2),t.appendChild(r),t.appendChild(n)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"FTTP",colour:S},{label:"FTTP Upgrade",colour:P},{label:"FTTP Coming",colour:E},{label:"HFC",colour:M},{label:"FTTC",colour:x},{label:"FTTN/FTTB",colour:L},{label:"FW",colour:D},{label:"FW Upgrade",colour:k},{label:"Satellite",colour:F},{label:"Unknown",colour:H}]},e}();var I=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const A=function(e){function t(){var t=e.call(this)||this;return t.elControlDiv=document.createElement("div"),t.control.setPosition("bottomright"),t.elControlDiv.classList.add("info","legend"),t.elControlDiv.style.backgroundColor="#ffffff",t.elControlDiv.style.opacity="0.8",t.elControlDiv.style.padding="5px",t.elControlDiv.style.borderRadius="5px",t.control.onAdd=function(e){return t.elControlDiv},t}return I(t,e),t.prototype.getState=function(){},t.prototype.updateLegend=function(e){var t="";e.forEach((function(e){t+='<svg height="10" width="10"><circle cx="5" cy="5" r="5" fill="'+e.colour+'" stroke="#000000" stroke-width="1" opacity="1" fill-opacity="0.8" /></svg> '+e.label,e.count&&(t+=" ("+e.count+")"),t+="<br>"})),this.elControlDiv.innerHTML=t},t}(b);r.p,r.p,r.p;var U=r(602),N=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},R=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},_=function(){function e(){var e=this;this.DB_NAME="nsm-placestore",this.logger=new l("IndexDBPlaceStore"),this.logger.info("Setting up database..."),(0,U.P2)(this.DB_NAME,2,{upgrade:function(e,t,r,n,o){e.objectStoreNames.contains("nbnPlaceStore")||e.createObjectStore("nbnPlaceStore",{keyPath:"id"})},blocked:function(t,r,n){e.logger.warn("Database blocked!",{currentVersion:t,blockedVersion:r,event:n})},blocking:function(t,r,n){e.logger.warn("Database blocking!",{currentVersion:t,blockedVersion:r,event:n})},terminated:function(){e.logger.warn("Database terminated!")}}).then((function(t){e.db=t,e.logger.info("Database ready!")})).catch((function(t){e.logger.error("Failed to open database: ",t)})).finally((function(){e.logger.info("Database setup complete.")}))}return e.prototype.isReady=function(){return!!this.db},e.prototype.waitUntilReady=function(e){return N(this,void 0,void 0,(function(){var t=this;return R(this,(function(r){return[2,new Promise((function(r,n){var o=Date.now(),i=setInterval((function(){var a=Date.now()-o;t.isReady()?(clearInterval(i),r()):a>1e3*e&&(clearInterval(i),n(new Error("Database not ready after ".concat(e," seconds."))))}),100)}))]}))}))},e.prototype.storePlace=function(e){return N(this,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return[4,this.getDb()];case 1:return[4,t.sent().put("nbnPlaceStore",e)];case 2:return t.sent(),[2]}}))}))},e.prototype.storePlaces=function(e){return N(this,void 0,void 0,(function(){var t,r,n,o;return R(this,(function(i){switch(i.label){case 0:return[4,this.getDb()];case 1:return t=i.sent(),r=t.transaction(["nbnPlaceStore"],"readwrite",{durability:"relaxed"}),n=r.objectStore("nbnPlaceStore"),o=e.filter((function(e){return e})).map((function(e){return n.put(e)})),[4,Promise.all(o)];case 2:return i.sent(),[4,r.done];case 3:return i.sent(),[2]}}))}))},e.prototype.getPlace=function(e){return N(this,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return[4,this.getDb()];case 1:return[4,t.sent().get("nbnPlaceStore",e)];case 2:return[2,t.sent()]}}))}))},e.prototype.getPlaces=function(e){return N(this,void 0,void 0,(function(){var t,r,n,o;return R(this,(function(i){switch(i.label){case 0:return[4,this.getDb()];case 1:return t=i.sent(),r=t.transaction(["nbnPlaceStore"],"readonly"),n=r.objectStore("nbnPlaceStore"),[4,Promise.all(e.map((function(e){return n.get(e)})))];case 2:return o=i.sent(),[4,r.done];case 3:return i.sent(),[2,o.filter((function(e){return!!e}))]}}))}))},e.prototype.getDb=function(){return N(this,arguments,void 0,(function(e){return void 0===e&&(e=5),R(this,(function(t){switch(t.label){case 0:return[4,this.waitUntilReady(e)];case 1:if(t.sent(),!this.db)throw new Error("Database not ready.");return[2,this.db]}}))}))},e}(),z="#1D7044",V="#02B9E3",W="#FFBE00",Z="#FF7E01",j="#E3071D",G="#EA819A",Q="#022BE3",J="#6B02E3",$="#888888";const K=function(){function e(){this.id="upgrade",this.name="Tech Upgrade"}return e.prototype.getID=function(){return this.id},e.prototype.getName=function(){return this.name},e.prototype.filter=function(e){return"Not Planned"!=e.techChangeStatus&&!!e.techChangeStatus},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){switch(e.techChangeStatus){case"Previous Tech Disconnected":case"New Tech Connected":return z;case"In Design":return Z;case"Build Finalised":return W;case"Committed":return j;case"Planned":return G;case"Eligible To Order":return V;case"MDU Complex Eligible To Apply":return J;case"MDU Complex Premises In Build":return Q}return $},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.id+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=e.techType&&e.altReasonCode&&"NULL_NA"!=e.altReasonCode?(e.altReasonCode&&e.altReasonCode.match(/^FTTP/),t.innerHTML+="Current: "+e.techType+"<br />",t.innerHTML+="Change: "+e.altReasonCode+"<br />",t.innerHTML+="Status: "+e.techChangeStatus+"<br />",t.innerHTML+="Program: "+e.programType+"<br />",t.innerHTML+="Target Qtr: "+e.targetEligibilityQuarter+"<br />"):(t.innerHTML+="Technology: "+e.techType+"<br />","FTTP"!=e.techType&&(t.innerHTML+="No tech upgrade planned<br />")),t.innerHTML+="<br />",c()){var r=o.DomUtil.create("hr"),n=o.DomUtil.create("pre");n.innerHTML=JSON.stringify(e,null,2),t.appendChild(r),t.appendChild(n)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"Previous Tech Disconnected",colour:z},{label:"New Tech Connected",colour:z},{label:"Eligible To Order",colour:V},{label:"Build Finalised",colour:W},{label:"In Design",colour:Z},{label:"Committed",colour:j},{label:"Planned",colour:G},{label:"MDU Complex Eligible To Apply",colour:J},{label:"MDU Complex Premises In Build",colour:Q},{label:"Unknown",colour:$}]},e}();var X="#1D7044",q="#02B9E3",Y="#FF7E01",ee="#E3071D",te="#888888";const re=function(){function e(){this.id="ee",this.name="Enterprise Ethernet"}return e.prototype.filter=function(e){return e.ee},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){return e.cbdpricing&&e.zeroBuildCost?X:e.cbdpricing&&!e.zeroBuildCost?q:!e.cbdpricing&&e.zeroBuildCost?Y:e.cbdpricing||e.zeroBuildCost?te:ee},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.id+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Enterprise Ethernet</b></br>",t.innerHTML+="Price Zone: "+(e.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",t.innerHTML+="Build Cost: "+(e.zeroBuildCost?"$0":"POA")+"<br />",t.innerHTML+="<br />",c()){var r=o.DomUtil.create("hr"),n=o.DomUtil.create("pre");n.innerHTML=JSON.stringify(e,null,2),t.appendChild(r),t.appendChild(n)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"EE CBD $0",colour:X},{label:"EE CBD POA",colour:q},{label:"EE Z123 $0",colour:Y},{label:"EE Zone 1/2/3 POA",colour:ee},{label:"Unknown",colour:te}]},e}();var ne="#1D7044",oe="#02B9E3",ie="#FFBE00",ae="#FF7E01",se="#E3071D",le="#888888";const ce=function(){function e(){this.id="fw",this.name="Fixed Wireless"}return e.prototype.filter=function(e){return"WIRELESS"==e.techType},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){if("Eligible to Order"==e.hstStatus)switch(e.hstSpeedTier){case"FW Superfast":return ne;case"FW Home Fast":return oe;case"FW Plus":return ie}switch(e.hstStatus){case"Planned":return ae;case"Not Planned":return se}return le},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.id+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Fixed Wireless</b></br>","Fixed Wireless and Satellite Upgrade Program"==e.programType&&(t.innerHTML+="Program: Fixed Wireless Upgrade Program<br />",t.innerHTML+="Status: "+e.hstStatus+"<br />",t.innerHTML+="SpeedTier: "+e.hstSpeedTier+"<br />",t.innerHTML+="Target Qtr: "+e.targetEligibilityQuarter+"<br />"),t.innerHTML+="<br />",c()){var r=o.DomUtil.create("hr"),n=o.DomUtil.create("pre");n.innerHTML=JSON.stringify(e,null,2),t.appendChild(r),t.appendChild(n)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"Available - Superfast",colour:ne},{label:"Available - Home Fast",colour:oe},{label:"Available - Plus",colour:ie},{label:"Planned",colour:ae},{label:"Not Planned",colour:se},{label:"Unknown",colour:le}]},e}();var ue,pe=new l("index.ts"),de=function(){try{return process.argv.includes("development")}catch(e){return!1}}();pe.debug("isDevelopment",de),"serviceWorker"in navigator&&!de&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(e){pe.info("SW registered: ",e)})).catch((function(e){pe.warn("SW registration failed: ",e)}))})),ue=function(){var e=new n,t=[new O,new K,new ce,new re],r=function(){var e=new URLSearchParams(window.location.search).get("mode")||localStorage.getItem("mode")||"all";return t.find((function(t){return t.id===e}))||t[0]},o=r(),i=new _,a=new y({mapContainerId:"map",api:e,defaultModeHandler:o,placestore:i}),s=new T(t,r());a.addControl("displaymode",s);var l=new A;l.updateLegend(o.getLegendItems()),a.addControl("legend",l),s.on("change",(function(e){console.log("Mode Change",e);var t=e.data;if(t){a.setModeHandler(t),l.updateLegend(t.getLegendItems()),localStorage.setItem("mode",e.state);var r=new URL(window.location.href);r.searchParams.set("mode",e.state),window.history.pushState({},"",r.toString())}}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(ue,1):document.addEventListener("DOMContentLoaded",ue)},442:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 stroke=%27%23000%27 stroke-linecap=%27round%27 stroke-width=%271.6%27 viewBox=%270 0 24 24%27%3E%3Cdefs/%3E%3Cg%3E%3Cpath stroke-opacity=%27.1%27 d=%27M14 8.4l3-5%27/%3E%3Cpath stroke-opacity=%27.2%27 d=%27M15.6 10l5-3%27/%3E%3Cpath stroke-opacity=%27.3%27 d=%27M16.2 12H22%27/%3E%3Cpath stroke-opacity=%27.4%27 d=%27M15.6 14l5 3m-6.5-1.4l2.9 5%27/%3E%3Cpath stroke-opacity=%27.5%27 d=%27M12 16.2V22m-2-6.4l-3 5%27/%3E%3Cpath stroke-opacity=%27.6%27 d=%27M8.4 14l-5 3%27/%3E%3Cpath stroke-opacity=%27.7%27 d=%27M7.8 12H2%27/%3E%3Cpath stroke-opacity=%27.8%27 d=%27M8.4 10l-5-3%27/%3E%3Cpath stroke-opacity=%27.9%27 d=%27M10 8.4l-3-5%27/%3E%3Cpath d=%27M12 7.8V2%27/%3E%3CanimateTransform attributeName=%27transform%27 calcMode=%27discrete%27 dur=%271s%27 repeatCount=%27indefinite%27 type=%27rotate%27 values=%270 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12%27/%3E%3C/g%3E%3C/svg%3E"},972:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Cpath d=%27M12.2 13l3.4 6.6c.6 1.1 2.5-.4 2-1.2l-4-6.2z%27/%3E%3Ccircle cx=%2710.8%27 cy=%278.9%27 r=%273.9%27 fill=%27none%27 stroke=%27%23000%27 stroke-width=%271.5%27/%3E%3C/svg%3E"},129:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M304 48a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48 368a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm208-208a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM96 256a48 48 0 1 0-96 0 48 48 0 0 0 96 0zm13 99a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm294 0a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM109 61a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"/></svg>'},780:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},994:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%28252, 132, 40%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},101:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%2832, 116, 182%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,o,i]=e[u],s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{n.b=document.baseURI||self.location.href;var e={524:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[a,s,l]=r,c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var u=l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var o=n.O(void 0,[320],(()=>n(818)));o=n.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVdDLEtBQUtsZCxTQUFTa0MsS0FLMUQsSUFBSWliLEVBQWtCLENBQ3JCLElBQUssR0FhTjFDLEVBQW9CTyxFQUFFTSxFQUFLOEIsR0FBMEMsSUFBN0JELEVBQWdCQyxHQUd4RCxJQUFJQyxFQUF1QixDQUFDQyxFQUE0QnhMLEtBQ3ZELElBR0k0SSxFQUFVMEMsR0FIVG5DLEVBQVVzQyxFQUFhQyxHQUFXMUwsRUFHaEJULEVBQUksRUFDM0IsR0FBRzRKLEVBQVN3QyxNQUFNbkwsR0FBZ0MsSUFBeEI2SyxFQUFnQjdLLEtBQWEsQ0FDdEQsSUFBSW9JLEtBQVk2QyxFQUNaOUMsRUFBb0JxQixFQUFFeUIsRUFBYTdDLEtBQ3JDRCxFQUFvQnRHLEVBQUV1RyxHQUFZNkMsRUFBWTdDLElBR2hELEdBQUc4QyxFQUFTLElBQUl2YyxFQUFTdWMsRUFBUS9DLEVBQ2xDLENBRUEsSUFERzZDLEdBQTRCQSxFQUEyQnhMLEdBQ3JEVCxFQUFJNEosRUFBU3JXLE9BQVF5TSxJQUN6QitMLEVBQVVuQyxFQUFTNUosR0FDaEJvSixFQUFvQnFCLEVBQUVxQixFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBTzNDLEVBQW9CTyxFQUFFL1osRUFBTyxFQUdqQ3ljLEVBQXFCUixLQUFtQixhQUFJQSxLQUFtQixjQUFLLEdBQ3hFUSxFQUFtQnhaLFFBQVFtWixFQUFxQk0sS0FBSyxLQUFNLElBQzNERCxFQUFtQmpaLEtBQU80WSxFQUFxQk0sS0FBSyxLQUFNRCxFQUFtQmpaLEtBQUtrWixLQUFLRCxRQ2hEdkZqRCxFQUFvQm1ELFFBQUt6WCxFQ0d6QixJQUFJMFgsRUFBc0JwRCxFQUFvQk8sT0FBRTdVLEVBQVcsQ0FBQyxNQUFNLElBQU9zVSxFQUFvQixPQUM3Rm9ELEVBQXNCcEQsRUFBb0JPLEVBQUU2QyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovLy8uL3NyYy9hcGkvbGlwX2FwaS5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hcmtlcmxheWVyL21hcmtlcmxheWVyLmNsdXN0ZXIuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25ibl90ZWNoX21hcC5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbC5hYnN0cmFjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9kaXNwbGF5X21vZGUuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVzL21vZGUuYWxsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9scy9jb250cm9sX2xlZ2VuZC5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGxhY2VzdG9yZS9pbmRleGRiLnBsYWNlc3RvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVzL3RlY2h1cGdyYWRlLm1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVzL2VlLm1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVzL2Z3aHN0Lm1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgSUFwaSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE5iblBsYWNlQXBpUmVzcG9uc2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgaXNEZWJ1Z01vZGUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpcEFwaSBpbXBsZW1lbnRzIElBcGkge1xyXG5cclxuICAgIGFzeW5jIGZldGNoUGFnZShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLFxyXG4gICAgICAgIHBhZ2U6IG51bWJlciA9IDEsXHJcbiAgICAgICAgcHJvY2VlZDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHRydWUsXHJcbiAgICApIDogUHJvbWlzZTxOYm5QbGFjZUFwaVJlc3BvbnNlPlxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBub3J0aCA9IGJvdW5kcy5nZXROb3J0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3QgZWFzdCA9IGJvdW5kcy5nZXRFYXN0KCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcm9jZWVkKCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9jZWVkIGZ1bmN0aW9uIHJldHVybmVkIGZhbHNlLiBTdG9wcGluZyBmZXRjaC4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCB1cmwgcGFyYW1ldGVyIGFwaVNlcnZlclxyXG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgY29uc3QgYXBpU2VydmVyID0gdXJsUGFyYW1zLmdldCgnYXBpU2VydmVyJykgfHwgJ2h0dHBzOi8vbmJuLmFwaS5saXAubmV0LmF1JztcclxuICAgICAgICBcclxuICAgICAgICBwYWdlID0gTWF0aC5tYXgoMSwgTnVtYmVyKHBhZ2UpKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFnZVVybCA9IGAke2FwaVNlcnZlcn0vcGxhY2VzL21hcC8ke25vcnRofS8ke2Vhc3R9P3BhZ2U9JHtwYWdlfWA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGZldGNoKHBhZ2VVcmwsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdDogJ2ZvbGxvdycsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KSBhcyBOYm5QbGFjZUFwaVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShwYXJzZWRSZXN1bHQpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBOYm5QbGFjZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XHJcblxyXG4gICAgc3ViKG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBuZXcgTG9nZ2VyKGAke3RoaXMubmFtZX0uJHtuYW1lfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbmFtZTogc3RyaW5nKSB7XHJcbiAgICB9XHJcblxyXG4gICAgZXJyb3IoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHdhcm4oLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVidWcoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5mbyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbyhgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2coLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNodW5rQXJyYXk8VD4oYXJyYXk6IFRbXSwgc2l6ZTogbnVtYmVyKTogVFtdW10ge1xyXG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xyXG4gICAgd2hpbGUgKGFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgIHJlc3VsdHMucHVzaChhcnJheS5zcGxpY2UoMCwgc2l6ZSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RlYnVnTW9kZSgpIHtcclxuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xyXG4gICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdsb2NhbGhvc3QnKVxyXG4gICAgICAgIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdkZWJ1Zz10cnVlJylcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUUCc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUTihwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZUVE4nO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUhGQyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0hGQyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUQihwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZUVEInO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVEMocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZihwbGFjZS50ZWNoVHlwZSA9PSBcIkZUVENcIlxyXG4gICAgICAgICYmIHBsYWNlLnJlYXNvbkNvZGUgJiYgcGxhY2UucmVhc29uQ29kZS5tYXRjaCgvXkZUVEMvKVxyXG4gICAgICAgICYmIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ05ldyBUZWNoIENvbm5lY3RlZCdcclxuICAgICkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZpeGVkV2lyZWxlc3MocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdGaXhlZCBXaXJlbGVzcyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlU2F0ZWxsaXRlKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnU2F0ZWxsaXRlJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQQXZhaWwocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBTb29uKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6XHJcbiAgICAgICAgICAgIGNhc2UgJ0J1aWxkIEZpbmFsaXNlZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYW5uZWQnOlxyXG4gICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IFByZW1pc2VzIEluIEJ1aWxkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRQRmFyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbW1pdHRlZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z3dG9GVFROKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09IFwiRlRUTlwiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZUVE5fU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gXCJGV19DVFwiXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnRWxpZ2libGUgVG8gT3JkZXInXHJcbiAgICA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z3dG9GVFRDKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09IFwiRlRUQ1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZUVENfU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gXCJGV19DVFwiXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnRWxpZ2libGUgVG8gT3JkZXInXHJcbiAgICA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1NhdFRvRlcocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJXSVJFTEVTU1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSA9PSBcIkZXX1NBXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG4iLCJpbXBvcnQgSURhdGFzdG9yZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9kYXRhc3RvcmUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBJTWFya2VyTGF5ZXIgZnJvbSBcIi4uL2ludGVyZmFjZXMvbWFya2VybGF5ZXIuaW50ZXJmYWNlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBMIGZyb20gXCJsZWFmbGV0XCI7XHJcbmltcG9ydCAnbGVhZmxldC5tYXJrZXJjbHVzdGVyJztcclxuaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvZGlzdC9NYXJrZXJDbHVzdGVyLmNzcyc7XHJcblxyXG5pbXBvcnQgeyBOYm5QbGFjZSwgUG9pbnRBbmRMb2NpZHMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuXHJcbi8vIENvbnN0YW50IENvbG91cnNcclxuY29uc3QgY29sb3VyRlRUUCBcdFx0PSAnIzFENzA0NCc7XHJcbmNvbnN0IGNvbG91ckZUVFBBdmFpbCAgID0gJyM3NUFENkYnO1xyXG5jb25zdCBjb2xvdXJGVFRQU29vbiAgICA9ICcjQzhFM0M1JztcclxuY29uc3QgY29sb3VySEZDIFx0XHQ9ICcjRkZCRTAwJztcclxuY29uc3QgY29sb3VyRlRUQyBcdFx0PSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVENBdmFpbCAgID0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFROQiBcdFx0PSAnI0UzMDcxRCc7XHJcbmNvbnN0IGNvbG91ckZXIFx0XHQgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IGNvbG91ckZXQXZhaWwgXHQ9ICcjMDIyQkUzJztcclxuY29uc3QgY29sb3VyU2F0IFx0ICAgID0gJyM2QjAyRTMnO1xyXG5cclxuY29uc3QgY29sb3VyRUVfQ0JEX1pCQyAgPSAnIzFENzA0NCc7XHJcbmNvbnN0IGNvbG91ckVFX0NCRF9CQyAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJFRV9aMTIzX1pCQyA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRUVfWjEyM19CQyAgPSAnI0UzMDcxRCc7XHJcblxyXG5jb25zdCBDT0xfVEVDSF9DT01QTEVURSAgICAgICAgID0gJyMxRDcwNDQnO1xyXG5jb25zdCBDT0xfVEVDSF9BVkFJTCAgICAgICAgICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBDT0xfVEVDSF9CVUlMREZJTkFMSVNFRCAgID0gJyNGRkJFMDAnO1xyXG5jb25zdCBDT0xfVEVDSF9ERVNJR04gICAgICAgICAgID0gJyNGRjdFMDEnO1xyXG5jb25zdCBDT0xfVEVDSF9DT01NSVRURUQgICAgICAgID0gJyNFMzA3MUQnO1xyXG5cclxuY29uc3QgQ09MX1RFQ0hfTURVX0lOQlVJTEQgICAgICA9ICcjMDIyQkUzJztcclxuY29uc3QgQ09MX1RFQ0hfTURVX0VMSUdJQkxFICAgICA9ICcjNkIwMkUzJztcclxuXHJcbmNvbnN0IGNvbG91clVua25vd24gICAgICA9ICcjODg4ODg4JztcclxuXHJcbmltcG9ydCBJTW9kZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tb2RlLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgSVBsYWNlU3RvcmUgZnJvbSBcIi4uL2ludGVyZmFjZXMvcGxhY2VzdG9yZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXJMYXllckNsdXN0ZXIgaW1wbGVtZW50cyBJTWFya2VyTGF5ZXIge1xyXG5cclxuICAgIHByaXZhdGUgbG9nZ2VyID0gbmV3IExvZ2dlcignTWFya2VyTGF5ZXJDbHVzdGVyJyk7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXA6IEwuTWFwO1xyXG4gICAgcHJpdmF0ZSBwbGFjZVN0b3JlOiBJUGxhY2VTdG9yZTtcclxuICAgIHByaXZhdGUgbW9kZUhhbmRsZXI6IElNb2RlO1xyXG5cclxuICAgIHByaXZhdGUgbWFya2VyczogTC5NYXJrZXJDbHVzdGVyR3JvdXA7XHJcblxyXG4gICAgcHJpdmF0ZSBwb2ludE1hcDogTWFwPHN0cmluZywge1xyXG4gICAgICAgIGxheWVyOiBMLkNpcmNsZU1hcmtlcixcclxuICAgICAgICBwb2ludDogUG9pbnRBbmRMb2NpZHNcclxuICAgIH0+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1hcDogTC5NYXAsIG1vZGVIYW5kbGVyOiBJTW9kZSwgcGxhY2VTdG9yZTogSVBsYWNlU3RvcmUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgICAgdGhpcy5wbGFjZVN0b3JlID0gcGxhY2VTdG9yZTtcclxuICAgICAgICB0aGlzLm1vZGVIYW5kbGVyID0gbW9kZUhhbmRsZXI7XHJcblxyXG4gICAgICAgIHRoaXMubWFya2VycyA9IG5ldyBMLk1hcmtlckNsdXN0ZXJHcm91cCh7XHJcbiAgICAgICAgICAgIG1heENsdXN0ZXJSYWRpdXM6IHRoaXMubWFya2VyQ2x1c3RlclJhZGl1cyxcclxuICAgICAgICAgICAgc3BpZGVyZnlPbk1heFpvb206IGZhbHNlLFxyXG4gICAgICAgICAgICBkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbTogMTgsXHJcbiAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI6IHRydWUsXHJcbiAgICAgICAgICAgIHpvb21Ub0JvdW5kc09uQ2xpY2s6IHRydWUsXHJcbiAgICAgICAgICAgIHJlbW92ZU91dHNpZGVWaXNpYmxlQm91bmRzOiB0cnVlLFxyXG4gICAgICAgICAgICBpY29uQ3JlYXRlRnVuY3Rpb246IHRoaXMuaWNvbkNyZWF0ZUZ1bmN0aW9uLFxyXG4gICAgICAgICAgICBjaHVua2VkTG9hZGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgY2h1bmtJbnRlcnZhbDogMTUwLFxyXG4gICAgICAgICAgICBjaHVua0RlbGF5OiAxNTAsXHJcbiAgICAgICAgICAgIGNodW5rUHJvZ3Jlc3M6IChwcm9jZXNzZWQsIHRvdGFsLCBlbGFwc2VkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2h1bmtQcm9ncmVzcycsIHsgcHJvY2Vzc2VkLCB0b3RhbCwgZWxhcHNlZCB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJzLmFkZFRvKHRoaXMubWFwKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAub24oJ3pvb21lbmQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3pvb21lbmQnLCBldmVudC50YXJnZXQuZ2V0Wm9vbSgpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgcG9pbnRzIHRvIHRoZSBtYXBcclxuICAgICAqIEBwYXJhbSBwb2ludHMgXHJcbiAgICAgKi9cclxuICAgIGFkZFBvaW50cyhcclxuICAgICAgICBwb2ludHM6IE1hcDxzdHJpbmcsIFBvaW50QW5kTG9jaWRzPlxyXG4gICAgKSA6IHZvaWRcclxuICAgIHtcclxuXHJcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuc3ViKCdhZGRQb2ludHMnKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZXdMYXllcnM6IEwuQ2lyY2xlTWFya2VyW10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBwb2ludHMgdG8gdGhlIHBvaW50IHN0b3JlXHJcbiAgICAgICAgcG9pbnRzLmZvckVhY2goKHBvaW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhdExuZ1N0cmluZyA9IHBvaW50LmxhdCArICcsJyArIHBvaW50LmxuZztcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRNYXAgPSB0aGlzLnBvaW50TWFwLmdldChsYXRMbmdTdHJpbmcpO1xyXG4gICAgICAgICAgICBpZiAoIXBvaW50TWFwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdMYXllciA9IHRoaXMucmVuZGVyUG9pbnQocG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgbmV3TGF5ZXJzLnB1c2gobmV3TGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludE1hcC5zZXQobGF0TG5nU3RyaW5nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IG5ld0xheWVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb2ludE1hcC5wb2ludCA9IHBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBhbGwgdGhlIGxheWVycyB0byB0aGUgbWFwXHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdBZGRpbmcgbmV3IGxheWVycycsIG5ld0xheWVycy5sZW5ndGgpO1xyXG4gICAgICAgIGlmIChuZXdMYXllcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5hZGRMYXllcnMobmV3TGF5ZXJzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHBvaW50cyBmcm9tIHRoZSBtYXBcclxuICAgICAqIEBwYXJhbSBwb2ludHMgXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUFsbFBvaW50cygpIDogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnN1YigncmVtb3ZlQWxsUG9pbnRzJykuZGVidWcoJ1JlbW92aW5nIGFsbCBwb2ludHMnLCB0aGlzLnBvaW50TWFwKTtcclxuICAgICAgICB0aGlzLm1hcmtlcnMuY2xlYXJMYXllcnMoKTtcclxuICAgICAgICB0aGlzLnBvaW50TWFwLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuc3ViKCdyZW1vdmVBbGxQb2ludHMnKS5kZWJ1ZygnUmVtb3ZlZCBhbGwgcG9pbnRzJywgdGhpcy5wb2ludE1hcCk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBhc3luYyByZW1vdmVBbGxNYXJrZXJzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsUG9pbnRzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG1hcmtlckNsdXN0ZXJSYWRpdXMoem9vbTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3dpdGNoKHpvb20pIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICBjYXNlIDEyOiByZXR1cm4gMTUwO1xyXG4gICAgICAgICAgICBjYXNlIDEzOiByZXR1cm4gMTAwO1xyXG4gICAgICAgICAgICBjYXNlIDE0OiBcclxuICAgICAgICAgICAgY2FzZSAxNTpcclxuICAgICAgICAgICAgY2FzZSAxNjpcclxuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlUG9pbnRTdHlsZShwbGFjZXM6IE5iblBsYWNlW10sIGxheWVyOiBMLkNpcmNsZU1hcmtlcikge1xyXG4gICAgICAgIGxheWVyLnNldFN0eWxlKHtcclxuICAgICAgICAgICAgZmlsbENvbG9yOiB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlc1swXSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGF5ZXIuc2V0VG9vbHRpcENvbnRlbnQodGhpcy5tb2RlSGFuZGxlci5yZW5kZXJUb29sdGlwKHBsYWNlcykpO1xyXG4gICAgICAgIGxheWVyLnJlZHJhdygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBtb2RlIGhhbmRsZXJcclxuICAgICAqICAtIFN0b3JlIHRoZSBtb2RlIGhhbmRsZXJcclxuICAgICAqICAtIFVwZGF0ZSB0aGUgY29sb3VyIG9mIHRoZSBwb2ludHNcclxuICAgICAqIEBwYXJhbSBtb2RlSGFuZGxlciBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBzZXRNb2RlSGFuZGxlcihtb2RlSGFuZGxlcjogSU1vZGUsIHBsYWNlc3RvcmU6IElQbGFjZVN0b3JlKSB7XHJcblxyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuICAgICAgICAvKlxyXG4gICAgICAgIHRoaXMucG9pbnRNYXAuZm9yRWFjaCgoeyBsYXllciwgcG9pbnQgfSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBwbGFjZXNcclxuICAgICAgICAgICAgY29uc3QgZ2V0UGxhY2VzID0gcGxhY2VzdG9yZS5nZXRQbGFjZXMocG9pbnQuaWRzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcG9pbnQgc3R5bGVcclxuICAgICAgICAgICAgZ2V0UGxhY2VzLnRoZW4oKHBsYWNlcykgPT4gdGhpcy51cGRhdGVQb2ludFN0eWxlKHBsYWNlcywgbGF5ZXIpKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hcmtlcnMgJiYgdGhpcy5tYXJrZXJzLmdldExheWVycygpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnMucmVmcmVzaENsdXN0ZXJzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgREVQX3JlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMsIG1GaWx0ZXI/OiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuKSB7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKCF0aGlzLmRhdGFzdG9yZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFzdG9yZSBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBuZXdQb2ludHMgPSBhd2FpdCB0aGlzLmRhdGFzdG9yZS5nZXRGdWxsUG9pbnRzV2l0aGluQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbmV3UG9pbnRzXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKHBvaW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhdExuZ1N0cmluZyA9IHBvaW50LmxhdGxuZztcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wb2ludFN0b3JlW2xhdExuZ1N0cmluZ10pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50U3RvcmVbbGF0TG5nU3RyaW5nXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IHRoaXMucmVuZGVyUG9pbnQocG9pbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1tsYXRMbmdTdHJpbmddLnBvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICBpZiAobUZpbHRlcikge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVtb3ZlTGF5ZXJzOiBMLkxheWVyW10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkUG9pbnRzID0gT2JqZWN0LnZhbHVlcyh0aGlzLnBvaW50cylcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKHtsYXllciwgcG9pbnR9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvd1BvaW50ID0gcG9pbnQucGxhY2VzLmZpbHRlcihtRmlsdGVyKS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvd1BvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dQb2ludDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlbW92ZUxheWVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya2Vycz8ucmVtb3ZlTGF5ZXJzKHJlbW92ZUxheWVycyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycz8uYWRkTGF5ZXJzKGZpbHRlcmVkUG9pbnRzLm1hcChwID0+IHAubGF5ZXIpKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5hZGRMYXllcnMoT2JqZWN0LnZhbHVlcyh0aGlzLnBvaW50cykubWFwKHAgPT4gcC5sYXllcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIHtcclxuICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nIGhlcmUsIGFzIHRoZSBtYXJrZXIgY2x1c3RlciBwbHVnaW4gaGFuZGxlcyB0aGlzIGZvciB1c1xyXG4gICAgICAgIC8vY29uc3QgcmVtb3ZlTWFya2VycyA9IHRoaXMubWFya2Vycy5nZXRMYXllcnMoKVxyXG4gICAgICAgIC8vICAgIC5maWx0ZXIoKGxheWVyOiBMLkNpcmNsZU1hcmtlcikgPT4gIWJvdW5kcy5jb250YWlucyhsYXllci5nZXRMYXRMbmcoKSkpXHJcbiAgICAgICAgLy87XHJcbiAgICAgICAgLy90aGlzLm1hcmtlcnMucmVtb3ZlTGF5ZXJzKHJlbW92ZU1hcmtlcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBvaW50KHBvaW50OiBQb2ludEFuZExvY2lkcyk6IEwuQ2lyY2xlTWFya2VyIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY2lyY2xlTWFya2VyTGF5ZXIgPSBMLmNpcmNsZU1hcmtlcihbIHBvaW50LmxhdCwgcG9pbnQubG5nIF0sIHtcclxuICAgICAgICAgICAgcmFkaXVzOiA1LFxyXG4gICAgICAgICAgICBmaWxsQ29sb3I6IHBvaW50LmNvbCA/IHBvaW50LmNvbFswXSA6IHVuZGVmaW5lZCwgLy90aGlzLmdldFBsYWNlQ29sb3VyKHBsYWNlKSxcclxuICAgICAgICAgICAgY29sb3I6IFwiIzAwMDAwMFwiLFxyXG4gICAgICAgICAgICB3ZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNpcmNsZU1hcmtlckxheWVyLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2snLCBldmVudCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNpcmNsZU1hcmtlckxheWVyLmJpbmRQb3B1cChcclxuICAgICAgICAgICAgKGxheWVyKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQXN5bmMgcmVuZGVyIHBvcHVwIGZyb20gcGxhY2VTdG9yZSBkYXRhXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlU3RvcmUuZ2V0UGxhY2VzKHBvaW50LmlkcykudGhlbigocGxhY2VzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9wdXAgPSB0aGlzLnJlbmRlclBvcHVwKHBsYWNlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuc2V0UG9wdXBDb250ZW50KHBvcHVwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBsb2FkaW5nIHBvcHVwIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRpbmdQb3B1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgbG9hZGluZ1BvcHVwLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwibG9hZGluZ1wiPkxvYWRpbmcuLi48L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkaW5nUG9wdXA7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhdXRvUGFuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYXV0b0Nsb3NlOiBmYWxzZSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNpcmNsZU1hcmtlckxheWVyLmJpbmRUb29sdGlwKFxyXG4gICAgICAgICAgICAobGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IHBvaW50LmFkZFswXTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChwb2ludC5hZGQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsICs9ICcgKCArICcgKyAocG9pbnQuYWRkLmxlbmd0aCAtIDEpICsgJyBtb3JlKSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHt9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gY2lyY2xlTWFya2VyTGF5ZXI7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBvcHVwKHBsYWNlczogTmJuUGxhY2VbXSkgOiBIVE1MRWxlbWVudCB7XHJcblxyXG4gICAgICAgIGlmIChwbGFjZXMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZUhhbmRsZXIucmVuZGVyUG9wdXBDb250ZW50KHBsYWNlc1swXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kb3JQb3B1cE11bHRpKHBsYWNlcyk7XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZW5kb3JQb3B1cE11bHRpKHBsYWNlczogTmJuUGxhY2VbXSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxhY2VDb250YWluZXJzOiBIVE1MRWxlbWVudFtdID0gW107XHJcblxyXG4gICAgICAgIHBsYWNlcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhLmFkZHJlc3MxIDwgYi5hZGRyZXNzMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhLmFkZHJlc3MxID4gYi5hZGRyZXNzMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHBsYWNlIG9mIHBsYWNlcykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlQ29sb3VyID0gdGhpcy5tb2RlSGFuZGxlci5wbGFjZUNvbG91cihwbGFjZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgQWNjb3JkaW9uIEJ1dHRvblxyXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlvbicpO1xyXG4gICAgICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xyXG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYDxzdmcgaGVpZ2h0PVwiMTVcIiB3aWR0aD1cIjE1XCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6M3B4XCI+YFxyXG4gICAgICAgICAgICAgICAgKyBgPGNpcmNsZSBjbGFzcz1cImNpcmNsZVwiIGN4PVwiNy41XCIgY3k9XCI5XCIgcj1cIjVcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIGZpbGw9XCIke3BsYWNlQ29sb3VyfVwiIC8+YFxyXG4gICAgICAgICAgICAgICAgKyBgPC9zdmc+YFxyXG4gICAgICAgICAgICAgICAgKyBgPHNwYW4+JHtwbGFjZS5hZGRyZXNzMX08L3NwYW4+YFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQWRkIFBhbmVsXHJcbiAgICAgICAgICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ3BhbmVsJyk7XHJcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKHRoaXMubW9kZUhhbmRsZXIucmVuZGVyUG9wdXBDb250ZW50KHBsYWNlKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgRXZlbnRzXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50bHlBY3RpdmUgPSBwbGFjZUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gYWxsIGJ1dHRvbnMgYW5kIHBhbmVsc1xyXG4gICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXJzLmZvckVhY2goKHBsYWNlQ29udGFpbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRseUFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgdG8gRE9NXHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHBhbmVsKTtcclxuICAgICAgICAgICAgZ3JvdXBEaXYuYXBwZW5kQ2hpbGQocGxhY2VDb250YWluZXIpO1xyXG4gICAgICAgICAgICBwbGFjZUNvbnRhaW5lcnMucHVzaChwbGFjZUNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGdyb3VwRGl2O1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICBnZXRQbGFjZUNvbG91cihwbGFjZTogTmJuUGxhY2UpIHtcclxuXHJcbiAgICAgICAgLyoqIEVFIERpc3BsYXkgTW9kZSAqL1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHMuZGlzcGxheU1vZGUuZGlzcGxheU1vZGUgPT0gJ2VlJykge1xyXG5cclxuICAgICAgICAgICAgaWYocGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfQ0JEX1pCQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYocGxhY2UuY2JkcHJpY2luZyAmJiAhcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG91ckVFX0NCRF9CQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoIXBsYWNlLmNiZHByaWNpbmcgJiYgcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG91ckVFX1oxMjNfWkJDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiAhcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG91ckVFX1oxMjNfQkM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJVbmtub3duO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xzLmRpc3BsYXlNb2RlLmRpc3BsYXlNb2RlID09ICd1cGdyYWRlJykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgc3dpdGNoIChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQcmV2aW91cyBUZWNoIERpc2Nvbm5lY3RlZCc6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ05ldyBUZWNoIENvbm5lY3RlZCcgOiByZXR1cm4gQ09MX1RFQ0hfQ09NUExFVEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdJbiBEZXNpZ24nOiByZXR1cm4gQ09MX1RFQ0hfREVTSUdOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQnVpbGQgRmluYWxpc2VkJzogcmV0dXJuIENPTF9URUNIX0JVSUxERklOQUxJU0VEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ29tbWl0dGVkJzogcmV0dXJuIENPTF9URUNIX0NPTU1JVFRFRDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0VsaWdpYmxlIFRvIE9yZGVyJzogcmV0dXJuIENPTF9URUNIX0FWQUlMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggRWxpZ2libGUgVG8gQXBwbHknOiByZXR1cm4gQ09MX1RFQ0hfTURVX0VMSUdJQkxFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnOiByZXR1cm4gQ09MX1RFQ0hfTURVX0lOQlVJTEQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJVbmtub3duO1xyXG4gICAgICAgIH0qL1xyXG4vKlxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBBdmFpbChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBBdmFpbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUFNvb24ocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRQU29vbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEZhcihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc0ZXdG9GVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQ0F2YWlsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRnd0b0ZUVE4ocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFROQjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzU2F0VG9GVyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZXQXZhaWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlICE9ICdOVUxMX05BJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnZXRUZWNoQ29sb3VyKHBsYWNlLnRlY2hUeXBlKTtcclxuICAgIH1cclxuKi9cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIHRoZSBpY29uIGZvciB0aGUgY2x1c3RlclxyXG4gICAgICogQHBhcmFtIGNsdXN0ZXIgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBpY29uQ3JlYXRlRnVuY3Rpb24oY2x1c3RlcjogTC5NYXJrZXJDbHVzdGVyKSA6IEwuRGl2SWNvblxyXG4gICAge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNvbG9yQXJyYXkgPSBjbHVzdGVyLmdldEFsbENoaWxkTWFya2VycygpLm1hcCgobWFya2VyKSA9PiAobWFya2VyIGFzIGFueSkub3B0aW9ucy5maWxsQ29sb3IpXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9yQ291bnRzOiB7W2NvbG9yOiBzdHJpbmddOiBudW1iZXJ9ID0ge307XHJcblxyXG4gICAgICAgIGNvbG9yQXJyYXkuZm9yRWFjaCgoY29sb3IpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFjb2xvckNvdW50c1tjb2xvcl0pIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yQ291bnRzW2NvbG9yXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JdKys7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9yQXJyYXlTb3J0ZWQgPSBPYmplY3Qua2V5cyhjb2xvckNvdW50cylcclxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGNvbG9yQ291bnRzW2JdIC0gY29sb3JDb3VudHNbYV0pXHJcbiAgICAgICAgO1xyXG5cclxuICAgICAgICBsZXQgYmFja2dyb3VuZCA9ICdiYWNrZ3JvdW5kOiBjb25pYy1ncmFkaWVudCgnXHJcblxyXG4gICAgICAgIGxldCBsYXN0Q29sb3VyUGVyY2VudCA9IDA7XHJcblxyXG4gICAgICAgIGNvbG9yQXJyYXlTb3J0ZWQuZm9yRWFjaCgoY29sb3IsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kICs9IFwiXFxuXCIgKyBjb2xvciArICcgMCUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRoaXNDb2xvdXJQZXJjZW50ID0gKGNvbG9yQ291bnRzW2NvbG9yXSAvIGNvbG9yQXJyYXkubGVuZ3RoICogMTAwKTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZCArPSBcIiwgXFxuXCIgKyBjb2xvciArICcgJyArIChsYXN0Q29sb3VyUGVyY2VudCkgKyAnJSc7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQgKz0gXCIsIFxcblwiICsgY29sb3IgKyAnICcgKyAobGFzdENvbG91clBlcmNlbnQrdGhpc0NvbG91clBlcmNlbnQpICsgJyUnO1xyXG4gICAgICAgICAgICBsYXN0Q29sb3VyUGVyY2VudCArPSB0aGlzQ29sb3VyUGVyY2VudDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYmFja2dyb3VuZCArPSBcIlxcbik7XCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmRvbUlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xyXG5cclxuICAgICAgICByZXR1cm4gTC5kaXZJY29uKHtcclxuICAgICAgICAgICAgaHRtbDogYDxzdHlsZT4jY2x1c3Rlcl8ke3JhbmRvbUlkfTo6YmVmb3JlIHsgJHtiYWNrZ3JvdW5kfSB9PC9zdHlsZT4gPGRpdiBpZD0nY2x1c3Rlcl8ke3JhbmRvbUlkfSc+PHNwYW4+YCArIGNsdXN0ZXIuZ2V0Q2hpbGRDb3VudCgpICsgJzwvc3Bhbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdtYXJrZXItY2x1c3RlcicsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbn0iLCJcclxuaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xyXG5pbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG5cclxuaW1wb3J0ICdsZWFmbGV0LmxvY2F0ZWNvbnRyb2wvZGlzdC9MLkNvbnRyb2wuTG9jYXRlLm1pbi5jc3MnXHJcbmltcG9ydCAnbGVhZmxldC5sb2NhdGVjb250cm9sJztcclxuXHJcbmltcG9ydCAnbGVhZmxldC1jb250cm9sLWdlb2NvZGVyL2Rpc3QvQ29udHJvbC5HZW9jb2Rlci5jc3MnO1xyXG5pbXBvcnQgeyBHZW9jb2RlciwgZ2VvY29kZXIsIGdlb2NvZGVycyB9IGZyb20gJ2xlYWZsZXQtY29udHJvbC1nZW9jb2Rlcic7XHJcblxyXG5pbXBvcnQgeyBOYm5QbGFjZSwgTmJuUGxhY2VBcGlSZXNwb25zZSwgTmJuVGVjaE1hcE9wdGlvbnMsIFBvaW50QW5kTG9jaWRzIH0gZnJvbSAnLi90eXBlcyc7XHJcbi8vaW1wb3J0IE1hcmtlckdyb3VwIGZyb20gJy4vbWFya2VyX2dyb3VwLmNsYXNzLnRzLmRldic7XHJcbi8vaW1wb3J0IENvbnRyb2xab29tV2FybmluZyBmcm9tICcuL2NvbnRyb2xfem9vbV93YXJuaW5nLmNsYXNzJztcclxuLy9pbXBvcnQgQ29udHJvbEZpbHRlciBmcm9tICcuL2NvbnRyb2xfZmlsdGVyLmNsYXNzJztcclxuXHJcbmltcG9ydCBJQXBpIGZyb20gJy4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlJztcclxuaW1wb3J0IElNYXJrZXJMYXllciBmcm9tICcuL2ludGVyZmFjZXMvbWFya2VybGF5ZXIuaW50ZXJmYWNlJztcclxuaW1wb3J0IE1hcmtlckxheWVyQ2x1c3RlciBmcm9tICcuL21hcmtlcmxheWVyL21hcmtlcmxheWVyLmNsdXN0ZXIuY2xhc3MnO1xyXG5pbXBvcnQgSUNvbnRyb2wgZnJvbSAnLi9pbnRlcmZhY2VzL2NvbnRyb2wuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgaXNEZWJ1Z01vZGUgfSBmcm9tICcuL3V0aWxzJztcclxuaW1wb3J0IElNb2RlIGZyb20gJy4vaW50ZXJmYWNlcy9tb2RlLmludGVyZmFjZSc7XHJcblxyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgSVBsYWNlU3RvcmUgZnJvbSAnLi9pbnRlcmZhY2VzL3BsYWNlc3RvcmUuaW50ZXJmYWNlJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuZEJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKTogTC5MYXRMbmdCb3VuZHMge1xyXG4gICAgY29uc3Qgbm9ydGggPSBNYXRoLmNlaWwoYm91bmRzLmdldE5vcnRoKCkgKiA1MCkgLyA1MDtcclxuICAgIGNvbnN0IHdlc3QgPSBNYXRoLmZsb29yKGJvdW5kcy5nZXRXZXN0KCkgKiAyNSkgLyAyNTtcclxuICAgIGNvbnN0IHNvdXRoID0gTWF0aC5mbG9vcihib3VuZHMuZ2V0U291dGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgY29uc3QgZWFzdCA9IE1hdGguY2VpbChib3VuZHMuZ2V0RWFzdCgpICogMjUpIC8gMjU7XHJcbiAgICByZXR1cm4gTC5sYXRMbmdCb3VuZHMoW3NvdXRoLCB3ZXN0XSwgW25vcnRoLCBlYXN0XSk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYm5UZWNoTWFwIHtcclxuXHJcbiAgICBwcml2YXRlIE1BWF9VTkZFVENIRURfQk9YRVMgPSAxMDA7XHJcblxyXG4gICAgcHJpdmF0ZSBsb2dnZXIgPSBuZXcgTG9nZ2VyKCdOYm5UZWNoTWFwJyk7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfT1BUSU9OUzogUGFydGlhbDxOYm5UZWNoTWFwT3B0aW9ucz4gPSB7XHJcbiAgICAgICAgbWFwQ29udGFpbmVySWQ6ICdtYXAnLFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHttYXB9IC0gTGVhZmxldCBtYXAgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcDogTC5NYXA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcFRpbGVMYXllcn0gLSBMZWFmbGV0IG1hcCB0aWxlIGxheWVyLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcFRpbGVMYXllcjogTC5UaWxlTGF5ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge2FwaX0gLSBBUEkgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFwaTogSUFwaTtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBtYXBMb2NhdGU6IEwuQ29udHJvbC5Mb2NhdGU7XHJcbiAgICBwcml2YXRlIG1hcFNlYXJjaDogR2VvY29kZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge3BsYWNlU3RvcmV9IC0gUGxhY2Ugc3RvcmUgbmJuIHBsYWNlcy5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBwbGFjZVN0b3JlOiBJUGxhY2VTdG9yZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFya2VyTGF5ZXJ9IC0gTGF5ZXIgdG8gaG9sZCBtYXJrZXJzXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFya2VyTGF5ZXI6IElNYXJrZXJMYXllcjtcclxuXHJcbiAgICBwcml2YXRlIG1vZGVIYW5kbGVyOiBJTW9kZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHsqfSBvcHRpb25zIFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBOYm5UZWNoTWFwT3B0aW9ucykge1xyXG5cclxuICAgICAgICBvcHRpb25zID0geyAuLi5OYm5UZWNoTWFwLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xyXG5cclxuICAgICAgICB0aGlzLmxvZ2dlci5zdWIoJ2NvbnN0cnVjdG9yJykuZGVidWcoJ09wdGlvbnMnLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5hcGkgPSBvcHRpb25zLmFwaTtcclxuICAgICAgICB0aGlzLnBsYWNlU3RvcmUgPSBvcHRpb25zLnBsYWNlc3RvcmU7XHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG9wdGlvbnMuZGVmYXVsdE1vZGVIYW5kbGVyO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIG1hcFxyXG4gICAgICAgIHRoaXMubWFwID0gTC5tYXAob3B0aW9ucy5tYXBDb250YWluZXJJZCwgeyBwcmVmZXJDYW52YXM6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCB0aGUgbWFya2VyIGxheWVyXHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllciA9IG5ldyBNYXJrZXJMYXllckNsdXN0ZXIoXHJcbiAgICAgICAgICAgIHRoaXMubWFwLCB0aGlzLm1vZGVIYW5kbGVyLCB0aGlzLnBsYWNlU3RvcmVcclxuICAgICAgICApXHJcblxyXG4gICAgICAgIC8vIFNldCB1cCB0aGUgT1NNIGxheWVyXHJcbiAgICAgICAgdGhpcy5tYXBUaWxlTGF5ZXIgPSBMLnRpbGVMYXllcignaHR0cHM6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL3Jhc3RlcnRpbGVzL3ZveWFnZXIve3p9L3t4fS97eX17cn0ucG5nJywge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb25zXCI+Q0FSVE88L2E+JyxcclxuICAgICAgICAgICAgc3ViZG9tYWluczogJ2FiY2QnLFxyXG4gICAgICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZSxcclxuICAgICAgICAgICAgbWluWm9vbTogNSxcclxuICAgICAgICAgICAgbWF4Wm9vbTogMjBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBsYXllciB0byB0aGUgbWFwXHJcbiAgICAgICAgdGhpcy5tYXBUaWxlTGF5ZXIuYWRkVG8odGhpcy5tYXApO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh7IEwsIEdlb2NvZGVyLCBnZW9jb2RlciB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGdlb2NvZGVyIGNvbnRyb2xcclxuICAgICAgICBjb25zdCBtYXBHZW9jb2RlciA9IG5ldyBnZW9jb2RlcnMuQXJjR2lzKHtcclxuICAgICAgICAgICAgYXBpS2V5OiAnQUFQS2E5N2I4YTUzNzRkYjRmYTliMGZkZDhlNTUzNjFjYmE0WjlmRXV3M2NrQU9JRkhLMUNQX1ZielR2M09UZVV6M2dnckZBelZQemp5bjNRN2JRRnpid2tETXZEeGFKLUp6RycsXHJcbiAgICAgICAgICAgIGdlb2NvZGluZ1F1ZXJ5UGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogJ0FVJyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnQWRkcmVzcyxMYXRMb25nLE5laWdoYm9yaG9vZCxEaXN0cmljdCxDaXR5LE1ldHJvIEFyZWEnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBTZWFyY2ggPSAoTC5Db250cm9sIGFzIHVua25vd24gYXMgeyBnZW9jb2RlcjogdHlwZW9mIGdlb2NvZGVyIH0pLmdlb2NvZGVyKHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcclxuICAgICAgICAgICAgY29sbGFwc2VkOiB0cnVlLFxyXG4gICAgICAgICAgICBkZWZhdWx0TWFya0dlb2NvZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBnZW9jb2RlcjogbWFwR2VvY29kZXIsXHJcbiAgICAgICAgICAgIHN1Z2dlc3RNaW5MZW5ndGg6IDUsXHJcbiAgICAgICAgICAgIHN1Z2dlc3RUaW1lb3V0OiAxMDAwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcFNlYXJjaC5vbignbWFya2dlb2NvZGUnLCAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBiYm94ID0gZXZlbnQuZ2VvY29kZS5iYm94O1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5maXRCb3VuZHMoYmJveCwge1xyXG4gICAgICAgICAgICAgICAgJ21heFpvb20nOiAxNixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubWFwU2VhcmNoLmFkZFRvKHRoaXMubWFwKTtcclxuXHJcblxyXG4gICAgICAgIC8vIEFkZCBsb2NhdGUgY29udHJvbFxyXG4gICAgICAgIHRoaXMubWFwTG9jYXRlID0gTC5jb250cm9sLmxvY2F0ZSh7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXHJcbiAgICAgICAgICAgIGxvY2F0ZU9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIG1heFpvb206IDE2XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldFZpZXc6ICd1bnRpbFBhbicsXHJcbiAgICAgICAgICAgIGtlZXBDdXJyZW50Wm9vbUxldmVsOiB0cnVlLFxyXG4gICAgICAgICAgICBpbml0aWFsWm9vbUxldmVsOiAxNyxcclxuICAgICAgICAgICAgY2FjaGVMb2NhdGlvbjogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1hcExvY2F0ZS5hZGRUbyh0aGlzLm1hcCk7XHJcbiAgICAgICAgdGhpcy5tYXAub24oJ2xvY2F0ZWFjdGl2YXRlJywgKCkgPT4geyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2VvbG9jYXRlJywgJzEnKTsgfSk7XHJcbiAgICAgICAgdGhpcy5tYXAub24oJ2xvY2F0ZWRlYWN0aXZhdGUnLCAoKSA9PiB7IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdnZW9sb2NhdGUnKTsgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0SW5pdGlhbE1hcFZpZXcoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBzdG9yZSBtYXAgcG9zaXRpb24gd2hlbiBtb3ZlZCBvciB6b29tZWRcclxuICAgICAgICB0aGlzLm1hcC5vbignbW92ZWVuZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHpvb20gPSB0aGlzLm1hcC5nZXRab29tKCk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzdGFydHBvcycsIEpTT04uc3RyaW5naWZ5KHsgbGF0OiBjZW50ZXIubGF0LCBsbmc6IGNlbnRlci5sbmcsIHpvb20gfSkpO1xyXG4gICAgICAgICAgICB0aGlzLnB1c2hCcm93c2VySGlzdG9yeSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1hcEdlb2NvZGVyLm9wdGlvbnMuZ2VvY29kaW5nUXVlcnlQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgIG1hcEdlb2NvZGVyLm9wdGlvbnMuZ2VvY29kaW5nUXVlcnlQYXJhbXMubG9jYXRpb24gPSBgJHtjZW50ZXIubG5nfSwke2NlbnRlci5sYXR9YDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9hd2FpdCB0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLmZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKTtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgICAgICBjb25zdCBsYXQgPSB1cmxQYXJhbXMuZ2V0KCdsYXQnKTtcclxuICAgICAgICAgICAgY29uc3QgbG5nID0gdXJsUGFyYW1zLmdldCgnbG5nJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHpvb20gPSB1cmxQYXJhbXMuZ2V0KCd6b29tJyk7XHJcbiAgICAgICAgICAgIGlmIChsYXQgJiYgbG5nICYmIHpvb20pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyBOdW1iZXIobGF0KSwgTnVtYmVyKGxuZykgXSwgcGFyc2VJbnQoem9vbSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHB1c2hCcm93c2VySGlzdG9yeSgpIHtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIFVSTCB3aXRoIGxhdCxsbmcsem9vbVxyXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgIGNvbnN0IHpvb20gPSB0aGlzLm1hcC5nZXRab29tKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgdXJsUGFyYW1zLnNldCgnbGF0JywgY2VudGVyLmxhdC50b1N0cmluZygpKTtcclxuICAgICAgICB1cmxQYXJhbXMuc2V0KCdsbmcnLCBjZW50ZXIubG5nLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHVybFBhcmFtcy5zZXQoJ3pvb20nLCB6b29tLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnN0IG5ld1VybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArICc/JyArIHVybFBhcmFtcy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCBuZXdVcmwpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0U3RhcnRQb3MoKSA6IHsgbGF0OiBudW1iZXIsIGxuZzogbnVtYmVyLCB6b29tOiBudW1iZXIgfSB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0YXJ0cG9zJyk7XHJcbiAgICAgICAgaWYgKCFzdGFydFBvc1N0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RhcnRQb3NTdHJpbmcpIGFzIHsgbGF0OiBudW1iZXIsIGxuZzogbnVtYmVyLCB6b29tOiBudW1iZXIgfTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0aWFsVmlld1NldCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBzZXRJbml0aWFsTWFwVmlldygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuc3ViKCdzZXRJbml0aWFsTWFwVmlldycpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pbml0aWFsVmlld1NldCkge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybignSW5pdGlhbCBtYXAgdmlldyBhbHJlYWR5IHNldCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBsYXQsbG5nLHpvb20gYXJlIGluIFVSTCwgc2V0IG1hcCB0byB0aGF0XHJcbiAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICBjb25zdCBsYXQgPSB1cmxQYXJhbXMuZ2V0KCdsYXQnKTtcclxuICAgICAgICBjb25zdCBsbmcgPSB1cmxQYXJhbXMuZ2V0KCdsbmcnKTtcclxuICAgICAgICBjb25zdCB6b29tID0gdXJsUGFyYW1zLmdldCgnem9vbScpO1xyXG4gICAgICAgIGlmIChsYXQgJiYgbG5nICYmIHpvb20pIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhbIE51bWJlcihsYXQpLCBOdW1iZXIobG5nKSBdLCBwYXJzZUludCh6b29tKSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBnZW9GbGFnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dlb2xvY2F0ZScpO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zID0gdGhpcy5nZXRTdGFydFBvcygpO1xyXG5cclxuICAgICAgICAvLyBJZiBsb2NhbCBzdG9yYWdlIGNvbnRhaW5zIGxhc3QgbWFwIHBvc2l0aW9uLCBzZXQgbWFwIHRvIHRoYXRcclxuICAgICAgICBpZiAoc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhbIHN0YXJ0UG9zLmxhdCwgc3RhcnRQb3MubG5nIF0sIHN0YXJ0UG9zLnpvb20pO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCB0byBBdXN0cmFsaWEgaWYgbm8gc3RhcnQgcG9zaXRpb25cclxuICAgICAgICBpZiAoIXN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyAtMjYuMTc3MjI4OCwgMTMzLjQxNzAxMTkgXSwgMTApO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGxvY2FsIHN0b3JhZ2UgY29udGFpbnMgZ2VvbG9jYXRlIGZsYWdcclxuICAgICAgICAvLyBvciwgaWYgbm8gc3RhcnQgcG9zaXRpb24sIHN0YXJ0IGdlb2xvY2F0aW9uXHJcbiAgICAgICAgaWYgKGdlb0ZsYWcgfHwgIXN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwTG9jYXRlLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFpvb20oMTcpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsVmlld1NldCkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0NvdWxkIG5vdCBzZXQgaW5pdGlhbCBtYXAgdmlldycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZWJ1Z0JveGVzOiBMLlJlY3RhbmdsZVtdID0gW107XHJcbiAgICBnZXRCb3hlc0luQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpOiBMLkxhdExuZ0JvdW5kc1tdIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gU3RhcnRpbmcgcG9pbnQgc2hvdWxkIGJlIHRoZSBub3J0aC13ZXN0IGNvcm5lciBvZiB0aGUgbWFwIHJvdW5kZWQgYmV5b25kIHRoZSBtYXAgYm91bmRzXHJcbiAgICAgICAgLy8gTGF0aXR1ZGUgaXMgcm91bmRlZCB0byAyIGRlY2ltYWwgcGxhY2VzIG11bHRpcGxlIG9mIDAuMDJcclxuICAgICAgICAvLyBMb25naXR1ZGUgaXMgcm91bmRlZCB0byAyIGRlY2ltYWwgcGxhY2VzIG11bHRpcGxlIG9mIDAuMDJcclxuICAgICAgICBjb25zdCBub3J0aG1vc3QgPSBNYXRoLmNlaWwoYm91bmRzLmdldE5vcnRoKCkgLyAwLjAyKSAqIDAuMDI7XHJcbiAgICAgICAgY29uc3Qgd2VzdG1tb3N0ID0gTWF0aC5mbG9vcihib3VuZHMuZ2V0V2VzdCgpIC8gMC4wMikgKiAwLjAyO1xyXG5cclxuICAgICAgICAvLyBzcGxpdCBtYXAgaW50byBib3hlcyBzdGFydGluZyBmcm9tIG5vcnRoLXdlc3QgY29ybmVyXHJcbiAgICAgICAgLy8gZWFjaCBib3ggc2hvdWxkIGJlIDAuMDIgZGVncmVlcyBsYXRpdHVkZSBieSAwLjAyIGRlZ3JlZXMgbG9uZ2l0dWRlXHJcbiAgICAgICAgY29uc3QgYm94ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBsYXRpdHVkZSA9IG5vcnRobW9zdDsgbGF0aXR1ZGUgPiBib3VuZHMuZ2V0U291dGgoKTsgbGF0aXR1ZGUgLT0gMC4wMikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBsb25naXR1ZGUgPSB3ZXN0bW1vc3Q7IGxvbmdpdHVkZSA8IGJvdW5kcy5nZXRFYXN0KCk7IGxvbmdpdHVkZSArPSAwLjAyKSB7XHJcbiAgICAgICAgICAgICAgICBib3hlcy5wdXNoKFtOdW1iZXIobGF0aXR1ZGUudG9GaXhlZCgyKSksIE51bWJlcihsb25naXR1ZGUudG9GaXhlZCgyKSldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0JvdW5kcycsIGJvdW5kcyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdCb3hlcycsIGJveGVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hcCBlYWNoIGJveCBpbnRvIGEgYm91bmRzIG9iamVjdFxyXG4gICAgICAgIGNvbnN0IGJveEJvdW5kcyA9IGJveGVzLm1hcChib3ggPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3J0aCA9IGJveFswXTtcclxuICAgICAgICAgICAgY29uc3Qgd2VzdCA9IGJveFsxXTtcclxuICAgICAgICAgICAgY29uc3Qgc291dGggPSBub3J0aCAtIDAuMDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGVhc3QgPSB3ZXN0ICsgMC4wMjtcclxuICAgICAgICAgICAgcmV0dXJuIEwubGF0TG5nQm91bmRzKFtzb3V0aCwgd2VzdF0sIFtub3J0aCwgZWFzdF0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBEcmF3IGJveGVzIG9uIG1hcCBpZiBkZWJ1ZyBtb2RlXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0JveGVzLmZvckVhY2goYm94ID0+IHRoaXMubWFwLnJlbW92ZUxheWVyKGJveCkpO1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnQm94ZXMgPSBib3hCb3VuZHMubWFwKGJveCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTC5yZWN0YW5nbGUoYm94LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzAwMDAwMFwiLCB3ZWlnaHQ6IDIsIGZpbGxDb2xvcjogJyNmZjc4MDAnLCBmaWxsT3BhY2l0eTogMC4wMSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBib3hCb3VuZHM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggYm94ZXMgdGhhdCBhcmUgdmlzaWJsZSBvbiB0aGUgbWFwXHJcbiAgICAgKi9cclxuICAgIGdldEN1cnJlbnRWaWV3Qm94ZXMoKTogTC5MYXRMbmdCb3VuZHNbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEJveGVzSW5Cb3VuZHModGhpcy5tYXAuZ2V0Qm91bmRzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGlkZSBtYXJrZXJzIHRoYXQgYXJlIG91dHNpZGUgdGhlIG1hcCBib3VuZHNcclxuICAgICAqL1xyXG4gICAgaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXcoKSB7XHJcbiAgICAgICAgY29uc3QgbWFwQm91bmRzID0gdGhpcy5tYXAuZ2V0Qm91bmRzKCkucGFkKDAuNSk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5yZW1vdmVNYXJrZXJzT3V0c2lkZUJvdW5kcyhtYXBCb3VuZHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzcGxheSBtYXJrZXJzIHRoYXQgYXJlIGluc2lkZSB0aGUgbWFwIGJvdW5kc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBERVBfZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KGF0dGVtcHQ6IG51bWJlciA9IDEpIHtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodGhpcy5kYXRhc3RvcmUuaXNSZWFkeSgpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGF0dGVtcHQgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGdldCBkYXRhc3RvcmUgcmVhZHkuIEdpdmluZyB1cC4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEYXRhc3RvcmUgaXMgbm90IHJlYWR5LiBEZWxheWluZyBkaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKScpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KGF0dGVtcHQrMSksIDEwMDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnRGlzcGxheWluZyBtYXJrZXJzIGluIGN1cnJlbnQgdmlldycpO1xyXG4gICAgICAgIGNvbnN0IG1hcEJvdW5kcyA9IHJvdW5kQm91bmRzKHRoaXMubWFwLmdldEJvdW5kcygpKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgZnJvbSBEYXRhc3RvcmUnLCBtYXBCb3VuZHMpO1xyXG4gICAgICAgIC8vIHRoaXMucmVmcmVzaFBvaW50c0Zyb21TdG9yZShtYXBCb3VuZHMpO1xyXG4gICAgICAgICovXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB6b29tSW5XYXJuaW5nQ29udHJvbD86IEwuQ29udHJvbDtcclxuXHJcbiAgICBzaG93Wm9vbUluV2FybmluZygpIHtcclxuICAgICAgICBpZighdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbCkge1xyXG4gICAgICAgICAgICB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sID0gbmV3IEwuQ29udHJvbCh7IHBvc2l0aW9uOiAndG9wcmlnaHQnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sLm9uQWRkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2luZm8gbGVnZW5kJyk7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gJzxoNCBzdHlsZT1cIm1hcmdpbjowXCI+QXJlYSBUb28gQmlnITwvaDQ+JztcclxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgKz0gJzxwIHN0eWxlPVwibWFyZ2luOjBcIj5Mb2NhdGlvbiBsb2FkaW5nIGlzIHBhdXNlZCB1bnRpbCB5b3Ugem9vbSBpbi48L3A+JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmOTgwMCc7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xyXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMTBweCAyMHB4JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjZmZmZmZmJztcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgem9vbUluV2FybmluZ0NvbnRyb2wgPSB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5tYXAuYWRkQ29udHJvbCh6b29tSW5XYXJuaW5nQ29udHJvbCksIDEwMDApO1xyXG4gICAgfVxyXG4gICAgaGlkZVpvb21Jbldhcm5pbmcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuem9vbUluV2FybmluZ0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAucmVtb3ZlQ29udHJvbCh0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmZXRjaGVkQm94ZXM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggZGF0YSBmb3IgY3VycmVudCBtYXAgdmlld1xyXG4gICAgICovXHJcbiAgICBhc3luYyBmZXRjaERhdGFGb3JDdXJyZW50VmlldygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuc3ViKCdmZXRjaERhdGFGb3JDdXJyZW50VmlldycpO1xyXG5cclxuICAgICAgICAvL3RoaXMuaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXcoKTtcclxuICAgICAgICAvL3RoaXMuZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hcC5nZXRab29tKCkgPCAxMSkge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybignWm9vbSBsZXZlbCB0b28gbG93LiBTa2lwcGluZy4nKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93Wm9vbUluV2FybmluZygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgYm94ZXMgdGhhdCBhcmUgY3VycmVudGx5IHZpc2libGVcclxuICAgICAgICBjb25zdCBib3hlcyA9IHRoaXMuZ2V0Q3VycmVudFZpZXdCb3hlcygpO1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQ3VycmVudCB2aWV3IGJveGVzJywgYm94ZXMpO1xyXG5cclxuICAgICAgICAvLyBGaWx0ZXIgb3V0IGJveGVzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gZmV0Y2hlZFxyXG4gICAgICAgIGNvbnN0IHVuZmV0Y2hlZEJveGVzID0gYm94ZXMuZmlsdGVyKGJveCA9PiAhdGhpcy5mZXRjaGVkQm94ZXMuaGFzKGJveC5nZXRDZW50ZXIoKS50b1N0cmluZygpKSk7XHJcblxyXG4gICAgICAgIC8vIElmIG5vIGJveGVzIHRvIGZldGNoLCByZXR1cm5cclxuICAgICAgICBpZiAodW5mZXRjaGVkQm94ZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlWm9vbUluV2FybmluZygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEb24ndCBmZXRjaCBib3hlcyBpZiBtb3JlIHRoYW4gNTBcclxuICAgICAgICBpZiAodW5mZXRjaGVkQm94ZXMubGVuZ3RoID4gdGhpcy5NQVhfVU5GRVRDSEVEX0JPWEVTKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdUb28gbWFueSBib3hlcyB0byBmZXRjaC4gU2tpcHBpbmcuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1pvb21Jbldhcm5pbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGlkZSB6b29tIGluIHdhcm5pbmdcclxuICAgICAgICB0aGlzLmhpZGVab29tSW5XYXJuaW5nKCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cGRhdGUga2V5XHJcbiAgICAgICAgY29uc3QgdXBkYXRlS2V5ID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCkudG9TdHJpbmcoKSArIHRoaXMubWFwLmdldFpvb20oKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHByb2dyZXNzIGl0ZW1cclxuICAgICAgICBjb25zdCBwcm9ncmVzc0l0ZW0gPSB0aGlzLmNyZWF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgdW5mZXRjaGVkQm94ZXMubGVuZ3RoLCAnRmV0Y2hpbmcgc2VjdGlvbnMuLi4nKTtcclxuICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzKCk7XHJcblxyXG4gICAgICAgIGxldCBib3hlc1Byb2Nlc3NlZCA9IDA7XHJcblxyXG4gICAgICAgIC8vIEZvciBlYWNoIGJveCwgZmV0Y2ggZGF0YVxyXG4gICAgICAgIGZvciAoY29uc3QgYm94IG9mIHVuZmV0Y2hlZEJveGVzKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXAuZ2V0Q2VudGVyKCkudG9TdHJpbmcoKSArIHRoaXMubWFwLmdldFpvb20oKSAhPSB1cGRhdGVLZXkpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnTWFwIG1vdmVkLiBGZXRjaCBzdG9wcGVkLicpO1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NJdGVtLnRleHQgPSAnTWFwIG1vdmVkLiBGZXRjaCBzdG9wcGVkLic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXNQcm9jZXNzZWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmZldGNoRGF0YShib3gpO1xyXG4gICAgICAgICAgICB0aGlzLmZldGNoZWRCb3hlcy5hZGQoYm94LmdldENlbnRlcigpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBib3hlc1Byb2Nlc3NlZCsrO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXNQcm9jZXNzZWQsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXNQcm9jZXNzZWQsIHRydWUpO1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQWxsIGJveGVzIGZldGNoZWQnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwcm9ncmVzc0NvbnRyb2wgPSBuZXcgTC5Db250cm9sKHsgcG9zaXRpb246ICdib3R0b21sZWZ0JyB9KTtcclxuICAgIHByaXZhdGUgcHJvZ3Jlc3NJdGVtczoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IHtcclxuICAgICAgICAgICAgc3RhcnRlZDogRGF0ZSxcclxuICAgICAgICAgICAgZmluaXNoZWQ/OiBEYXRlLFxyXG4gICAgICAgICAgICB0ZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBib29sZWFuLFxyXG4gICAgICAgICAgICBwcm9ncmVzczogbnVtYmVyLFxyXG4gICAgICAgICAgICB0b3RhbDogbnVtYmVyLFxyXG4gICAgICAgIH1cclxuICAgIH0gPSB7fTtcclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVByb2dyZXNzKGtleTogc3RyaW5nLCB0b3RhbDogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICAvLyBDcmVhdGUgbmV3IGl0ZW1cclxuICAgICAgICB0aGlzLnByb2dyZXNzSXRlbXNba2V5XSA9IHtcclxuICAgICAgICAgICAgc3RhcnRlZDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgZmluaXNoZWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgY29tcGxldGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcclxuICAgICAgICAgICAgdG90YWwsIHRleHRcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlUHJvZ3Jlc3Moa2V5OiBzdHJpbmcsIHByb2dyZXNzOiBudW1iZXIsIGNvbXBsZXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyZXNzSXRlbXNba2V5XSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2dyZXNzIGl0ZW0gd2l0aCBrZXkgJHtrZXl9IGRvZXMgbm90IGV4aXN0YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLmZpbmlzaGVkID0gY29tcGxldGUgPyBuZXcgRGF0ZSgpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLmNvbXBsZXRlID0gY29tcGxldGU7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0ucHJvZ3Jlc3MgPSBwcm9ncmVzcztcclxuICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXJQcm9ncmVzcygpIHtcclxuXHJcbiAgICAgICAgLy8gRGVsZXRlIGl0ZW1zIGZpbmlzaGVkIG1vcmUgdGhhbiA1IHNlY29uZHMgYWdvXHJcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5wcm9ncmVzc0l0ZW1zKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnByb2dyZXNzSXRlbXNba2V5XSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbmlzaGVkID0gdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0uZmluaXNoZWQ7XHJcbiAgICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChub3cuZ2V0VGltZSgpIC0gZmluaXNoZWQuZ2V0VGltZSgpKSA+IDUwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIG5vIGl0ZW1zLCBoaWRlIHByb2dyZXNzXHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMucHJvZ3Jlc3NJdGVtcykubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlUHJvZ3Jlc3MoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVuZGVyIHByb2dyZXNzXHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0NvbnRyb2wub25BZGQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdpbmZvIGxlZ2VuZCcpO1xyXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gJzxoNCBzdHlsZT1cIm1hcmdpbjowXCI+TG9hZGluZy4uLjwvaDQ+JztcclxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBPYmplY3QudmFsdWVzKHRoaXMucHJvZ3Jlc3NJdGVtcyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgIC8vIHNraXAgaXRlbSBpZiBmaW5pc2hlZCBtb3JlIHRoYW4gMTAgc2Vjb25kcyBhZ29cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmZpbmlzaGVkICYmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGl0ZW0uZmluaXNoZWQuZ2V0VGltZSgpID4gMTAwMDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGl0ZW0ucHJvZ3Jlc3MgLyBpdGVtLnRvdGFsICogMTAwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NUZXh0ID0gaXRlbS5jb21wbGV0ZSA/ICdDb21wbGV0ZScgOiBgJHtpdGVtLnByb2dyZXNzfSBvZiAke2l0ZW0udG90YWx9YDtcclxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgKz0gYDxwIHN0eWxlPVwibWFyZ2luOjBcIj4ke2l0ZW0udGV4dH0gKCR7cHJvZ3Jlc3NUZXh0fSk8L3A+YDtcclxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgKz0gYDxwcm9ncmVzcyB2YWx1ZT1cIiR7cHJvZ3Jlc3N9XCIgbWF4PVwiMTAwXCI+PC9wcm9ncmVzcz5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzAwMDAwMCc7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5vcGFjaXR5ID0gJzAuOCc7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wYWRkaW5nID0gJzEwcHggMjBweCc7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjZmZmZmZmJztcclxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCBwcm9ncmVzcyB0byBtYXBcclxuICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKHRoaXMucHJvZ3Jlc3NDb250cm9sKTtcclxuXHJcbiAgICAgICAgLy8gSGlkZSBwcm9ncmVzcyBhZnRlciA1IHNlY29uZHMgaWYgYWxsIGNvbXBsZXRlXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3QudmFsdWVzKHRoaXMucHJvZ3Jlc3NJdGVtcykuZXZlcnkoaXRlbSA9PiBpdGVtLmNvbXBsZXRlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlUHJvZ3Jlc3MoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDUwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGlkZVByb2dyZXNzKCkge1xyXG4gICAgICAgIHRoaXMubWFwLnJlbW92ZUNvbnRyb2wodGhpcy5wcm9ncmVzc0NvbnRyb2wpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZldGNoRGF0YShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLCBwYWdlOiBudW1iZXIgPSAxXHJcbiAgICApIDogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLnN1YignZmV0Y2hEYXRhJyk7XHJcblxyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnRmV0Y2hpbmcgQm94JywgYm91bmRzLmdldENlbnRlcigpLnRvU3RyaW5nKCksIHBhZ2UpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuYXBpLmZldGNoUGFnZShib3VuZHMsIHBhZ2UsICgpID0+IHRoaXMubWFwLmdldEJvdW5kcygpLmludGVyc2VjdHMoYm91bmRzKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NGZXRjaFJlc3VsdChkYXRhLCBib3VuZHMpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeyBwYWdlOiBjdXJyZW50UGFnZSwgdG90YWxQYWdlcyB9ID0gZGF0YTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlIDwgdG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hEYXRhKGJvdW5kcywgZGF0YS5wYWdlICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PSAnUGFnZSBhbHJlYWR5IGxvYWRlZCB0aGlzIHNlc3Npb24uJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb2Nlc3MgUmVzdWx0cyBGZXRjaGVkIGZyb20gQVBJXHJcbiAgICAgKiBTdG9yZXMgcGxhY2VzIGluIHBsYWNlIHN0b3JlXHJcbiAgICAgKiBTZW5kcyBwb2ludHMgdG8gbWFya2VyIGxheWVyXHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0IFxyXG4gICAgICogQHBhcmFtIGJvdW5kcyBcclxuICAgICAqL1xyXG4gICAgcHJvY2Vzc0ZldGNoUmVzdWx0KHJlc3VsdDogTmJuUGxhY2VBcGlSZXNwb25zZSwgYm91bmRzOiBMLkxhdExuZ0JvdW5kcykge1xyXG5cclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ3Byb2Nlc3NGZXRjaFJlc3VsdCcpO1xyXG5cclxuICAgICAgICBsb2dnZXIuZGVidWcoJ1Byb2Nlc3NpbmcgRmV0Y2ggUmVzdWx0JywgcmVzdWx0LCBib3VuZHMpO1xyXG5cclxuICAgICAgICAvLyBTdG9yZSBwbGFjZXNcclxuICAgICAgICB0aGlzLnBsYWNlU3RvcmUuc3RvcmVQbGFjZXMocmVzdWx0LnBsYWNlcylcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0b3JpbmcgcGxhY2VzJywgZXJyb3IpKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRlbXAgc3RvcmFnZSBmb3IgcG9pbnRzXHJcbiAgICAgICAgY29uc3QgcG9pbnRzOiBNYXA8c3RyaW5nLCBQb2ludEFuZExvY2lkcz4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBwbGFjZSBsb2NpZHMgdG8gcG9pbnRzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQucGxhY2VzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFjZSA9IHJlc3VsdC5wbGFjZXNbaV07XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZUhhbmRsZXIuZmlsdGVyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxhdExuZyA9IGAke3BsYWNlLmxhdGl0dWRlfSwke3BsYWNlLmxvbmdpdHVkZX1gO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb2xvdXIgPSB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBwb2ludCBpZiBub3QgYWxyZWFkeSB0aGVyZVxyXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1BvaW50ID0gcG9pbnRzLmdldChsYXRMbmcpO1xyXG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50cy5zZXQobGF0TG5nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBwbGFjZS5sYXRpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICBsbmc6IHBsYWNlLmxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2w6IFsgcGxhY2VDb2xvdXIgXSxcclxuICAgICAgICAgICAgICAgICAgICBhZGQ6IFsgcGxhY2UuYWRkcmVzczEgXSxcclxuICAgICAgICAgICAgICAgICAgICBpZHM6IFsgcGxhY2UuaWQgXSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGxvY2lkIHRvIHBvaW50IGlmIG5vdCBhbHJlYWR5IHRoZXJlXHJcbiAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nUG9pbnQuaWRzLmluY2x1ZGVzKHBsYWNlLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUG9pbnQuaWRzLnB1c2gocGxhY2UuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUG9pbnQuYWRkLnB1c2gocGxhY2UuYWRkcmVzczEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUG9pbnQuY29sLnB1c2gocGxhY2VDb2xvdXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VuZCBwb2ludHMgdG8gbWFya2VyIGxheWVyXHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdBZGRpbmcgcG9pbnRzIHRvIG1hcmtlciBsYXllcicsIHBvaW50cyk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5hZGRQb2ludHMocG9pbnRzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgREVQUl9yZWZyZXNoUG9pbnRzRnJvbVN0b3JlKGJvdW5kcz86IEwuTGF0TG5nQm91bmRzKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5tYXJrZXJMYXllcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcmtlciBMYXllciBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBib3VuZHMgYXJlIG5vdCBwYXNzZWQsIHVzZSBtYXAgYm91bmRzXHJcbiAgICAgICAgaWYgKCFib3VuZHMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0JvdW5kcyBub3QgcGFzc2VkLiBVc2luZyBtYXAgYm91bmRzLicpO1xyXG4gICAgICAgICAgICBib3VuZHMgPSB0aGlzLm1hcC5nZXRCb3VuZHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJvdW5kcyA9IHJvdW5kQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgLy90aGlzLm1hcmtlckxheWVyLnJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKGJvdW5kcywgdGhpcy5tYXJrZXJGaWx0ZXIpO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIC8vIEdldCB0aGUgYm94ZXNcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVmcmVzaGluZyBwb2ludHMgd2l0aGluIGJvdW5kcycsIGJvdW5kcy50b0JCb3hTdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc3QgcG9pbnRzID0gYXdhaXQgdGhpcy5kYXRhc3RvcmUuZ2V0UG9pbnRzV2l0aGluQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIGFkZCBwb2ludHMgdG8gbWFwIHRoYXQgZG9uJ3QgYWxyZWFkeSBleGlzdCBpbiBsYXllclxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFya2VyID0gTC5jaXJjbGVNYXJrZXIoW3BvaW50LmxhdGl0dWRlLCBwb2ludC5sb25naXR1ZGVdLCB7XHJcbiAgICAgICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgICAgICAvL2ZpbGxDb2xvcjogdGhpcy5nZXRQbGFjZUNvbG91cihwbGFjZSksXHJcbiAgICAgICAgICAgICAgICAvL2NvbG9yOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBwb3B1cFxyXG4gICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKHBvaW50LmxvY2lkcy5qb2luKCc8YnIgLz4nKSk7XHJcbiAgICAgICAgICAgIG1hcmtlci5vbigncG9wdXBvcGVuJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBvcHVwQ29udGVudChwb2ludClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb250ZW50ID0+IGV2ZW50LnBvcHVwLnNldENvbnRlbnQoY29udGVudCkpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJMYXllci5hZGRMYXllcihtYXJrZXIpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb250cm9sczoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IElDb250cm9sO1xyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIGFkZENvbnRyb2woa2V5OiBzdHJpbmcsIGNvbnRyb2w6IElDb250cm9sKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHNba2V5XSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRyb2wgd2l0aCBrZXkgJHtrZXl9IGFscmVhZHkgZXhpc3RzYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzW2tleV0gPSBjb250cm9sO1xyXG5cclxuICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKGNvbnRyb2wuZ2V0Q29udHJvbCgpKVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnQWRkZWQgY29udHJvbCcsIGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXI6IElNb2RlKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG1vZGVIYW5kbGVyO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyPy5yZW1vdmVBbGxNYXJrZXJzKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgRmV0Y2hlZCBCb3hlcycsIHRoaXMuZmV0Y2hlZEJveGVzKTtcclxuICAgICAgICB0aGlzLmZldGNoZWRCb3hlcy5jbGVhcigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIEJveGVzIENsZWFyZWQnLCB0aGlzLmZldGNoZWRCb3hlcyk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllcj8uc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXIsIHRoaXMucGxhY2VTdG9yZSk7XHJcbiAgICAgICAgdGhpcy5mZXRjaERhdGFGb3JDdXJyZW50VmlldygpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcbmltcG9ydCBJQ29udHJvbCBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jb250cm9sLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi4vbmJuX3RlY2hfbWFwLmNsYXNzXCI7XHJcbmltcG9ydCB7IENvbnRyb2xFdmVudCB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEFDb250cm9sIGltcGxlbWVudHMgSUNvbnRyb2wge1xyXG5cclxuICAgIC8vcHJvdGVjdGVkIG1hcDogTmJuVGVjaE1hcDtcclxuICAgIHByb3RlY3RlZCBjb250cm9sOiBMLkNvbnRyb2w7XHJcbiAgICAvL3Byb3RlY3RlZCBrZXk6IHN0cmluZztcclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIGV2ZW50SGFuZGxlcnM6IHtcclxuICAgICAgICBbZXZlbnROYW1lOiBzdHJpbmddOiAoKGU6IENvbnRyb2xFdmVudCkgPT4gdm9pZClbXVxyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKC8qa2V5OiBzdHJpbmcvKiwgbmJuVGVjaE1hcDogTmJuVGVjaE1hcCovKSB7XHJcbiAgICAgICAgLy90aGlzLmtleSA9IGtleTtcclxuICAgICAgICAvL3RoaXMubWFwID0gbmJuVGVjaE1hcDtcclxuICAgICAgICB0aGlzLmNvbnRyb2wgPSBuZXcgTC5Db250cm9sKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb24oZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoZTogQ29udHJvbEV2ZW50KSA9PiB2b2lkKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGVtaXQoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE6IGFueSkgOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmRlYnVnKGBFbWl0dGluZyBldmVudDogJHtldmVudE5hbWV9YCwge1xyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBoYW5kbGVyczogdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0uZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5nZXRTdGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGdldFN0YXRlKCkgOiBhbnk7XHJcblxyXG4gICAgcHVibGljIGdldENvbnRyb2woKSA6IEwuQ29udHJvbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbDtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG4vL2ltcG9ydCBOYm5UZWNoTWFwIGZyb20gXCIuLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IEFDb250cm9sIGZyb20gXCIuL2NvbnRyb2wuYWJzdHJhY3RcIjtcclxuaW1wb3J0IElNb2RlIGZyb20gJy4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvRGlzcGxheU1vZGUgZXh0ZW5kcyBBQ29udHJvbCB7XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5TW9kZSA9ICdhbGwnO1xyXG4gICAgcHJpdmF0ZSBlbENvbnRyb2xEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBwcml2YXRlIGVsRHJvcGRvd246IEhUTUxTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKG1vZGVzOiBJTW9kZVtdLCBkZWZhdWx0TW9kZTogSU1vZGUpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmdlbmVyYXRlQ29udHJvbERpdigpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5vbkFkZCA9IChtYXA6IEwuTWFwKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVEcm9wZG93bihtb2RlcywgZGVmYXVsdE1vZGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbENvbnRyb2xEaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3RoaXMuY29udHJvbC5vbkFkZCA9ICgpID0+IHRoaXMuYWRkQ29udHJvbERpdigpO1xyXG4gICAgICAgIC8vdGhpcy5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhdGUoKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheU1vZGU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNoYW5nZU1vZGUobW9kZTogSU1vZGUpIHtcclxuICAgICAgICB0aGlzLmRpc3BsYXlNb2RlID0gbW9kZS5pZDtcclxuICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIG1vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVDb250cm9sRGl2KCkgOiB2b2lkIHtcclxuICAgICAgICBpZih0aGlzLmVsQ29udHJvbERpdikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbnRyb2xEaXYgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmNsYXNzTGlzdC5hZGQoJ2luZm8nLCAnbGVnZW5kJyk7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZURyb3Bkb3duKG1vZGVzOiBJTW9kZVtdLCBkZWZhdWx0TW9kZTogSU1vZGUpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWxEcm9wZG93bikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Ryb3Bkb3duIGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkcm9wZG93biA9IHRoaXMuZWxEcm9wZG93bjtcclxuICAgICAgICBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKCdjb250cm9sLXNlbGVjdCcpO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IG1vZGUgb2YgbW9kZXMpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IG1vZGUuaWQ7XHJcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBtb2RlLm5hbWU7XHJcbiAgICAgICAgICAgIGlmIChtb2RlLmlkID09PSBkZWZhdWx0TW9kZS5pZCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHRoaXMuY2hhbmdlTW9kZShtb2Rlcy5maW5kKG0gPT4gbS5pZCA9PT0gZHJvcGRvd24udmFsdWUpIHx8IGRlZmF1bHRNb2RlKSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuZWxEcm9wZG93biA9IGRyb3Bkb3duO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmFwcGVuZENoaWxkKGRyb3Bkb3duKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyphZGRDb250cm9sRGl2KCkge1xyXG5cclxuICAgICAgICB0aGlzLmFsbExhYmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGFiZWwnLCAnY29udHJvbC1sYWJlbCcsIHRoaXMuY29udHJvbERpdik7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmFsbExhYmVsKTtcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8udmFsdWUgPSAnYWxsJztcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5hbGxSYWRpbywgJ2NoYW5nZScsIChlKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2FsbCcpKTtcclxuICAgICAgICB0aGlzLmFsbFRleHQgPSBMLkRvbVV0aWwuY3JlYXRlKCdzcGFuJywgJ2NvbnRyb2wtdGV4dCcsIHRoaXMuYWxsTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuYWxsVGV4dC5pbm5lclRleHQgPSAnQWxsJztcclxuXHJcbiAgICAgICAgdGhpcy51cGdyYWRlTGFiZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdsYWJlbCcsICdjb250cm9sLWxhYmVsJywgdGhpcy5jb250cm9sRGl2KTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLnVwZ3JhZGVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8udHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvLnZhbHVlID0gJ3VwZ3JhZGUnO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy51cGdyYWRlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ3VwZ3JhZGUnKSk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlVGV4dCA9IEwuRG9tVXRpbC5jcmVhdGUoJ3NwYW4nLCAnY29udHJvbC10ZXh0JywgdGhpcy51cGdyYWRlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVRleHQuaW5uZXJUZXh0ID0gJ1RlY2ggVXBncmFkZSc7XHJcblxyXG4gICAgICAgIHRoaXMuZWVMYWJlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2xhYmVsJywgJ2NvbnRyb2wtbGFiZWwnLCB0aGlzLmNvbnRyb2xEaXYpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby50eXBlID0gJ3JhZGlvJztcclxuICAgICAgICB0aGlzLmVlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby52YWx1ZSA9ICdlZSc7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmVlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2VlJykpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnc3BhbicsICdjb250cm9sLXRleHQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0LmlubmVyVGV4dCA9ICdFRSc7XHJcblxyXG4gICAgfSovXHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0sIE5iblBsYWNlLCBQb2ludEFuZFBsYWNlcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgKiBhcyBMIGZyb20gXCJsZWFmbGV0XCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgaXNQbGFjZUZUVFAsXHJcbiAgICBpc1BsYWNlRlRUQyxcclxuICAgIGlzUGxhY2VGVFRQQXZhaWwsXHJcbiAgICBpc1BsYWNlRlRUUFNvb24sXHJcbiAgICBpc1BsYWNlRlRUUEZhcixcclxuICAgIGlzRnd0b0ZUVEMsXHJcbiAgICBpc0Z3dG9GVFROLFxyXG4gICAgaXNTYXRUb0ZXLFxyXG4gICAgaXNEZWJ1Z01vZGVcclxufSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IGNvbG91ckZUVFAgXHRcdD0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJGVFRQQXZhaWwgICA9ICcjNzVBRDZGJztcclxuY29uc3QgY29sb3VyRlRUUFNvb24gICAgPSAnI0M4RTNDNSc7XHJcbmNvbnN0IGNvbG91ckhGQyBcdFx0PSAnI0ZGQkUwMCc7XHJcbmNvbnN0IGNvbG91ckZUVEMgXHRcdD0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFRDQXZhaWwgICA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUTkIgXHRcdD0gJyNFMzA3MUQnO1xyXG5jb25zdCBjb2xvdXJGVyBcdFx0ICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJGV0F2YWlsIFx0PSAnIzAyMkJFMyc7XHJcbmNvbnN0IGNvbG91clNhdCBcdCAgICA9ICcjNkIwMkUzJztcclxuY29uc3QgY29sb3VyVW5rbm93biAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuZnVuY3Rpb24gZ2V0VGVjaENvbG91cih0ZWNoVHlwZTogc3RyaW5nKSB7XHJcbiAgICBzd2l0Y2godGVjaFR5cGUpIHtcclxuICAgICAgICBjYXNlICdGVFRQJzogcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgY2FzZSAnRlRUQyc6IHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIGNhc2UgJ0ZUVE4nOlxyXG4gICAgICAgIGNhc2UgJ0ZUVEInOiByZXR1cm4gY29sb3VyRlRUTkI7XHJcbiAgICAgICAgY2FzZSAnSEZDJzogcmV0dXJuIGNvbG91ckhGQztcclxuICAgICAgICBjYXNlICdXSVJFTEVTUyc6IHJldHVybiBjb2xvdXJGVztcclxuICAgICAgICBjYXNlICdTQVRFTExJVEUnOiByZXR1cm4gY29sb3VyU2F0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsbE1vZGUgaW1wbGVtZW50cyBJTW9kZSB7XHJcblxyXG4gICAgcmVhZG9ubHkgaWQgPSAnYWxsJztcclxuICAgIHJlYWRvbmx5IG5hbWUgPSAnU2hvdyBBbGwgTG9jYXRpb25zJztcclxuXHJcbiAgICBmaWx0ZXIocGxhY2U6IE5iblBsYWNlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvaW50Q29sb3VyKHBvaW50OiBQb2ludEFuZFBsYWNlcykgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlQ29sb3VyKHBvaW50LnBsYWNlc1swXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxhY2VDb2xvdXIocGxhY2U6IE5iblBsYWNlKSA6IHN0cmluZyB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBBdmFpbChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBTb29uKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUFNvb247XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQztcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNGd3RvRlRUQyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVENBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlICE9ICdOVUxMX05BJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQb3B1cENvbnRlbnQocGxhY2U6IE5iblBsYWNlKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxiPicrcGxhY2UuaWQrJzwvYj48L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMSArICc8L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMiArICc8L2JyPidcclxuICAgICAgICAgICAgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiPlRlY2hub2xvZ3kgUGxhbjwvYj48L2JyPic7XHJcblxyXG4gICAgICAgIC8qKiBUZWNobm9sb2d5IFBsYW4gRmluYWwgU3RhdGUgKi9cclxuICAgICAgICBpZiAocGxhY2UudGVjaFR5cGUgPT0gJ0ZUVFAnXHJcbiAgICAgICAgICAgIHx8ICFwbGFjZS5hbHRSZWFzb25Db2RlXHJcbiAgICAgICAgICAgIHx8IHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gJ05VTExfTkEnXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUZWNobm9sb2d5OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlICE9ICdGVFRQJykge1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ05vIHRlY2ggdXBncmFkZSBwbGFubmVkPGJyIC8+JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0N1cnJlbnQ6ICcgKyBwbGFjZS50ZWNoVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ2hhbmdlOiAnICsgcGxhY2UuYWx0UmVhc29uQ29kZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnU3RhdHVzOiAnICsgcGxhY2UudGVjaENoYW5nZVN0YXR1cyArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnUHJvZ3JhbTogJyArIHBsYWNlLnByb2dyYW1UeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUYXJnZXQgUXRyOiAnICsgcGxhY2UudGFyZ2V0RWxpZ2liaWxpdHlRdWFydGVyICsgJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiciAvPic7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwbGFjZS5lZSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiPkVudGVycHJpc2UgRXRoZXJuZXQ8L2I+PC9icj4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJ1ByaWNlIFpvbmU6ICcgKyAoIHBsYWNlLmNiZHByaWNpbmcgPyAnQ0JEJyA6ICdab25lIDEvMi8zJyApICsgJzxiciAvPidcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdCdWlsZCBDb3N0OiAnICsgKCBwbGFjZS56ZXJvQnVpbGRDb3N0ID8gJyQwJyA6ICdQT0EnICkgKyAnPGJyIC8+J1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBociA9IEwuRG9tVXRpbC5jcmVhdGUoJ2hyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ3ByZScpO1xyXG4gICAgICAgICAgICBwcmUuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkocGxhY2UsIG51bGwsIDIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChwcmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVG9vbHRpcChwbGFjZXM6IE5iblBsYWNlW10pIDogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbGFiZWwgPSBwbGFjZXNbMF0uYWRkcmVzczE7XHJcblxyXG4gICAgICAgIGlmIChwbGFjZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBsYWJlbCArPSAnICggKyAnICsgKHBsYWNlcy5sZW5ndGggLSAxKSArICcgbW9yZSknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRMZWdlbmRJdGVtcygpOiBMZWdlbmRJdGVtW10ge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCBVcGdyYWRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUEF2YWlsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAgQ29taW5nJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUFNvb24sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnSEZDJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VySEZDLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVEMnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRDLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVE4vRlRUQicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVE5CLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZXJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlcgVXBncmFkZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZXQXZhaWwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnU2F0ZWxsaXRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyU2F0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJVbmtub3duLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgQUNvbnRyb2wgZnJvbSBcIi4vY29udHJvbC5hYnN0cmFjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbExlZ2VuZCBleHRlbmRzIEFDb250cm9sIHtcclxuXHJcbiAgICBwcml2YXRlIGVsQ29udHJvbERpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbC5zZXRQb3NpdGlvbignYm90dG9tcmlnaHQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuY2xhc3NMaXN0LmFkZCgnaW5mbycsICdsZWdlbmQnKTtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5wYWRkaW5nID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2wub25BZGQgPSAobWFwOiBMLk1hcCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbENvbnRyb2xEaXY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTGVnZW5kKGl0ZW1zOiBMZWdlbmRJdGVtW10pIHtcclxuXHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgaXRlbS5jb2xvdXIgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gJyArIGl0ZW0ubGFiZWw7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICcgKCcgKyBpdGVtLmNvdW50ICsgJyknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxicj4nO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5pbm5lckhUTUwgPSBodG1sO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKlxyXG5cclxuICAgIGdldExlZ2VuZEhUTUwoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5iblRlY2hNYXAuY29udHJvbHMuZGlzcGxheU1vZGU/LmRpc3BsYXlNb2RlID09ICdlZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9DQkRfWkJDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSBDQkQgKCQwIEJ1aWxkKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX0NCRF9CQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgQ0JEIChCdWlsZCBQT0EpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfWjEyM19aQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIDEvMi8zICgkMCBCdWlsZCk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9aMTIzX0JDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSAxLzIvMyAoQnVpbGQgUE9BKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5iblRlY2hNYXAuY29udHJvbHMuZGlzcGxheU1vZGU/LmRpc3BsYXlNb2RlID09ICd1cGdyYWRlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9DT01QTEVURSArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBDb21wbGV0ZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQVZBSUwgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQXZhaWxhYmxlPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0JVSUxERklOQUxJU0VEICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEJ1aWxkIEZpbmFsaXNlZDxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9ERVNJR04gKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSW4gRGVzaWduPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0NPTU1JVFRFRCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBDb21taXR0ZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8Yj5NdWx0aSBEd2VsbGluZyBVbml0czwvYj48YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfTURVX0lOQlVJTEQgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSW4gQnVpbGQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfTURVX0VMSUdJQkxFICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEVsbGlnaWJsZTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVFA8YnI+JyArIFxyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUEF2YWlsKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUUCBVcGdyYWRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUFNvb24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRQIFVwZ3JhZGUgU29vbjxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckhGQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEhGQzxicj4nICsgXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFRDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUQzxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVE5CKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUTi9GVFRCPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlcrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVzxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZXQXZhaWwrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVyBVcGdyYWRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyU2F0KydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gU2F0ZWxsaXRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyVW5rbm93bisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFVua25vd24nO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbnRyb2xEaXYobWFwKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jb250cm9sRGl2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbERpdiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdpbmZvIGxlZ2VuZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLndpZHRoID0gXCIxNTBweFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRMZWdlbmRIVE1MKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaCgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRMZWdlbmRIVE1MKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2wuYWRkVG8odGhpcy5uYm5UZWNoTWFwLm1hcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAqL1xyXG59IiwiaW1wb3J0IElQbGFjZVN0b3JlIGZyb20gJy4uL2ludGVyZmFjZXMvcGxhY2VzdG9yZS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBOYm5QbGFjZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBEQlNjaGVtYSwgSURCUERhdGFiYXNlLCBvcGVuREIgfSBmcm9tICdpZGInO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5CTlRlY2hNYXBEQiBleHRlbmRzIERCU2NoZW1hIHtcclxuICAgIG5iblBsYWNlU3RvcmU6IHtcclxuICAgICAgICBrZXk6IHN0cmluZztcclxuICAgICAgICB2YWx1ZTogTmJuUGxhY2U7XHJcbiAgICAgICAgaW5kZXhlczoge1xyXG4gICAgICAgICAgICAvL2xvY2lkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIC8vbGF0bG5nOiBbbnVtYmVyLCBudW1iZXJdO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbmRleERCUGxhY2VTdG9yZSBpbXBsZW1lbnRzIElQbGFjZVN0b3JlIHtcclxuXHJcbiAgICBwcml2YXRlIERCX05BTUUgPSAnbnNtLXBsYWNlc3RvcmUnO1xyXG5cclxuICAgIHByaXZhdGUgbG9nZ2VyID0gbmV3IExvZ2dlcignSW5kZXhEQlBsYWNlU3RvcmUnKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBkYXRhYmFzZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkYj86IElEQlBEYXRhYmFzZTxOQk5UZWNoTWFwREI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgZGF0YWJhc2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1NldHRpbmcgdXAgZGF0YWJhc2UuLi4nKTtcclxuXHJcbiAgICAgICAgb3BlbkRCPE5CTlRlY2hNYXBEQj4odGhpcy5EQl9OQU1FLCAyLCB7XHJcblxyXG4gICAgICAgICAgICB1cGdyYWRlKGRiLCBvbGRWZXJzaW9uLCBuZXdWZXJzaW9uLCB0cmFuc2FjdGlvbiwgZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZU5hbWVzID0gZGIub2JqZWN0U3RvcmVOYW1lcztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmJuIHBsYWNlIHN0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcclxuICAgICAgICAgICAgICAgIGlmICghb2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnbmJuUGxhY2VTdG9yZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ25iblBsYWNlU3RvcmUnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgYmxvY2tlZDogKGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0RhdGFiYXNlIGJsb2NrZWQhJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGJsb2NraW5nOiAoY3VycmVudFZlcnNpb24sIGJsb2NrZWRWZXJzaW9uLCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRGF0YWJhc2UgYmxvY2tpbmchJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgdGVybWluYXRlZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRGF0YWJhc2UgdGVybWluYXRlZCEnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRiID0gZGI7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0RhdGFiYXNlIHJlYWR5IScpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBvcGVuIGRhdGFiYXNlOiAnLCBlcnIpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRGF0YWJhc2Ugc2V0dXAgY29tcGxldGUuJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdGhlIGRhdGFiYXNlIGlzIHJlYWR5LlxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIGlzUmVhZHkoKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuZGI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXYWl0IHVudGlsIHRoZSBkYXRhYmFzZSBpcyByZWFkeS5cclxuICAgICAqIEBwYXJhbSB0aW1lb3V0U2Vjb25kcyBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBhc3luYyB3YWl0VW50aWxSZWFkeSh0aW1lb3V0U2Vjb25kczogbnVtYmVyKSA6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNSZWFkeSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aW1lRWxhcHNlZCA+IHRpbWVvdXRTZWNvbmRzICogMTAwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYERhdGFiYXNlIG5vdCByZWFkeSBhZnRlciAke3RpbWVvdXRTZWNvbmRzfSBzZWNvbmRzLmApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlIGEgc2luZ2xlIHBsYWNlLlxyXG4gICAgICogQHBhcmFtIHBsYWNlIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzdG9yZVBsYWNlKHBsYWNlOiBOYm5QbGFjZSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5nZXREYigpO1xyXG4gICAgICAgIGF3YWl0IGRiLnB1dCgnbmJuUGxhY2VTdG9yZScsIHBsYWNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlIGEgYmF0Y2ggb2YgcGxhY2VzLlxyXG4gICAgICogVXNlcyBhIHRyYW5zYWN0aW9uIHRvIHByb3ZpZGUgYmV0dGVyIHBlcmZvcm1hbmNlLlxyXG4gICAgICogQHBhcmFtIHBsYWNlcyBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3RvcmVQbGFjZXMocGxhY2VzOiBOYm5QbGFjZVtdKSA6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGRhdGFiYXNlXHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmdldERiKCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ25iblBsYWNlU3RvcmUnXSwgJ3JlYWR3cml0ZScsIHtcclxuICAgICAgICAgICAgJ2R1cmFiaWxpdHknOiAncmVsYXhlZCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgb2JqZWN0IHN0b3JlXHJcbiAgICAgICAgY29uc3QgcGxhY2VTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCduYm5QbGFjZVN0b3JlJyk7XHJcblxyXG4gICAgICAgIC8vIFB1dCB0aGUgcGxhY2VzXHJcbiAgICAgICAgY29uc3QgcHV0UHJvbWlzZXMgPSBwbGFjZXMuZmlsdGVyKHBsYWNlID0+IHBsYWNlKS5tYXAocGxhY2UgPT4gcGxhY2VTdG9yZS5wdXQocGxhY2UpKTtcclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwdXRQcm9taXNlcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlXHJcbiAgICAgICAgYXdhaXQgdHguZG9uZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBzaW5nbGUgcGxhY2UuXHJcbiAgICAgKiBAcGFyYW0gbG9jaWQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0UGxhY2UobG9jaWQ6IHN0cmluZykgOiBQcm9taXNlPE5iblBsYWNlIHwgdW5kZWZpbmVkPiB7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgZGF0YWJhc2VcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBwbGFjZVxyXG4gICAgICAgIHJldHVybiBhd2FpdCBkYi5nZXQoJ25iblBsYWNlU3RvcmUnLCBsb2NpZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgYmF0Y2ggb2YgcGxhY2VzLlxyXG4gICAgICogVXNlcyBhIHRyYW5zYWN0aW9uIHRvIHByb3ZpZGUgYmV0dGVyIHBlcmZvcm1hbmNlLlxyXG4gICAgICogQHBhcmFtIGxvY2lkcyBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRQbGFjZXMobG9jaWRzOiBzdHJpbmdbXSk6IFByb21pc2U8TmJuUGxhY2VbXT4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGRhdGFiYXNlXHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmdldERiKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gT3BlbiBhIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ25iblBsYWNlU3RvcmUnXSwgJ3JlYWRvbmx5Jyk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgb2JqZWN0IHN0b3JlXHJcbiAgICAgICAgY29uc3QgcGxhY2VTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCduYm5QbGFjZVN0b3JlJyk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgcGxhY2VzXHJcbiAgICAgICAgY29uc3QgcGxhY2VzID0gYXdhaXQgUHJvbWlzZS5hbGwobG9jaWRzLm1hcChsb2NpZCA9PiBwbGFjZVN0b3JlLmdldChsb2NpZCkpKTtcclxuXHJcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlXHJcbiAgICAgICAgYXdhaXQgdHguZG9uZTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBwbGFjZXNcclxuICAgICAgICByZXR1cm4gcGxhY2VzLmZpbHRlcihwbGFjZSA9PiAhIXBsYWNlKSBhcyBOYm5QbGFjZVtdO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKiBAcGFyYW0gdGltZW91dCBcclxuICAgICAqIEByZXR1cm5zIFByb21pc2U8SURCUERhdGFiYXNlPE5CTlRlY2hNYXBEQj4+XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0RGIodGltZW91dCA9IDUpIDogUHJvbWlzZTxJREJQRGF0YWJhc2U8TkJOVGVjaE1hcERCPj4ge1xyXG4gICAgICAgIGF3YWl0IHRoaXMud2FpdFVudGlsUmVhZHkodGltZW91dCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2Ugbm90IHJlYWR5LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5kYjtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSwgTmJuUGxhY2UsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBpc0RlYnVnTW9kZVxyXG59IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgQ09MX1RFQ0hfQ09NUExFVEUgICAgICAgICA9ICcjMUQ3MDQ0JztcclxuY29uc3QgQ09MX1RFQ0hfQVZBSUwgICAgICAgICAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQgICA9ICcjRkZCRTAwJztcclxuY29uc3QgQ09MX1RFQ0hfREVTSUdOICAgICAgICAgICA9ICcjRkY3RTAxJztcclxuY29uc3QgQ09MX1RFQ0hfQ09NTUlUVEVEICAgICAgICA9ICcjRTMwNzFEJztcclxuY29uc3QgQ09MX1RFQ0hfUExBTk5FRCAgICAgICAgICA9ICcjRUE4MTlBJztcclxuY29uc3QgQ09MX1RFQ0hfTURVX0lOQlVJTEQgICAgICA9ICcjMDIyQkUzJztcclxuY29uc3QgQ09MX1RFQ0hfTURVX0VMSUdJQkxFICAgICA9ICcjNkIwMkUzJztcclxuY29uc3QgQ09MX1VOS05PV04gICAgICAgICAgICAgICA9ICcjODg4ODg4JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlY2hVcGdyYWRlTW9kZSBpbXBsZW1lbnRzIElNb2RlIHtcclxuXHJcbiAgICByZWFkb25seSBpZCA9ICd1cGdyYWRlJztcclxuICAgIHJlYWRvbmx5IG5hbWUgPSAnVGVjaCBVcGdyYWRlJztcclxuXHJcbiAgICBnZXRJRCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbHRlcihwbGFjZTogTmJuUGxhY2UpIDogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGlmIChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdOb3QgUGxhbm5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHBvaW50Q29sb3VyKHBvaW50OiBQb2ludEFuZFBsYWNlcykgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlQ29sb3VyKHBvaW50LnBsYWNlc1swXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxhY2VDb2xvdXIocGxhY2U6IE5iblBsYWNlKSA6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIHN3aXRjaChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1ByZXZpb3VzIFRlY2ggRGlzY29ubmVjdGVkJzogcmV0dXJuIENPTF9URUNIX0NPTVBMRVRFO1xyXG4gICAgICAgICAgICBjYXNlICdOZXcgVGVjaCBDb25uZWN0ZWQnIDogcmV0dXJuIENPTF9URUNIX0NPTVBMRVRFO1xyXG4gICAgICAgICAgICBjYXNlICdJbiBEZXNpZ24nOiByZXR1cm4gQ09MX1RFQ0hfREVTSUdOO1xyXG4gICAgICAgICAgICBjYXNlICdCdWlsZCBGaW5hbGlzZWQnOiByZXR1cm4gQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQ7XHJcbiAgICAgICAgICAgIGNhc2UgJ0NvbW1pdHRlZCc6IHJldHVybiBDT0xfVEVDSF9DT01NSVRURUQ7XHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYW5uZWQnOiByZXR1cm4gQ09MX1RFQ0hfUExBTk5FRDtcclxuICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOiByZXR1cm4gQ09MX1RFQ0hfQVZBSUw7XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IEVsaWdpYmxlIFRvIEFwcGx5JzogcmV0dXJuIENPTF9URUNIX01EVV9FTElHSUJMRTtcclxuICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnOiByZXR1cm4gQ09MX1RFQ0hfTURVX0lOQlVJTEQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBDT0xfVU5LTk9XTjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXBDb250ZW50KHBsYWNlOiBOYm5QbGFjZSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8Yj4nK3BsYWNlLmlkKyc8L2I+PC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczEgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczIgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8Yj5UZWNobm9sb2d5IFBsYW48L2I+PC9icj4nO1xyXG5cclxuICAgICAgICAvKiogVGVjaG5vbG9neSBQbGFuIEZpbmFsIFN0YXRlICovXHJcbiAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlID09ICdGVFRQJ1xyXG4gICAgICAgICAgICB8fCAhcGxhY2UuYWx0UmVhc29uQ29kZVxyXG4gICAgICAgICAgICB8fCBwbGFjZS5hbHRSZWFzb25Db2RlID09ICdOVUxMX05BJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGVjaG5vbG9neTogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGlmIChwbGFjZS50ZWNoVHlwZSAhPSAnRlRUUCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdObyB0ZWNoIHVwZ3JhZGUgcGxhbm5lZDxiciAvPic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGVsc2UgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ3VycmVudDogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDaGFuZ2U6ICcgKyBwbGFjZS5hbHRSZWFzb25Db2RlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdTdGF0dXM6ICcgKyBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdQcm9ncmFtOiAnICsgcGxhY2UucHJvZ3JhbVR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1RhcmdldCBRdHI6ICcgKyBwbGFjZS50YXJnZXRFbGlnaWJpbGl0eVF1YXJ0ZXIgKyAnPGJyIC8+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiciAvPic7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhyID0gTC5Eb21VdGlsLmNyZWF0ZSgnaHInKTtcclxuICAgICAgICAgICAgY29uc3QgcHJlID0gTC5Eb21VdGlsLmNyZWF0ZSgncHJlJyk7XHJcbiAgICAgICAgICAgIHByZS5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeShwbGFjZSwgbnVsbCwgMik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaHIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHByZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJUb29sdGlwKHBsYWNlczogTmJuUGxhY2VbXSkgOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBsYWJlbCA9IHBsYWNlc1swXS5hZGRyZXNzMTtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGxhYmVsICs9ICcgKCArICcgKyAocGxhY2VzLmxlbmd0aCAtIDEpICsgJyBtb3JlKSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExlZ2VuZEl0ZW1zKCk6IExlZ2VuZEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQcmV2aW91cyBUZWNoIERpc2Nvbm5lY3RlZCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9URUNIX0NPTVBMRVRFXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnTmV3IFRlY2ggQ29ubmVjdGVkJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfQ09NUExFVEVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFbGlnaWJsZSBUbyBPcmRlcicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9URUNIX0FWQUlMXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnQnVpbGQgRmluYWxpc2VkJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfQlVJTERGSU5BTElTRURcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbiBEZXNpZ24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVEVDSF9ERVNJR05cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDb21taXR0ZWQnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVEVDSF9DT01NSVRURURcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQbGFubmVkJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfUExBTk5FRFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ01EVSBDb21wbGV4IEVsaWdpYmxlIFRvIEFwcGx5JyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfTURVX0VMSUdJQkxFXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVEVDSF9NRFVfSU5CVUlMRFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVU5LTk9XTlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSwgTmJuUGxhY2UsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBpc1BsYWNlRlRUUCxcclxuICAgIGlzUGxhY2VGVFRDLFxyXG4gICAgaXNQbGFjZUZUVFBBdmFpbCxcclxuICAgIGlzUGxhY2VGVFRQU29vbixcclxuICAgIGlzUGxhY2VGVFRQRmFyLFxyXG4gICAgaXNGd3RvRlRUQyxcclxuICAgIGlzRnd0b0ZUVE4sXHJcbiAgICBpc1NhdFRvRlcsXHJcbiAgICBpc0RlYnVnTW9kZVxyXG59IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgQ09MX0VFX0NCRF9aQkMgICAgPSAnIzFENzA0NCc7XHJcbmNvbnN0IENPTF9FRV9DQkRfQkMgICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBDT0xfRUVfWjEyM19aQkMgICA9ICcjRkY3RTAxJztcclxuY29uc3QgQ09MX0VFX1oxMjNfQkMgICAgPSAnI0UzMDcxRCc7XHJcbmNvbnN0IENPTF9VTktOT1dOICAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRUVNb2RlIGltcGxlbWVudHMgSU1vZGUge1xyXG5cclxuICAgIHJlYWRvbmx5IGlkID0gJ2VlJztcclxuICAgIHJlYWRvbmx5IG5hbWUgPSAnRW50ZXJwcmlzZSBFdGhlcm5ldCc7XHJcblxyXG4gICAgZmlsdGVyKHBsYWNlOiBOYm5QbGFjZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gcGxhY2UuZWU7XHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnRDb2xvdXIocG9pbnQ6IFBvaW50QW5kUGxhY2VzKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VDb2xvdXIocG9pbnQucGxhY2VzWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZUNvbG91cihwbGFjZTogTmJuUGxhY2UpIDogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgaWYocGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDT0xfRUVfQ0JEX1pCQztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHBsYWNlLmNiZHByaWNpbmcgJiYgIXBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENPTF9FRV9DQkRfQkM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDT0xfRUVfWjEyM19aQkM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiAhcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ09MX0VFX1oxMjNfQkM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBDT0xfVU5LTk9XTjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXBDb250ZW50KHBsYWNlOiBOYm5QbGFjZSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8Yj4nK3BsYWNlLmlkKyc8L2I+PC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczEgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczIgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgJzxiciAvPic7XHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnPGI+RW50ZXJwcmlzZSBFdGhlcm5ldDwvYj48L2JyPic7XHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdQcmljZSBab25lOiAnICsgKCBwbGFjZS5jYmRwcmljaW5nID8gJ0NCRCcgOiAnWm9uZSAxLzIvMycgKSArICc8YnIgLz4nXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdCdWlsZCBDb3N0OiAnICsgKCBwbGFjZS56ZXJvQnVpbGRDb3N0ID8gJyQwJyA6ICdQT0EnICkgKyAnPGJyIC8+J1xyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnPGJyIC8+JztcclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBociA9IEwuRG9tVXRpbC5jcmVhdGUoJ2hyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ3ByZScpO1xyXG4gICAgICAgICAgICBwcmUuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkocGxhY2UsIG51bGwsIDIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChwcmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVG9vbHRpcChwbGFjZXM6IE5iblBsYWNlW10pIDogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbGFiZWwgPSBwbGFjZXNbMF0uYWRkcmVzczE7XHJcblxyXG4gICAgICAgIGlmIChwbGFjZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBsYWJlbCArPSAnICggKyAnICsgKHBsYWNlcy5sZW5ndGggLSAxKSArICcgbW9yZSknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRMZWdlbmRJdGVtcygpOiBMZWdlbmRJdGVtW10ge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRUUgQ0JEICQwJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX0VFX0NCRF9aQkNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFRSBDQkQgUE9BJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX0VFX0NCRF9CQ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0VFIFoxMjMgJDAnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfRUVfWjEyM19aQkNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFRSBab25lIDEvMi8zIFBPQScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9FRV9aMTIzX0JDXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnVW5rbm93bicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9VTktOT1dOXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBJTW9kZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tb2RlLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBMZWdlbmRJdGVtLCBOYm5QbGFjZSwgUG9pbnRBbmRQbGFjZXMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0ICogYXMgTCBmcm9tIFwibGVhZmxldFwiO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIGlzRGVidWdNb2RlXHJcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG5jb25zdCBDT0xfRldfQVZBSUxfU1VQRVJGQVNUID0gJyMxRDcwNDQnO1xyXG5jb25zdCBDT0xfRldfQVZBSUxfRkFTVCAgICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBDT0xfRldfQVZBSUxfUExVUyAgICAgID0gJyNGRkJFMDAnO1xyXG5jb25zdCBDT0xfRldfUExBTk5FRCAgICAgICAgICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IENPTF9URUNIX0NPTU1JVFRFRCAgICAgICAgPSAnI0UzMDcxRCc7XHJcbmNvbnN0IENPTF9URUNIX01EVV9JTkJVSUxEICAgICAgPSAnIzAyMkJFMyc7XHJcbmNvbnN0IENPTF9GV19OT1RfUExBTk5FRCAgICAgPSAnI0UzMDcxRCc7XHJcbmNvbnN0IENPTF9VTktOT1dOICAgICAgICAgICAgICAgPSAnIzg4ODg4OCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaXhlZFdpcmVsZXNzTW9kZSBpbXBsZW1lbnRzIElNb2RlIHtcclxuXHJcbiAgICByZWFkb25seSBpZCA9ICdmdyc7XHJcbiAgICByZWFkb25seSBuYW1lID0gJ0ZpeGVkIFdpcmVsZXNzJztcclxuXHJcbiAgICBmaWx0ZXIocGxhY2U6IE5iblBsYWNlKSA6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBpZiAocGxhY2UudGVjaFR5cGUgPT0gJ1dJUkVMRVNTJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnRDb2xvdXIocG9pbnQ6IFBvaW50QW5kUGxhY2VzKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VDb2xvdXIocG9pbnQucGxhY2VzWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZUNvbG91cihwbGFjZTogTmJuUGxhY2UpIDogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlLmhzdFN0YXR1cyA9PSAnRWxpZ2libGUgdG8gT3JkZXInKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaChwbGFjZS5oc3RTcGVlZFRpZXIpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0ZXIFN1cGVyZmFzdCc6IHJldHVybiBDT0xfRldfQVZBSUxfU1VQRVJGQVNUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRlcgSG9tZSBGYXN0JzogcmV0dXJuIENPTF9GV19BVkFJTF9GQVNUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRlcgUGx1cyc6IHJldHVybiBDT0xfRldfQVZBSUxfUExVUztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLmhzdFN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdQbGFubmVkJzogcmV0dXJuIENPTF9GV19QTEFOTkVEO1xyXG4gICAgICAgICAgICBjYXNlICdOb3QgUGxhbm5lZCc6IHJldHVybiBDT0xfRldfTk9UX1BMQU5ORUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBDT0xfVU5LTk9XTjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXBDb250ZW50KHBsYWNlOiBOYm5QbGFjZSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8Yj4nK3BsYWNlLmlkKyc8L2I+PC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczEgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczIgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8Yj5GaXhlZCBXaXJlbGVzczwvYj48L2JyPic7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHBsYWNlLnByb2dyYW1UeXBlID09ICdGaXhlZCBXaXJlbGVzcyBhbmQgU2F0ZWxsaXRlIFVwZ3JhZGUgUHJvZ3JhbScpIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06IEZpeGVkIFdpcmVsZXNzIFVwZ3JhZGUgUHJvZ3JhbTxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdTdGF0dXM6ICcgKyBwbGFjZS5oc3RTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1NwZWVkVGllcjogJyArIHBsYWNlLmhzdFNwZWVkVGllciArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiciAvPic7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhyID0gTC5Eb21VdGlsLmNyZWF0ZSgnaHInKTtcclxuICAgICAgICAgICAgY29uc3QgcHJlID0gTC5Eb21VdGlsLmNyZWF0ZSgncHJlJyk7XHJcbiAgICAgICAgICAgIHByZS5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeShwbGFjZSwgbnVsbCwgMik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaHIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHByZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJUb29sdGlwKHBsYWNlczogTmJuUGxhY2VbXSkgOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBsYWJlbCA9IHBsYWNlc1swXS5hZGRyZXNzMTtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGxhYmVsICs9ICcgKCArICcgKyAocGxhY2VzLmxlbmd0aCAtIDEpICsgJyBtb3JlKSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExlZ2VuZEl0ZW1zKCk6IExlZ2VuZEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBdmFpbGFibGUgLSBTdXBlcmZhc3QnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfRldfQVZBSUxfU1VQRVJGQVNUXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnQXZhaWxhYmxlIC0gSG9tZSBGYXN0JyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX0ZXX0FWQUlMX0ZBU1RcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBdmFpbGFibGUgLSBQbHVzJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX0ZXX0FWQUlMX1BMVVNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQbGFubmVkJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX0ZXX1BMQU5ORURcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3QgUGxhbm5lZCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9GV19OT1RfUExBTk5FRFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVU5LTk9XTlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0iLCIvKipcclxuICogQGZpbGUgTWFpbiBlbnRyeSBwb2ludCBmb3IgbWFwIHNjcmlwdHMuXHJcbiAqIEBtb2R1bGUgaW5kZXgudHNcclxuICogQHZlcnNpb24gMS4wLjBcclxuICogQGF1dGhvciBLb2FsYUdcclxuICogQGxpY2Vuc2UgTUlUXHJcbiAqL1xyXG5cclxuaW1wb3J0IExpcEFwaSBmcm9tIFwiLi9hcGkvbGlwX2FwaS5jbGFzc1wiO1xyXG5pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IENvbnRyb0Rpc3BsYXlNb2RlIGZyb20gXCIuL2NvbnRyb2xzL2NvbnRyb2xfZGlzcGxheV9tb2RlLmNsYXNzXCI7XHJcbmltcG9ydCB7IE1lbW9yeURhdGFzdG9yZSB9IGZyb20gXCIuL2RhdGFzdG9yZS9kYXRhc3RvcmUubWVtb3J5LmNsYXNzXCI7XHJcbmltcG9ydCBBbGxNb2RlIGZyb20gXCIuL21vZGVzL21vZGUuYWxsXCI7XHJcbmltcG9ydCBDb250cm9sTGVnZW5kIGZyb20gXCIuL2NvbnRyb2xzL2NvbnRyb2xfbGVnZW5kLmNsYXNzXCI7XHJcblxyXG5pbXBvcnQgJy4vYXNzZXRzL1NjcmVlbnNob3QxLnBuZyc7XHJcbmltcG9ydCAnLi9hc3NldHMvU2NyZWVuc2hvdDIucG5nJztcclxuaW1wb3J0ICcuL2Fzc2V0cy9TY3JlZW5zaG90My5wbmcnO1xyXG5cclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgTmJuUGxhY2UgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBJbmRleERCUGxhY2VTdG9yZSB9IGZyb20gXCIuL3BsYWNlc3RvcmUvaW5kZXhkYi5wbGFjZXN0b3JlXCI7XHJcbmltcG9ydCBUZWNoVXBncmFkZU1vZGUgZnJvbSBcIi4vbW9kZXMvdGVjaHVwZ3JhZGUubW9kZVwiO1xyXG5pbXBvcnQgRUVNb2RlIGZyb20gXCIuL21vZGVzL2VlLm1vZGVcIjtcclxuaW1wb3J0IEZpeGVkV2lyZWxlc3NNb2RlIGZyb20gXCIuL21vZGVzL2Z3aHN0Lm1vZGVcIjtcclxuaW1wb3J0IElNb2RlIGZyb20gXCIuL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignaW5kZXgudHMnKTtcclxuXHJcbmNvbnN0IGlzRGV2ZWxvcG1lbnQgPSAoKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgcHJvY2Vzcy5hcmd2LmluY2x1ZGVzKCdkZXZlbG9wbWVudCcpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSkoKTtcclxubG9nZ2VyLmRlYnVnKCdpc0RldmVsb3BtZW50JywgaXNEZXZlbG9wbWVudCk7XHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvciAmJiAhaXNEZXZlbG9wbWVudCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc2VydmljZS13b3JrZXIuanMnKS50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdTVyByZWdpc3RlcmVkOiAnLCByZWdpc3RyYXRpb24pO1xyXG4gICAgICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1NXIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIHJlZ2lzdHJhdGlvbkVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByZWFkeVxyXG4gKiBAZGVzY3JpcHRpb24gRXhlY3V0ZXMgYSBmdW5jdGlvbiB3aGVuIHRoZSBET00gaXMgcmVhZHkuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS85ODk5NzAxLzEyOTMyNTZ9XHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkeShmbjogKCkgPT4gdm9pZCkge1xyXG4gICAgLy8gc2VlIGlmIERPTSBpcyBhbHJlYWR5IGF2YWlsYWJsZVxyXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIpIHtcclxuICAgICAgICAvLyBjYWxsIG9uIG5leHQgYXZhaWxhYmxlIHRpY2tcclxuICAgICAgICBzZXRUaW1lb3V0KGZuLCAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZm4pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBFeGVjdXRlIHdoZW4gRE9NIGlzIHJlYWR5LlxyXG5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICBjb25zdCBtYXBBcGkgPSBuZXcgTGlwQXBpKCk7XHJcbiAgICAvL2NvbnN0IGRhdGFzdG9yZSA9IG5ldyBJbmRleERCRGF0YXN0b3JlKCk7XHJcbiAgICAvLyBjb25zdCBkYXRhc3RvcmUgPSBuZXcgTWVtb3J5RGF0YXN0b3JlKCk7XHJcbiAgICAvL2NvbnN0IG1hcmtlckxheWVyID0gbmV3IE1hcmtlckxheWVyQ2x1c3RlcigpO1xyXG5cclxuICAgIGNvbnN0IG1vZGVzQXJyYXkgPSBbXHJcbiAgICAgICAgbmV3IEFsbE1vZGUoKSxcclxuICAgICAgICBuZXcgVGVjaFVwZ3JhZGVNb2RlKCksXHJcbiAgICAgICAgbmV3IEZpeGVkV2lyZWxlc3NNb2RlKCksXHJcbiAgICAgICAgbmV3IEVFTW9kZSgpLFxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdCBnZXREZWZhdWx0TW9kZVN0cmluZyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIGNvbnN0IG1vZGVGcm9tVXJsID0gdXJsUGFyYW1zLmdldCgnbW9kZScpO1xyXG5cclxuICAgICAgICBpZiAobW9kZUZyb21VcmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZGVGcm9tVXJsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbW9kZUZyb21TdG9yYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21vZGUnKTtcclxuICAgICAgICBpZiAobW9kZUZyb21TdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2RlRnJvbVN0b3JhZ2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZ2V0RGVmYXVsdE1vZGUgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbW9kZSA9IGdldERlZmF1bHRNb2RlU3RyaW5nKCk7XHJcbiAgICAgICAgcmV0dXJuIG1vZGVzQXJyYXkuZmluZChtID0+IG0uaWQgPT09IG1vZGUpIHx8IG1vZGVzQXJyYXlbMF07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdE1vZGUgPSBnZXREZWZhdWx0TW9kZSgpO1xyXG5cclxuICAgIGNvbnN0IHBsYWNlU3RvcmUgPSBuZXcgSW5kZXhEQlBsYWNlU3RvcmUoKTtcclxuXHJcbiAgICBjb25zdCBuYm5UZWNoTWFwID0gbmV3IE5iblRlY2hNYXAoe1xyXG4gICAgICAgIG1hcENvbnRhaW5lcklkOiAnbWFwJyxcclxuICAgICAgICBhcGk6IG1hcEFwaSxcclxuICAgICAgICAvL2RhdGFzdG9yZTogZGF0YXN0b3JlLFxyXG4gICAgICAgIC8vbWFya2VyTGF5ZXI6IG1hcmtlckxheWVyLFxyXG4gICAgICAgIGRlZmF1bHRNb2RlSGFuZGxlcjogZGVmYXVsdE1vZGUsXHJcbiAgICAgICAgcGxhY2VzdG9yZTogcGxhY2VTdG9yZSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIENvbnRyb2xzIHRvIE1hcFxyXG4gICAgICovXHJcblxyXG4gICAgLy8gRGlzcGxheSBNb2RlIENvbnRyb2xcclxuICAgIGNvbnN0IGNEaXNwbGF5TW9kZSA9IG5ldyBDb250cm9EaXNwbGF5TW9kZShtb2Rlc0FycmF5LCBnZXREZWZhdWx0TW9kZSgpKTtcclxuICAgIG5iblRlY2hNYXAuYWRkQ29udHJvbCgnZGlzcGxheW1vZGUnLCBjRGlzcGxheU1vZGUpO1xyXG5cclxuICAgIC8vIExlZ2VuZCBDb250cm9sXHJcbiAgICBjb25zdCBjTGVnZW5kID0gbmV3IENvbnRyb2xMZWdlbmQoKTtcclxuICAgIGNMZWdlbmQudXBkYXRlTGVnZW5kKGRlZmF1bHRNb2RlLmdldExlZ2VuZEl0ZW1zKCkpO1xyXG4gICAgbmJuVGVjaE1hcC5hZGRDb250cm9sKCdsZWdlbmQnLCBjTGVnZW5kKTtcclxuXHJcbiAgICAvLyBTZWFyY2ggQ29udHJvbFxyXG5cclxuICAgIC8vIFByb2dyZXNzIENvbnRyb2xcclxuXHJcbiAgICAvLyBBZGQgZXZlbnQgTGlzdGVuZXJzXHJcbiAgICBjRGlzcGxheU1vZGUub24oJ2NoYW5nZScsIChlKSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNb2RlIENoYW5nZScsIGUpO1xyXG4gICAgICAgIGNvbnN0IG1vZGUgPSBlLmRhdGEgYXMgSU1vZGU7XHJcbiAgICAgICAgaWYgKCFtb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbmJuVGVjaE1hcC5zZXRNb2RlSGFuZGxlcihtb2RlKTtcclxuICAgICAgICBjTGVnZW5kLnVwZGF0ZUxlZ2VuZChtb2RlLmdldExlZ2VuZEl0ZW1zKCkpO1xyXG5cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kZScsIGUuc3RhdGUpO1xyXG5cclxuICAgICAgICAvLyBBZGQgbW9kZSBwYXJhbSB0byBleGlzdGluZyB1cmxcclxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnbW9kZScsIGUuc3RhdGUpO1xyXG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIHVybC50b1N0cmluZygpKTtcclxuICAgICAgICBcclxuICAgIH0pO1xyXG5cclxufSkiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAoIXNjcmlwdFVybCB8fCAhL15odHRwKHM/KTovLnRlc3Qoc2NyaXB0VXJsKSkpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ1MjQ6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzMyMF0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDgxOCkpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsImZldGNoUGFnZSIsImJvdW5kcyIsInBhZ2UiLCJwcm9jZWVkIiwibm9ydGgiLCJnZXROb3J0aCIsInRvRml4ZWQiLCJlYXN0IiwiZ2V0RWFzdCIsIkVycm9yIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJhcGlTZXJ2ZXIiLCJnZXQiLCJNYXRoIiwibWF4IiwiTnVtYmVyIiwicGFnZVVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZmV0Y2giLCJtZXRob2QiLCJyZWRpcmVjdCIsInRoZW4iLCJyZXNwb25zZSIsInRleHQiLCJyZXN1bHQiLCJwYXJzZWRSZXN1bHQiLCJKU09OIiwicGFyc2UiLCJjYXRjaCIsIm5hbWUiLCJzdWIiLCJMb2dnZXIiLCJ0aGlzIiwiZXJyb3IiLCJjb25zb2xlIiwiYXJncyIsIndhcm4iLCJkZWJ1ZyIsImlzRGVidWdNb2RlIiwiaW5mbyIsImxvZyIsImhyZWYiLCJpbmNsdWRlcyIsIm1hcCIsIm1vZGVIYW5kbGVyIiwicGxhY2VTdG9yZSIsImxvZ2dlciIsInBvaW50TWFwIiwiTWFwIiwibWFya2VycyIsIm1heENsdXN0ZXJSYWRpdXMiLCJtYXJrZXJDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlPbk1heFpvb20iLCJkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbSIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJ6b29tVG9Cb3VuZHNPbkNsaWNrIiwicmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHMiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJjaHVua2VkTG9hZGluZyIsImNodW5rSW50ZXJ2YWwiLCJjaHVua0RlbGF5IiwiY2h1bmtQcm9ncmVzcyIsInByb2Nlc3NlZCIsInRvdGFsIiwiZWxhcHNlZCIsImFkZFRvIiwib24iLCJldmVudCIsInRhcmdldCIsImdldFpvb20iLCJhZGRQb2ludHMiLCJwb2ludHMiLCJuZXdMYXllcnMiLCJmb3JFYWNoIiwicG9pbnQiLCJsYXRMbmdTdHJpbmciLCJsYXQiLCJsbmciLCJuZXdMYXllciIsInJlbmRlclBvaW50IiwicHVzaCIsInNldCIsImxheWVyIiwibGVuZ3RoIiwiYWRkTGF5ZXJzIiwicmVtb3ZlQWxsUG9pbnRzIiwiY2xlYXJMYXllcnMiLCJjbGVhciIsInJlbW92ZUFsbE1hcmtlcnMiLCJ6b29tIiwidXBkYXRlUG9pbnRTdHlsZSIsInBsYWNlcyIsInNldFN0eWxlIiwiZmlsbENvbG9yIiwicGxhY2VDb2xvdXIiLCJzZXRUb29sdGlwQ29udGVudCIsInJlbmRlclRvb2x0aXAiLCJyZWRyYXciLCJzZXRNb2RlSGFuZGxlciIsInBsYWNlc3RvcmUiLCJERVBfcmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMiLCJtRmlsdGVyIiwicmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMiLCJjaXJjbGVNYXJrZXJMYXllciIsInJhZGl1cyIsImNvbCIsInVuZGVmaW5lZCIsImNvbG9yIiwid2VpZ2h0Iiwib3BhY2l0eSIsImZpbGxPcGFjaXR5IiwiYmluZFBvcHVwIiwiZ2V0UGxhY2VzIiwiaWRzIiwicG9wdXAiLCJyZW5kZXJQb3B1cCIsInNldFBvcHVwQ29udGVudCIsImxvYWRpbmdQb3B1cCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImF1dG9QYW4iLCJhdXRvQ2xvc2UiLCJiaW5kVG9vbHRpcCIsImxhYmVsIiwiYWRkIiwicmVuZGVyUG9wdXBDb250ZW50IiwicmVuZG9yUG9wdXBNdWx0aSIsImdyb3VwRGl2IiwicGxhY2VDb250YWluZXJzIiwic29ydCIsImEiLCJiIiwiYWRkcmVzczEiLCJwbGFjZSIsInBsYWNlQ29udGFpbmVyIiwiYnV0dG9uIiwiY2xhc3NMaXN0IiwidHlwZSIsInBhbmVsIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY3VycmVudGx5QWN0aXZlIiwiY29udGFpbnMiLCJyZW1vdmUiLCJjbHVzdGVyIiwiY29sb3JBcnJheSIsImdldEFsbENoaWxkTWFya2VycyIsIm1hcmtlciIsIm9wdGlvbnMiLCJjb2xvckNvdW50cyIsImNvbG9yQXJyYXlTb3J0ZWQiLCJPYmplY3QiLCJrZXlzIiwiYmFja2dyb3VuZCIsImxhc3RDb2xvdXJQZXJjZW50IiwiaW5kZXgiLCJ0aGlzQ29sb3VyUGVyY2VudCIsInJhbmRvbUlkIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJodG1sIiwiZ2V0Q2hpbGRDb3VudCIsImNsYXNzTmFtZSIsIk1BWF9VTkZFVENIRURfQk9YRVMiLCJpbml0aWFsVmlld1NldCIsImRlYnVnQm94ZXMiLCJmZXRjaGVkQm94ZXMiLCJTZXQiLCJwcm9ncmVzc0NvbnRyb2wiLCJwb3NpdGlvbiIsInByb2dyZXNzSXRlbXMiLCJjb250cm9scyIsIk5iblRlY2hNYXAiLCJERUZBVUxUX09QVElPTlMiLCJhcGkiLCJkZWZhdWx0TW9kZUhhbmRsZXIiLCJtYXBDb250YWluZXJJZCIsInByZWZlckNhbnZhcyIsIm1hcmtlckxheWVyIiwibWFwVGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJzdWJkb21haW5zIiwiY3Jvc3NPcmlnaW4iLCJtaW5ab29tIiwibWF4Wm9vbSIsIkwiLCJHZW9jb2RlciIsImdlb2NvZGVyIiwibWFwR2VvY29kZXIiLCJBcmNHaXMiLCJhcGlLZXkiLCJnZW9jb2RpbmdRdWVyeVBhcmFtcyIsImNvdW50cnlDb2RlIiwiY2F0ZWdvcnkiLCJtYXBTZWFyY2giLCJjb2xsYXBzZWQiLCJkZWZhdWx0TWFya0dlb2NvZGUiLCJzdWdnZXN0TWluTGVuZ3RoIiwic3VnZ2VzdFRpbWVvdXQiLCJiYm94IiwiZ2VvY29kZSIsImZpdEJvdW5kcyIsIm1hcExvY2F0ZSIsImxvY2F0ZSIsImxvY2F0ZU9wdGlvbnMiLCJzZXRWaWV3Iiwia2VlcEN1cnJlbnRab29tTGV2ZWwiLCJpbml0aWFsWm9vbUxldmVsIiwiY2FjaGVMb2NhdGlvbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2V0SW5pdGlhbE1hcFZpZXciLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJzdHJpbmdpZnkiLCJwdXNoQnJvd3Nlckhpc3RvcnkiLCJmZXRjaERhdGFGb3JDdXJyZW50VmlldyIsInBhcnNlSW50IiwibmV3VXJsIiwicGF0aG5hbWUiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZ2V0U3RhcnRQb3MiLCJzdGFydFBvc1N0cmluZyIsImdldEl0ZW0iLCJnZW9GbGFnIiwic3RhcnRQb3MiLCJzdGFydCIsInNldFpvb20iLCJnZXRCb3hlc0luQm91bmRzIiwibm9ydGhtb3N0IiwiY2VpbCIsIndlc3RtbW9zdCIsImZsb29yIiwiZ2V0V2VzdCIsImJveGVzIiwibGF0aXR1ZGUiLCJnZXRTb3V0aCIsImxvbmdpdHVkZSIsImJveEJvdW5kcyIsImJveCIsIndlc3QiLCJzb3V0aCIsInJlbW92ZUxheWVyIiwiaW50ZXJhY3RpdmUiLCJnZXRDdXJyZW50Vmlld0JveGVzIiwiZ2V0Qm91bmRzIiwiaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXciLCJtYXBCb3VuZHMiLCJwYWQiLCJERVBfZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3IiwiYXR0ZW1wdCIsInNob3dab29tSW5XYXJuaW5nIiwiem9vbUluV2FybmluZ0NvbnRyb2wiLCJvbkFkZCIsImRpdiIsImNyZWF0ZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsInNldFRpbWVvdXQiLCJhZGRDb250cm9sIiwiaGlkZVpvb21Jbldhcm5pbmciLCJyZW1vdmVDb250cm9sIiwidW5mZXRjaGVkQm94ZXMiLCJmaWx0ZXIiLCJoYXMiLCJ1cGRhdGVLZXkiLCJwcm9ncmVzc0l0ZW0iLCJjcmVhdGVQcm9ncmVzcyIsInJlbmRlclByb2dyZXNzIiwiYm94ZXNQcm9jZXNzZWQiLCJ1cGRhdGVQcm9ncmVzcyIsImZldGNoRGF0YSIsImtleSIsInN0YXJ0ZWQiLCJEYXRlIiwiZmluaXNoZWQiLCJjb21wbGV0ZSIsInByb2dyZXNzIiwibm93IiwiaSIsImdldFRpbWUiLCJpdGVtcyIsInZhbHVlcyIsIml0ZW0iLCJwcm9ncmVzc1RleHQiLCJldmVyeSIsImhpZGVQcm9ncmVzcyIsImludGVyc2VjdHMiLCJkYXRhIiwicHJvY2Vzc0ZldGNoUmVzdWx0IiwiY3VycmVudFBhZ2UiLCJ0b3RhbFBhZ2VzIiwibWVzc2FnZSIsInN0b3JlUGxhY2VzIiwibGF0TG5nIiwiZXhpc3RpbmdQb2ludCIsImlkIiwiREVQUl9yZWZyZXNoUG9pbnRzRnJvbVN0b3JlIiwicm91bmRCb3VuZHMiLCJjb250cm9sIiwiZ2V0Q29udHJvbCIsImV2ZW50SGFuZGxlcnMiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImVtaXQiLCJoYW5kbGVycyIsInN0YXRlIiwiZ2V0U3RhdGUiLCJtb2RlcyIsImRlZmF1bHRNb2RlIiwiZGlzcGxheU1vZGUiLCJlbENvbnRyb2xEaXYiLCJlbERyb3Bkb3duIiwiZ2VuZXJhdGVDb250cm9sRGl2IiwiZ2VuZXJhdGVEcm9wZG93biIsImNoYW5nZU1vZGUiLCJtb2RlIiwiYm9yZGVyUmFkaXVzIiwiZHJvcGRvd24iLCJvcHRpb24iLCJ2YWx1ZSIsImlubmVyVGV4dCIsInNlbGVjdGVkIiwiZSIsImZpbmQiLCJtIiwiZ2V0VGVjaENvbG91ciIsInRlY2hUeXBlIiwicG9pbnRDb2xvdXIiLCJpc1BsYWNlRlRUUCIsImFsdFJlYXNvbkNvZGUiLCJtYXRjaCIsInRlY2hDaGFuZ2VTdGF0dXMiLCJpc1BsYWNlRlRUUEF2YWlsIiwiaXNQbGFjZUZUVFBTb29uIiwiaXNQbGFjZUZUVFBGYXIiLCJyZWFzb25Db2RlIiwiaXNQbGFjZUZUVEMiLCJpc0Z3dG9GVFRDIiwiaXNGd3RvRlRUTiIsImlzU2F0VG9GVyIsImNvbnRlbnQiLCJhZGRyZXNzMiIsInByb2dyYW1UeXBlIiwidGFyZ2V0RWxpZ2liaWxpdHlRdWFydGVyIiwiZWUiLCJjYmRwcmljaW5nIiwiemVyb0J1aWxkQ29zdCIsImhyIiwicHJlIiwiZ2V0TGVnZW5kSXRlbXMiLCJjb2xvdXIiLCJzZXRQb3NpdGlvbiIsInVwZGF0ZUxlZ2VuZCIsImNvdW50IiwiREJfTkFNRSIsInVwZ3JhZGUiLCJkYiIsIm9sZFZlcnNpb24iLCJuZXdWZXJzaW9uIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZU5hbWVzIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiYmxvY2tlZCIsImN1cnJlbnRWZXJzaW9uIiwiYmxvY2tlZFZlcnNpb24iLCJibG9ja2luZyIsInRlcm1pbmF0ZWQiLCJlcnIiLCJmaW5hbGx5IiwiaXNSZWFkeSIsIndhaXRVbnRpbFJlYWR5IiwidGltZW91dFNlY29uZHMiLCJzdGFydFRpbWUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwidGltZUVsYXBzZWQiLCJjbGVhckludGVydmFsIiwic3RvcmVQbGFjZSIsImdldERiIiwicHV0IiwidHgiLCJvYmplY3RTdG9yZSIsInB1dFByb21pc2VzIiwiYWxsIiwiZG9uZSIsImdldFBsYWNlIiwibG9jaWQiLCJsb2NpZHMiLCJ0aW1lb3V0IiwiQ09MX1RFQ0hfUExBTk5FRCIsIkNPTF9VTktOT1dOIiwiZ2V0SUQiLCJnZXROYW1lIiwiQ09MX0VFX0NCRF9aQkMiLCJDT0xfRUVfQ0JEX0JDIiwiQ09MX0VFX1oxMjNfWkJDIiwiQ09MX0VFX1oxMjNfQkMiLCJDT0xfRldfQVZBSUxfU1VQRVJGQVNUIiwiQ09MX0ZXX0FWQUlMX0ZBU1QiLCJDT0xfRldfQVZBSUxfUExVUyIsIkNPTF9GV19QTEFOTkVEIiwiQ09MX0ZXX05PVF9QTEFOTkVEIiwiaHN0U3RhdHVzIiwiaHN0U3BlZWRUaWVyIiwiZm4iLCJpc0RldmVsb3BtZW50IiwicHJvY2VzcyIsImFyZ3YiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciIsIm1hcEFwaSIsIm1vZGVzQXJyYXkiLCJnZXREZWZhdWx0TW9kZSIsIkluZGV4REJQbGFjZVN0b3JlIiwibmJuVGVjaE1hcCIsImNEaXNwbGF5TW9kZSIsImNMZWdlbmQiLCJ1cmwiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJyZWFkeVN0YXRlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwiTyIsImNodW5rSWRzIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImZ1bGZpbGxlZCIsImoiLCJzcGxpY2UiLCJyIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0ZXN0IiwicmVwbGFjZSIsInAiLCJiYXNlVVJJIiwic2VsZiIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsImJpbmQiLCJuYyIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9