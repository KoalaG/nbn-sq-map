/*! For license information please see app.0f161854cba8c17fc6d9.js.LICENSE.txt */
(()=>{"use strict";var e,t={609:(e,t,n)=>{const r=function(){function e(){}return e.prototype.fetchPage=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=function(){return!0}),r=this,o=void 0,a=function(){var r,o,i,a,s;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(l){switch(l.label){case 0:if(r=e.getNorth().toFixed(2),o=e.getWest().toFixed(2),!n())throw new Error("Proceed function returned false. Stopping fetch.");return i=new URLSearchParams(window.location.search),a=i.get("apiServer")||"https://nbn.api.lip.net.au",t=Math.max(1,Number(t)),s="".concat(a,"/places/map/").concat(r,"/").concat(o,"?page=").concat(t),[4,new Promise((function(e,t){fetch(s,{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(t){var n=JSON.parse(t);e(n)})).catch(t)}))];case 1:return[2,l.sent()]}}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,s)}l((a=a.apply(r,o||[])).next())}));var r,o,i,a},e}();n(623);var o=n(243),i=(n(664),n(687),n(634),n(817)),a=(n(732),n(256),function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}),s=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},l=function(){function e(e){this.name=e}return e.prototype.sub=function(t){return new e("".concat(this.name,".").concat(t))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c()&&console.debug.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,s(["[".concat(this.name,"]")],a(e),!1))},e}();function c(){return window.location.href.includes("localhost")||window.location.href.includes("debug=true")}var u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},d=function(){function e(e,t,n){this.logger=new l("MarkerLayerCluster"),this.pointMap=new Map,this.map=e,this.placeStore=n,this.modeHandler=t,this.markers=new o.MarkerClusterGroup({maxClusterRadius:this.markerClusterRadius,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:18,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,iconCreateFunction:this.iconCreateFunction,chunkedLoading:!0,chunkInterval:150,chunkDelay:150,chunkProgress:function(e,t,n){console.log("chunkProgress",{processed:e,total:t,elapsed:n})}}),this.markers.addTo(this.map),this.map.on("zoomend",(function(e){console.log("zoomend",e.target.getZoom())}))}return e.prototype.addPoints=function(e){var t=this,n=this.logger.sub("addPoints"),r=[];e.forEach((function(e){var n=e.lat+","+e.lng,o=t.pointMap.get(n);if(o)o.point=e;else{var i=t.renderPoint(e);r.push(i),t.pointMap.set(n,{layer:i,point:e})}})),n.debug("Adding new layers",r.length),r.length&&this.markers.addLayers(r)},e.prototype.removeAllPoints=function(){this.logger.sub("removeAllPoints").debug("Removing all points",this.pointMap),this.markers.clearLayers(),this.pointMap.clear(),this.logger.sub("removeAllPoints").debug("Removed all points",this.pointMap)},e.prototype.removeAllMarkers=function(){return u(this,void 0,void 0,(function(){return p(this,(function(e){return this.removeAllPoints(),[2]}))}))},e.prototype.markerClusterRadius=function(e){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:return 150;case 13:return 100;default:return 0}},e.prototype.updatePointStyle=function(e,t){t.setStyle({fillColor:this.modeHandler.placeColour(e[0])}),t.setTooltipContent(this.modeHandler.renderTooltip(e)),t.redraw()},e.prototype.setModeHandler=function(e,t){return this.modeHandler=e,this},e.prototype.DEP_refreshMarkersInsideBounds=function(e,t){return u(this,void 0,void 0,(function(){return p(this,(function(e){return[2]}))}))},e.prototype.removeMarkersOutsideBounds=function(e){return u(this,void 0,void 0,(function(){return p(this,(function(e){return[2]}))}))},e.prototype.renderPoint=function(e){var t=this,n=o.circleMarker([e.lat,e.lng],{radius:5,fillColor:e.col?e.col[0]:void 0,color:"#000000",weight:1,opacity:1,fillOpacity:.8});return n.on("click",(function(e){console.log("click",e)})),n.bindPopup((function(n){t.placeStore.getPlaces(e.ids).then((function(e){var r=t.renderPopup(e);n.setPopupContent(r)}));var r=document.createElement("div");return r.innerHTML='<div class="loading">Loading...</div>',r}),{autoPan:!0,autoClose:!1}),n.bindTooltip((function(t){var n=e.add[0];return e.add.length>1&&(n+=" ( + "+(e.add.length-1)+" more)"),n}),{}),n},e.prototype.renderPopup=function(e){return 1==e.length?this.modeHandler.renderPopupContent(e[0]):this.rendorPopupMulti(e)},e.prototype.rendorPopupMulti=function(e){var t,n,r=document.createElement("div"),o=[];e.sort((function(e,t){return e.address1<t.address1?-1:e.address1>t.address1?1:0}));var i=function(e){var t=document.createElement("div"),n=a.modeHandler.placeColour(e),i=document.createElement("button");i.classList.add("accordion"),i.type="button",i.innerHTML='<svg height="15" width="15" style="margin-right:3px">'+'<circle class="circle" cx="7.5" cy="9" r="5" stroke="#000" stroke-width="1" fill="'.concat(n,'" />')+"</svg>"+"<span>".concat(e.address1,"</span>");var s=document.createElement("div");s.classList.add("panel"),s.appendChild(a.modeHandler.renderPopupContent(e)),i.addEventListener("click",(function(){var e=t.classList.contains("active");o.forEach((function(e){e.classList.remove("active")})),e||t.classList.add("active")})),t.appendChild(i),t.appendChild(s),r.appendChild(t),o.push(t)},a=this;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),l=s.next();!l.done;l=s.next())i(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r},e.prototype.iconCreateFunction=function(e){var t=e.getAllChildMarkers().map((function(e){return e.options.fillColor})),n={};t.forEach((function(e){n[e]||(n[e]=0),n[e]++}));var r=Object.keys(n).sort((function(e,t){return n[t]-n[e]})),i="background: conic-gradient(",a=0;r.forEach((function(e,r){0==r&&(i+="\n"+e+" 0%");var o=n[e]/t.length*100;i+=", \n"+e+" "+a+"%",i+=", \n"+e+" "+(a+o)+"%",a+=o})),i+="\n);";var s=Math.random().toString(36).substring(7);return o.divIcon({html:"<style>#cluster_".concat(s,"::before { ").concat(i," }</style> <div id='cluster_").concat(s,"'><span>")+e.getChildCount()+"</span></div>",className:"marker-cluster"})},e}();const h=d;var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},f.apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},v=function(){function e(t){var n=this;this.MAX_UNFETCHED_BOXES=100,this.logger=new l("NbnTechMap"),this.initialViewSet=!1,this.debugBoxes=[],this.fetchedBoxes=new Set,this.progressControl=new o.Control({position:"bottomleft"}),this.progressItems={},this.controls={},t=f(f({},e.DEFAULT_OPTIONS),t),this.api=t.api,this.placeStore=t.placestore,this.modeHandler=t.defaultModeHandler,this.map=o.map(t.mapContainerId,{preferCanvas:!0}),this.markerLayer=new h(this.map,this.modeHandler,this.placeStore),this.mapTileLayer=o.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",crossOrigin:!0,minZoom:5,maxZoom:20}),this.mapTileLayer.addTo(this.map),console.log({L:o,Geocoder:i.Ms,geocoder:i.yK});var r=new i.d2.ArcGis({apiKey:"AAPKa97b8a5374db4fa9b0fdd8e55361cba4Z9fEuw3ckAOIFHK1CP_VbzTv3OTeUz3ggrFAzVPzjyn3Q7bQFzbwkDMvDxaJ-JzG",geocodingQueryParams:{countryCode:"AU",category:"Address,LatLong,Neighborhood,District,City,Metro Area"}});this.mapSearch=o.Control.geocoder({position:"topleft",collapsed:!0,defaultMarkGeocode:!1,geocoder:r,suggestMinLength:5,suggestTimeout:1e3}),this.mapSearch.on("markgeocode",(function(e){var t=e.geocode.bbox;n.map.fitBounds(t,{maxZoom:16})})),this.mapSearch.addTo(this.map),this.mapLocate=o.control.locate({position:"topleft",locateOptions:{maxZoom:16},setView:"untilPan",keepCurrentZoomLevel:!0,initialZoomLevel:17,cacheLocation:!0}),this.mapLocate.addTo(this.map),this.map.on("locateactivate",(function(){localStorage.setItem("geolocate","1")})),this.map.on("locatedeactivate",(function(){localStorage.removeItem("geolocate")})),this.setInitialMapView(),this.map.on("moveend",(function(){return g(n,void 0,void 0,(function(){var e,t;return m(this,(function(n){return e=this.map.getCenter(),t=this.map.getZoom(),localStorage.setItem("startpos",JSON.stringify({lat:e.lat,lng:e.lng,zoom:t})),this.pushBrowserHistory(),r.options.geocodingQueryParams&&(r.options.geocodingQueryParams.location="".concat(e.lng,",").concat(e.lat)),this.fetchDataForCurrentView(),[2]}))}))})),this.fetchDataForCurrentView(),window.addEventListener("popstate",(function(){var e=new URLSearchParams(window.location.search),t=e.get("lat"),r=e.get("lng"),o=e.get("zoom");t&&r&&o&&(n.map.setView([Number(t),Number(r)],parseInt(o)),n.initialViewSet=!0)}))}return e.prototype.pushBrowserHistory=function(){var e=this.map.getCenter(),t=this.map.getZoom(),n=new URLSearchParams(window.location.search);n.set("lat",e.lat.toString()),n.set("lng",e.lng.toString()),n.set("zoom",t.toString());var r=window.location.pathname+"?"+n.toString();window.history.pushState({},"",r)},e.prototype.getStartPos=function(){var e=localStorage.getItem("startpos");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},e.prototype.setInitialMapView=function(){var e=this.logger.sub("setInitialMapView");if(this.initialViewSet)e.warn("Initial map view already set");else{var t=new URLSearchParams(window.location.search),n=t.get("lat"),r=t.get("lng"),o=t.get("zoom");if(n&&r&&o)return this.map.setView([Number(n),Number(r)],parseInt(o)),void(this.initialViewSet=!0);var i=localStorage.getItem("geolocate"),a=this.getStartPos();a&&(this.map.setView([a.lat,a.lng],a.zoom),this.initialViewSet=!0),a||(this.map.setView([-26.1772288,133.4170119],10),this.initialViewSet=!0),!i&&a||(this.mapLocate.start(),this.map.setZoom(17),this.initialViewSet=!0),this.initialViewSet||e.error("Could not set initial map view")}},e.prototype.getBoxesInBounds=function(e){for(var t=this,n=.02*Math.ceil(e.getNorth()/.02),r=.02*Math.floor(e.getWest()/.02),i=[],a=n;a>e.getSouth();a-=.02)for(var s=r;s<e.getEast();s+=.02)i.push([Number(a.toFixed(2)),Number(s.toFixed(2))]);c()&&(console.log("Bounds",e),console.log("Boxes",i));var l=i.map((function(e){var t=e[0],n=e[1],r=t-.02,i=n+.02;return o.latLngBounds([r,n],[t,i])}));return c()&&(this.debugBoxes.forEach((function(e){return t.map.removeLayer(e)})),this.debugBoxes=l.map((function(e){return o.rectangle(e,{color:"#000000",weight:2,fillColor:"#ff7800",fillOpacity:.01}).addTo(t.map)}))),l},e.prototype.getCurrentViewBoxes=function(){return this.getBoxesInBounds(this.map.getBounds())},e.prototype.hideMarkersOutsideCurrentView=function(){var e=this.map.getBounds().pad(.5);this.markerLayer.removeMarkersOutsideBounds(e)},e.prototype.DEP_displayMarkersInCurrentView=function(e){return void 0===e&&(e=1),g(this,void 0,void 0,(function(){return m(this,(function(e){return[2]}))}))},e.prototype.showZoomInWarning=function(){var e=this;this.zoomInWarningControl||(this.zoomInWarningControl=new o.Control({position:"topright"}),this.zoomInWarningControl.onAdd=function(){var e=o.DomUtil.create("div","info legend");return e.innerHTML='<h4 style="margin:0">Area Too Big!</h4>',e.innerHTML+='<p style="margin:0">Location loading is paused until you zoom in.</p>',e.style.backgroundColor="#ff9800",e.style.opacity="0.8",e.style.padding="10px 20px",e.style.color="#ffffff",e});var t=this.zoomInWarningControl;setTimeout((function(){return e.map.addControl(t)}),1e3)},e.prototype.hideZoomInWarning=function(){this.zoomInWarningControl&&this.map.removeControl(this.zoomInWarningControl)},e.prototype.fetchDataForCurrentView=function(){return g(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,l,c,u,p,d=this;return m(this,(function(h){switch(h.label){case 0:if(e=this.logger.sub("fetchDataForCurrentView"),this.map.getZoom()<11)return e.warn("Zoom level too low. Skipping."),this.showZoomInWarning(),[2];if(t=this.getCurrentViewBoxes(),e.debug("Current view boxes",t),n=t.filter((function(e){return!d.fetchedBoxes.has(e.getCenter().toString())})),0==n.length)return this.hideZoomInWarning(),[2];if(n.length>this.MAX_UNFETCHED_BOXES)return e.warn("Too many boxes to fetch. Skipping."),this.showZoomInWarning(),[2];this.hideZoomInWarning(),r=this.map.getCenter().toString()+this.map.getZoom(),o=this.createProgress(r,n.length,"Fetching sections..."),this.renderProgress(),i=0,h.label=1;case 1:h.trys.push([1,6,7,8]),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),s=a.next(),h.label=2;case 2:return s.done?[3,5]:(l=s.value,this.map.getCenter().toString()+this.map.getZoom()!=r?(e.debug("Map moved. Fetch stopped."),o.text="Map moved. Fetch stopped.",this.updateProgress(r,i,!0),[2]):[4,this.fetchData(l)]);case 3:h.sent(),this.fetchedBoxes.add(l.getCenter().toString()),i++,this.updateProgress(r,i,!1),h.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return c=h.sent(),u={error:c},[3,8];case 7:try{s&&!s.done&&(p=a.return)&&p.call(a)}finally{if(u)throw u.error}return[7];case 8:return this.updateProgress(r,i,!0),e.debug("All boxes fetched"),[2]}}))}))},e.prototype.createProgress=function(e,t,n){return this.progressItems[e]={started:new Date,finished:void 0,complete:!1,progress:0,total:t,text:n},this.progressItems[e]},e.prototype.updateProgress=function(e,t,n){if(!this.progressItems[e])throw new Error("Progress item with key ".concat(e," does not exist"));this.progressItems[e].finished=n?new Date:void 0,this.progressItems[e].complete=n,this.progressItems[e].progress=t,this.renderProgress()},e.prototype.renderProgress=function(){for(var e=this,t=new Date,n=Object.keys(this.progressItems),r=0;r<n.length;r++){var i=n[r];if(this.progressItems[i]){var a=this.progressItems[i].finished;a&&t.getTime()-a.getTime()>5e3&&delete this.progressItems[i]}}0!=Object.keys(this.progressItems).length?(this.progressControl.onAdd=function(){var t=o.DomUtil.create("div","info legend");t.innerHTML='<h4 style="margin:0">Loading...</h4>';for(var n=Object.values(e.progressItems),r=0;r<n.length;r++){var i=n[r];if(!(i.finished&&(new Date).getTime()-i.finished.getTime()>1e4)){var a=i.progress/i.total*100,s=i.complete?"Complete":"".concat(i.progress," of ").concat(i.total);t.innerHTML+='<p style="margin:0">'.concat(i.text," (").concat(s,")</p>"),t.innerHTML+='<progress value="'.concat(a,'" max="100"></progress>')}}return t.style.backgroundColor="#000000",t.style.opacity="0.8",t.style.padding="10px 20px",t.style.color="#ffffff",t},this.map.addControl(this.progressControl),setTimeout((function(){Object.values(e.progressItems).every((function(e){return e.complete}))&&e.hideProgress()}),5e3)):this.hideProgress()},e.prototype.hideProgress=function(){this.map.removeControl(this.progressControl)},e.prototype.fetchData=function(e,t){return void 0===t&&(t=1),g(this,void 0,void 0,(function(){var n,r,o,i,a=this;return m(this,(function(s){switch(s.label){case 0:this.logger.sub("fetchData").debug("Fetching Box",e.getCenter().toString(),t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,this.api.fetchPage(e,t,(function(){return a.map.getBounds().intersects(e)}))];case 2:return n=s.sent(),this.processFetchResult(n,e),r=n.page,o=n.totalPages,r<o?[4,this.fetchData(e,n.page+1)]:[3,4];case 3:return[2,s.sent()];case 4:return[2];case 5:return"Page already loaded this session."==(i=s.sent()).message?[2]:(console.error(i),[3,6]);case 6:return[2]}}))}))},e.prototype.processFetchResult=function(e,t){var n=this.logger.sub("processFetchResult");n.debug("Processing Fetch Result",e,t),this.placeStore.storePlaces(e.places).catch((function(e){return console.error("Error storing places",e)}));for(var r=new Map,o=0;o<e.places.length;o++){var i=e.places[o];if(this.modeHandler.filter(i)){var a="".concat(i.latitude,",").concat(i.longitude),s=this.modeHandler.placeColour(i),l=r.get(a);l?l.ids.includes(i.id)||(l.ids.push(i.id),l.add.push(i.address1),l.col.push(s)):r.set(a,{lat:i.latitude,lng:i.longitude,col:[s],add:[i.address1],ids:[i.id]})}}n.debug("Adding points to marker layer",r),this.markerLayer.addPoints(r)},e.prototype.DEPR_refreshPointsFromStore=function(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){if(!this.markerLayer)throw new Error("Marker Layer not set");return e||(console.log("Bounds not passed. Using map bounds."),e=this.map.getBounds()),e=function(e){var t=Math.ceil(50*e.getNorth())/50,n=Math.floor(25*e.getWest())/25,r=Math.floor(50*e.getSouth())/50,i=Math.ceil(25*e.getEast())/25;return o.latLngBounds([r,n],[t,i])}(e),[2]}))}))},e.prototype.addControl=function(e,t){if(this.controls[e])throw new Error("Control with key ".concat(e," already exists"));this.controls[e]=t,this.map.addControl(t.getControl()),console.log("Added control",e)},e.prototype.setModeHandler=function(e){var t,n;this.modeHandler=e,null===(t=this.markerLayer)||void 0===t||t.removeAllMarkers(),console.log("Current Fetched Boxes",this.fetchedBoxes),this.fetchedBoxes.clear(),console.log("Fetched Boxes Cleared",this.fetchedBoxes),null===(n=this.markerLayer)||void 0===n||n.setModeHandler(e,this.placeStore),this.fetchDataForCurrentView()},e.DEFAULT_OPTIONS={mapContainerId:"map"},e}();const y=v,b=function(){function e(){this.eventHandlers={},this.control=new o.Control}return e.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)},e.prototype.emit=function(e,t){var n=this;console.debug("Emitting event: ".concat(e),{data:t,handlers:this.eventHandlers[e]}),this.eventHandlers[e]&&this.eventHandlers[e].forEach((function(r){return r({name:e,state:n.getState(),data:t})}))},e.prototype.getControl=function(){return this.control},e}();var w,C=(w=function(e,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},w(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const T=function(e){function t(){var t=e.call(this)||this;return t.displayMode="all",t.elControlDiv=document.createElement("div"),t.elDropdown=document.createElement("select"),t.allLabel=null,t.allRadio=null,t.allText=null,t.upgradeLabel=null,t.upgradeRadio=null,t.upgradeText=null,t.eeLabel=null,t.eeRadio=null,t.eeText=null,t.generateControlDiv(),t.control.onAdd=function(e){return t.generateDropdown(),t.elControlDiv},t}return C(t,e),t.prototype.getState=function(){return this.displayMode},t.prototype.changeMode=function(e){this.displayMode=e,this.emit("change",e)},t.prototype.generateControlDiv=function(){this.elControlDiv&&console.warn("ControlDiv already exists"),this.elControlDiv.classList.add("info","legend"),this.elControlDiv.style.backgroundColor="#ffffff",this.elControlDiv.style.opacity="0.8",this.elControlDiv.style.padding="5px",this.elControlDiv.style.borderRadius="5px"},t.prototype.generateDropdown=function(){var e=this;this.elDropdown&&console.warn("Dropdown already exists");var t=this.elDropdown;t.classList.add("control-select");var n=document.createElement("option");n.value="all",n.innerText="Show All Locations",t.appendChild(n);var r=document.createElement("option");r.value="upgrade",r.innerText="Tech Upgrades",t.appendChild(r);var o=document.createElement("option");o.value="ee",o.innerText="Enterprise Ethernet",t.appendChild(o),t.addEventListener("change",(function(t){return e.changeMode(t.target.value)})),this.elDropdown=t,this.elControlDiv.appendChild(t)},t}(b);var S="#1D7044",P="#75AD6F",x="#C8E3C5",E="#FFBE00",M="#FF7E01",L="#E3071D",k="#02B9E3",D="#022BE3",F="#6B02E3",B="#888888";function H(e){switch(e){case"FTTP":return S;case"FTTC":return M;case"FTTN":case"FTTB":return L;case"HFC":return E;case"WIRELESS":return k;case"SATELLITE":return F}return B}const I=function(){function e(){}return e.prototype.filter=function(e){return!0},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){return function(e){return"FTTP"===e.techType}(e)?S:function(e){return!(!e.altReasonCode||!e.altReasonCode.match(/^FTTP/)||"Eligible To Order"!==e.techChangeStatus)}(e)?P:function(e){if(e.altReasonCode&&e.altReasonCode.match(/^FTTP/))switch(e.techChangeStatus){case"In Design":case"Build Finalised":case"Planned":case"MDU Complex Eligible To Apply":case"MDU Complex Premises In Build":return!0}return!1}(e)?x:function(e){if(e.altReasonCode&&e.altReasonCode.match(/^FTTP/)&&"Committed"===e.techChangeStatus)return!0}(e)?H(e.techType):function(e){return!("FTTC"!=e.techType||!e.reasonCode||!e.reasonCode.match(/^FTTC/)||"New Tech Connected"!=e.techChangeStatus)}(e)?M:function(e){return"FTTC"==e.techType&&"FTTC_SA"==e.reasonCode&&"FW_CT"==e.altReasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?"#FF7E01":function(e){return"FTTN"==e.techType&&"FTTN_SA"==e.reasonCode&&"FW_CT"==e.altReasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?L:function(e){return"WIRELESS"==e.techType&&"FW_SA"==e.reasonCode&&"Eligible To Order"==e.techChangeStatus}(e)?D:(e.altReasonCode&&"NULL_NA"!=e.altReasonCode&&console.log(e),H(e.techType))},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.id+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=e.techType&&e.altReasonCode&&"NULL_NA"!=e.altReasonCode?(e.altReasonCode&&e.altReasonCode.match(/^FTTP/),t.innerHTML+="Current: "+e.techType+"<br />",t.innerHTML+="Change: "+e.altReasonCode+"<br />",t.innerHTML+="Status: "+e.techChangeStatus+"<br />",t.innerHTML+="Program: "+e.programType+"<br />",t.innerHTML+="Target Qtr: "+e.targetEligibilityQuarter+"<br />"):(t.innerHTML+="Technology: "+e.techType+"<br />","FTTP"!=e.techType&&(t.innerHTML+="No tech upgrade planned<br />")),t.innerHTML+="<br />",e.ee&&(t.innerHTML+="<b>Enterprise Ethernet</b></br>",t.innerHTML+="Price Zone: "+(e.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",t.innerHTML+="Build Cost: "+(e.zeroBuildCost?"$0":"POA")+"<br />",t.innerHTML+="<br />"),c()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(e,null,2),t.appendChild(n),t.appendChild(r)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"FTTP",colour:S},{label:"FTTP Upgrade",colour:P},{label:"FTTP Upgrade Soon",colour:x},{label:"HFC",colour:E},{label:"FTTC",colour:M},{label:"FTTN/FTTB",colour:L},{label:"FW",colour:k},{label:"FW Upgrade",colour:D},{label:"Satellite",colour:F},{label:"Unknown",colour:B}]},e}();var O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const A=function(e){function t(){var t=e.call(this)||this;return t.elControlDiv=document.createElement("div"),t.control.setPosition("bottomright"),t.elControlDiv.classList.add("info","legend"),t.elControlDiv.style.backgroundColor="#ffffff",t.elControlDiv.style.opacity="0.8",t.elControlDiv.style.padding="5px",t.elControlDiv.style.borderRadius="5px",t.control.onAdd=function(e){return t.elControlDiv},t}return O(t,e),t.prototype.getState=function(){},t.prototype.updateLegend=function(e){var t="";e.forEach((function(e){t+='<svg height="10" width="10"><circle cx="5" cy="5" r="5" fill="'+e.colour+'" stroke="#000000" stroke-width="1" opacity="1" fill-opacity="0.8" /></svg> '+e.label,e.count&&(t+=" ("+e.count+")"),t+="<br>"})),this.elControlDiv.innerHTML=t},t}(b);n.p,n.p,n.p;var R=n(269),U=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},_=function(){function e(){var e=this;this.DB_NAME="nsm-placestore",this.logger=new l("IndexDBPlaceStore"),this.logger.info("Setting up database..."),(0,R.X3)(this.DB_NAME,2,{upgrade:function(e,t,n,r,o){e.objectStoreNames.contains("nbnPlaceStore")||e.createObjectStore("nbnPlaceStore",{keyPath:"id"})},blocked:function(t,n,r){e.logger.warn("Database blocked!",{currentVersion:t,blockedVersion:n,event:r})},blocking:function(t,n,r){e.logger.warn("Database blocking!",{currentVersion:t,blockedVersion:n,event:r})},terminated:function(){e.logger.warn("Database terminated!")}}).then((function(t){e.db=t,e.logger.info("Database ready!")})).catch((function(t){e.logger.error("Failed to open database: ",t)})).finally((function(){e.logger.info("Database setup complete.")}))}return e.prototype.isReady=function(){return!!this.db},e.prototype.waitUntilReady=function(e){return U(this,void 0,void 0,(function(){var t=this;return N(this,(function(n){return[2,new Promise((function(n,r){var o=Date.now(),i=setInterval((function(){var a=Date.now()-o;t.isReady()?(clearInterval(i),n()):a>1e3*e&&(clearInterval(i),r(new Error("Database not ready after ".concat(e," seconds."))))}),100)}))]}))}))},e.prototype.storePlace=function(e){return U(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.getDb()];case 1:return[4,t.sent().put("nbnPlaceStore",e)];case 2:return t.sent(),[2]}}))}))},e.prototype.storePlaces=function(e){return U(this,void 0,void 0,(function(){var t,n,r,o;return N(this,(function(i){switch(i.label){case 0:return[4,this.getDb()];case 1:return t=i.sent(),n=t.transaction(["nbnPlaceStore"],"readwrite",{durability:"relaxed"}),r=n.objectStore("nbnPlaceStore"),o=e.filter((function(e){return e})).map((function(e){return r.put(e)})),[4,Promise.all(o)];case 2:return i.sent(),[4,n.done];case 3:return i.sent(),[2]}}))}))},e.prototype.getPlace=function(e){return U(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.getDb()];case 1:return[4,t.sent().get("nbnPlaceStore",e)];case 2:return[2,t.sent()]}}))}))},e.prototype.getPlaces=function(e){return U(this,void 0,void 0,(function(){var t,n,r,o;return N(this,(function(i){switch(i.label){case 0:return[4,this.getDb()];case 1:return t=i.sent(),n=t.transaction(["nbnPlaceStore"],"readonly"),r=n.objectStore("nbnPlaceStore"),[4,Promise.all(e.map((function(e){return r.get(e)})))];case 2:return o=i.sent(),[4,n.done];case 3:return i.sent(),[2,o.filter((function(e){return!!e}))]}}))}))},e.prototype.getDb=function(e){return void 0===e&&(e=5),U(this,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return[4,this.waitUntilReady(e)];case 1:if(t.sent(),!this.db)throw new Error("Database not ready.");return[2,this.db]}}))}))},e}(),z="#1D7044",V="#02B9E3",Z="#FFBE00",j="#FF7E01",W="#E3071D",G="#022BE3",Q="#6B02E3",J="#888888";const $=function(){function e(){}return e.prototype.filter=function(e){return"Not Planned"!=e.techChangeStatus&&!!e.techChangeStatus},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){switch(e.techChangeStatus){case"Previous Tech Disconnected":case"New Tech Connected":return z;case"In Design":return j;case"Build Finalised":return Z;case"Committed":return W;case"Eligible To Order":return V;case"MDU Complex Eligible To Apply":return Q;case"MDU Complex Premises In Build":return G}return J},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.id+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=e.techType&&e.altReasonCode&&"NULL_NA"!=e.altReasonCode?(e.altReasonCode&&e.altReasonCode.match(/^FTTP/),t.innerHTML+="Current: "+e.techType+"<br />",t.innerHTML+="Change: "+e.altReasonCode+"<br />",t.innerHTML+="Status: "+e.techChangeStatus+"<br />",t.innerHTML+="Program: "+e.programType+"<br />",t.innerHTML+="Target Qtr: "+e.targetEligibilityQuarter+"<br />"):(t.innerHTML+="Technology: "+e.techType+"<br />","FTTP"!=e.techType&&(t.innerHTML+="No tech upgrade planned<br />")),t.innerHTML+="<br />",c()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(e,null,2),t.appendChild(n),t.appendChild(r)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"Previous Tech Disconnected",colour:z},{label:"New Tech Connected",colour:z},{label:"Eligible To Order",colour:V},{label:"Build Finalised",colour:Z},{label:"In Design",colour:j},{label:"Committed",colour:W},{label:"MDU Complex Eligible To Apply",colour:Q},{label:"MDU Complex Premises In Build",colour:G},{label:"Unknown",colour:J}]},e}();var X="#1D7044",K="#02B9E3",q="#FF7E01",Y="#E3071D",ee="#888888";const te=function(){function e(){}return e.prototype.filter=function(e){return e.ee},e.prototype.pointColour=function(e){return this.placeColour(e.places[0])},e.prototype.placeColour=function(e){return e.cbdpricing&&e.zeroBuildCost?X:e.cbdpricing&&!e.zeroBuildCost?K:!e.cbdpricing&&e.zeroBuildCost?q:e.cbdpricing||e.zeroBuildCost?ee:Y},e.prototype.renderPopupContent=function(e){var t=o.DomUtil.create("div");if(t.innerHTML="<b>"+e.id+"</b></br>"+e.address1+"</br>"+e.address2+"</br><br />",t.innerHTML+="<b>Enterprise Ethernet</b></br>",t.innerHTML+="Price Zone: "+(e.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",t.innerHTML+="Build Cost: "+(e.zeroBuildCost?"$0":"POA")+"<br />",t.innerHTML+="<br />",c()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(e,null,2),t.appendChild(n),t.appendChild(r)}return t},e.prototype.renderTooltip=function(e){var t=e[0].address1;return e.length>1&&(t+=" ( + "+(e.length-1)+" more)"),t},e.prototype.getLegendItems=function(){return[{label:"EE CBD $0",colour:X},{label:"EE CBD POA",colour:K},{label:"EE Z123 $0",colour:q},{label:"EE Zone 1/2/3 POA",colour:Y},{label:"Unknown",colour:ee}]},e}();var ne,re=new l("index.ts"),oe=function(){try{return process.argv.includes("development")}catch(e){return!1}}();re.debug("isDevelopment",oe),"serviceWorker"in navigator&&!oe&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(e){re.info("SW registered: ",e)})).catch((function(e){re.warn("SW registration failed: ",e)}))})),ne=function(){var e=new r,t=new I,n=new $,o=new te,i=function(e){switch(e||(e=new URLSearchParams(window.location.search).get("mode")||localStorage.getItem("mode")||"all"),e){case"all":default:return t;case"upgrade":return n;case"ee":return o}},a=i(),s=new _,l=new y({mapContainerId:"map",api:e,defaultModeHandler:a,placestore:s}),c=new T;l.addControl("displaymode",c);var u=new A;u.updateLegend(a.getLegendItems()),l.addControl("legend",u),c.on("change",(function(e){var t=i(e.state);if(t){l.setModeHandler(t),u.updateLegend(t.getLegendItems()),localStorage.setItem("mode",e.state);var n=new URL(window.location.href);n.searchParams.set("mode",e.state),window.history.pushState({},"",n.toString())}}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(ne,1):document.addEventListener("DOMContentLoaded",ne)},36:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 stroke=%27%23000%27 stroke-linecap=%27round%27 stroke-width=%271.6%27 viewBox=%270 0 24 24%27%3E%3Cdefs/%3E%3Cg%3E%3Cpath stroke-opacity=%27.1%27 d=%27M14 8.4l3-5%27/%3E%3Cpath stroke-opacity=%27.2%27 d=%27M15.6 10l5-3%27/%3E%3Cpath stroke-opacity=%27.3%27 d=%27M16.2 12H22%27/%3E%3Cpath stroke-opacity=%27.4%27 d=%27M15.6 14l5 3m-6.5-1.4l2.9 5%27/%3E%3Cpath stroke-opacity=%27.5%27 d=%27M12 16.2V22m-2-6.4l-3 5%27/%3E%3Cpath stroke-opacity=%27.6%27 d=%27M8.4 14l-5 3%27/%3E%3Cpath stroke-opacity=%27.7%27 d=%27M7.8 12H2%27/%3E%3Cpath stroke-opacity=%27.8%27 d=%27M8.4 10l-5-3%27/%3E%3Cpath stroke-opacity=%27.9%27 d=%27M10 8.4l-3-5%27/%3E%3Cpath d=%27M12 7.8V2%27/%3E%3CanimateTransform attributeName=%27transform%27 calcMode=%27discrete%27 dur=%271s%27 repeatCount=%27indefinite%27 type=%27rotate%27 values=%270 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12%27/%3E%3C/g%3E%3C/svg%3E"},585:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Cpath d=%27M12.2 13l3.4 6.6c.6 1.1 2.5-.4 2-1.2l-4-6.2z%27/%3E%3Ccircle cx=%2710.8%27 cy=%278.9%27 r=%273.9%27 fill=%27none%27 stroke=%27%23000%27 stroke-width=%271.5%27/%3E%3C/svg%3E"},539:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M304 48a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48 368a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm208-208a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM96 256a48 48 0 1 0-96 0 48 48 0 0 0 96 0zm13 99a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm294 0a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM109 61a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"/></svg>'},141:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},478:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%28252, 132, 40%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},38:e=>{e.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%2832, 116, 182%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!e;)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=document.baseURI||self.location.href;var e={143:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,s,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var o=r.O(void 0,[578],(()=>r(609)));o=r.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxLQUFLLEtBQU1ELEVBQW1CL1ksS0FBS2daLEtBQUtELFFDaER2RmpELEVBQW9CbUQsUUFBS3ZYLEVDR3pCLElBQUl3WCxFQUFzQnBELEVBQW9CUSxPQUFFNVUsRUFBVyxDQUFDLE1BQU0sSUFBT29VLEVBQW9CLE9BQzdGb0QsRUFBc0JwRCxFQUFvQlEsRUFBRTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS9saXBfYXBpLmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFya2VybGF5ZXIvbWFya2VybGF5ZXIuY2x1c3Rlci5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmJuX3RlY2hfbWFwLmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9scy9jb250cm9sLmFic3RyYWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9scy9jb250cm9sX2Rpc3BsYXlfbW9kZS5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZXMvbW9kZS5hbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xzL2NvbnRyb2xfbGVnZW5kLmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9wbGFjZXN0b3JlL2luZGV4ZGIucGxhY2VzdG9yZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZXMvdGVjaHVwZ3JhZGUubW9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZXMvZWUubW9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly8vd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsImltcG9ydCBJQXBpIGZyb20gXCIuLi9pbnRlcmZhY2VzL2FwaS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTmJuUGxhY2VBcGlSZXNwb25zZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBpc0RlYnVnTW9kZSB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlwQXBpIGltcGxlbWVudHMgSUFwaSB7XHJcblxyXG4gICAgYXN5bmMgZmV0Y2hQYWdlKFxyXG4gICAgICAgIGJvdW5kczogTC5MYXRMbmdCb3VuZHMsXHJcbiAgICAgICAgcGFnZTogbnVtYmVyID0gMSxcclxuICAgICAgICBwcm9jZWVkOiAoKSA9PiBib29sZWFuID0gKCkgPT4gdHJ1ZSxcclxuICAgICkgOiBQcm9taXNlPE5iblBsYWNlQXBpUmVzcG9uc2U+XHJcbiAgICB7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vcnRoID0gYm91bmRzLmdldE5vcnRoKCkudG9GaXhlZCgyKTtcclxuICAgICAgICBjb25zdCB3ZXN0ID0gYm91bmRzLmdldFdlc3QoKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgICAgICBpZiAoIXByb2NlZWQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2NlZWQgZnVuY3Rpb24gcmV0dXJuZWQgZmFsc2UuIFN0b3BwaW5nIGZldGNoLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IHVybCBwYXJhbWV0ZXIgYXBpU2VydmVyXHJcbiAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICBjb25zdCBhcGlTZXJ2ZXIgPSB1cmxQYXJhbXMuZ2V0KCdhcGlTZXJ2ZXInKSB8fCAnaHR0cHM6Ly9uYm4uYXBpLmxpcC5uZXQuYXUnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBhZ2UgPSBNYXRoLm1heCgxLCBOdW1iZXIocGFnZSkpO1xyXG5cclxuICAgICAgICBjb25zdCBwYWdlVXJsID0gYCR7YXBpU2VydmVyfS9wbGFjZXMvbWFwLyR7bm9ydGh9LyR7d2VzdH0/cGFnZT0ke3BhZ2V9YDtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgZmV0Y2gocGFnZVVybCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0OiAnZm9sbG93JyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxyXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpIGFzIE5iblBsYWNlQXBpUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHBhcnNlZFJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCB7IE5iblBsYWNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuXHJcbiAgICBzdWIobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dnZXIoYCR7dGhpcy5uYW1lfS4ke25hbWV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBuYW1lOiBzdHJpbmcpIHtcclxuICAgIH1cclxuXHJcbiAgICBlcnJvciguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FybiguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWJ1ZyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpbmZvKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2h1bmtBcnJheTxUPihhcnJheTogVFtdLCBzaXplOiBudW1iZXIpOiBUW11bXSB7XHJcbiAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICB3aGlsZSAoYXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKGFycmF5LnNwbGljZSgwLCBzaXplKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVidWdNb2RlKCkge1xyXG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnXHJcbiAgICAgICAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2xvY2FsaG9zdCcpXHJcbiAgICAgICAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2RlYnVnPXRydWUnKVxyXG4gICAgO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFAocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdGVFRQJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFROKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUTic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlSEZDKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnSEZDJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRCKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUQic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUQyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIGlmKHBsYWNlLnRlY2hUeXBlID09IFwiRlRUQ1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSAmJiBwbGFjZS5yZWFzb25Db2RlLm1hdGNoKC9eRlRUQy8pXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnTmV3IFRlY2ggQ29ubmVjdGVkJ1xyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRml4ZWRXaXJlbGVzcyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZpeGVkIFdpcmVsZXNzJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VTYXRlbGxpdGUocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdTYXRlbGxpdGUnO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBBdmFpbChwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUubWF0Y2goL15GVFRQLykpIHtcclxuICAgICAgICBzd2l0Y2gocGxhY2UudGVjaENoYW5nZVN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdFbGlnaWJsZSBUbyBPcmRlcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUUFNvb24ocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnSW4gRGVzaWduJzpcclxuICAgICAgICAgICAgY2FzZSAnQnVpbGQgRmluYWxpc2VkJzpcclxuICAgICAgICAgICAgY2FzZSAnUGxhbm5lZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IEVsaWdpYmxlIFRvIEFwcGx5JzpcclxuICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBGYXIocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnQ29tbWl0dGVkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnd0b0ZUVE4ocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJGVFROXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRlRUTl9TQVwiXHJcbiAgICAgICAgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSBcIkZXX0NUXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnd0b0ZUVEMocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJGVFRDXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRlRUQ19TQVwiXHJcbiAgICAgICAgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSBcIkZXX0NUXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU2F0VG9GVyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PSBcIldJUkVMRVNTXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRldfU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ0VsaWdpYmxlIFRvIE9yZGVyJ1xyXG4gICAgO1xyXG59XHJcbiIsImltcG9ydCBJRGF0YXN0b3JlIGZyb20gXCIuLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IElNYXJrZXJMYXllciBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2VcIjtcclxuXHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXInO1xyXG5pbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuY3NzJztcclxuXHJcbmltcG9ydCB7IE5iblBsYWNlLCBQb2ludEFuZExvY2lkcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5cclxuLy8gQ29uc3RhbnQgQ29sb3Vyc1xyXG5jb25zdCBjb2xvdXJGVFRQIFx0XHQ9ICcjMUQ3MDQ0JztcclxuY29uc3QgY29sb3VyRlRUUEF2YWlsICAgPSAnIzc1QUQ2Ric7XHJcbmNvbnN0IGNvbG91ckZUVFBTb29uICAgID0gJyNDOEUzQzUnO1xyXG5jb25zdCBjb2xvdXJIRkMgXHRcdD0gJyNGRkJFMDAnO1xyXG5jb25zdCBjb2xvdXJGVFRDIFx0XHQ9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUQ0F2YWlsICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVE5CIFx0XHQ9ICcjRTMwNzFEJztcclxuY29uc3QgY29sb3VyRlcgXHRcdCAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgY29sb3VyRldBdmFpbCBcdD0gJyMwMjJCRTMnO1xyXG5jb25zdCBjb2xvdXJTYXQgXHQgICAgPSAnIzZCMDJFMyc7XHJcblxyXG5jb25zdCBjb2xvdXJFRV9DQkRfWkJDICA9ICcjMUQ3MDQ0JztcclxuY29uc3QgY29sb3VyRUVfQ0JEX0JDICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IGNvbG91ckVFX1oxMjNfWkJDID0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJFRV9aMTIzX0JDICA9ICcjRTMwNzFEJztcclxuXHJcbmNvbnN0IENPTF9URUNIX0NPTVBMRVRFICAgICAgICAgPSAnIzFENzA0NCc7XHJcbmNvbnN0IENPTF9URUNIX0FWQUlMICAgICAgICAgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IENPTF9URUNIX0JVSUxERklOQUxJU0VEICAgPSAnI0ZGQkUwMCc7XHJcbmNvbnN0IENPTF9URUNIX0RFU0lHTiAgICAgICAgICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IENPTF9URUNIX0NPTU1JVFRFRCAgICAgICAgPSAnI0UzMDcxRCc7XHJcblxyXG5jb25zdCBDT0xfVEVDSF9NRFVfSU5CVUlMRCAgICAgID0gJyMwMjJCRTMnO1xyXG5jb25zdCBDT0xfVEVDSF9NRFVfRUxJR0lCTEUgICAgID0gJyM2QjAyRTMnO1xyXG5cclxuY29uc3QgY29sb3VyVW5rbm93biAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBJUGxhY2VTdG9yZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9wbGFjZXN0b3JlLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlckxheWVyQ2x1c3RlciBpbXBsZW1lbnRzIElNYXJrZXJMYXllciB7XHJcblxyXG4gICAgcHJpdmF0ZSBsb2dnZXIgPSBuZXcgTG9nZ2VyKCdNYXJrZXJMYXllckNsdXN0ZXInKTtcclxuXHJcbiAgICBwcml2YXRlIG1hcDogTC5NYXA7XHJcbiAgICBwcml2YXRlIHBsYWNlU3RvcmU6IElQbGFjZVN0b3JlO1xyXG4gICAgcHJpdmF0ZSBtb2RlSGFuZGxlcjogSU1vZGU7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXJrZXJzOiBMLk1hcmtlckNsdXN0ZXJHcm91cDtcclxuXHJcbiAgICBwcml2YXRlIHBvaW50TWFwOiBNYXA8c3RyaW5nLCB7XHJcbiAgICAgICAgbGF5ZXI6IEwuQ2lyY2xlTWFya2VyLFxyXG4gICAgICAgIHBvaW50OiBQb2ludEFuZExvY2lkc1xyXG4gICAgfT4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IobWFwOiBMLk1hcCwgbW9kZUhhbmRsZXI6IElNb2RlLCBwbGFjZVN0b3JlOiBJUGxhY2VTdG9yZSkge1xyXG5cclxuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcclxuICAgICAgICB0aGlzLnBsYWNlU3RvcmUgPSBwbGFjZVN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gbmV3IEwuTWFya2VyQ2x1c3Rlckdyb3VwKHtcclxuICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogdGhpcy5tYXJrZXJDbHVzdGVyUmFkaXVzLFxyXG4gICAgICAgICAgICBzcGlkZXJmeU9uTWF4Wm9vbTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiAxOCxcclxuICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogdHJ1ZSxcclxuICAgICAgICAgICAgem9vbVRvQm91bmRzT25DbGljazogdHJ1ZSxcclxuICAgICAgICAgICAgcmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHM6IHRydWUsXHJcbiAgICAgICAgICAgIGljb25DcmVhdGVGdW5jdGlvbjogdGhpcy5pY29uQ3JlYXRlRnVuY3Rpb24sXHJcbiAgICAgICAgICAgIGNodW5rZWRMb2FkaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBjaHVua0ludGVydmFsOiAxNTAsXHJcbiAgICAgICAgICAgIGNodW5rRGVsYXk6IDE1MCxcclxuICAgICAgICAgICAgY2h1bmtQcm9ncmVzczogKHByb2Nlc3NlZCwgdG90YWwsIGVsYXBzZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaHVua1Byb2dyZXNzJywgeyBwcm9jZXNzZWQsIHRvdGFsLCBlbGFwc2VkIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlcnMuYWRkVG8odGhpcy5tYXApO1xyXG5cclxuICAgICAgICB0aGlzLm1hcC5vbignem9vbWVuZCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnem9vbWVuZCcsIGV2ZW50LnRhcmdldC5nZXRab29tKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBwb2ludHMgdG8gdGhlIG1hcFxyXG4gICAgICogQHBhcmFtIHBvaW50cyBcclxuICAgICAqL1xyXG4gICAgYWRkUG9pbnRzKFxyXG4gICAgICAgIHBvaW50czogTWFwPHN0cmluZywgUG9pbnRBbmRMb2NpZHM+XHJcbiAgICApIDogdm9pZFxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ2FkZFBvaW50cycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG5ld0xheWVyczogTC5DaXJjbGVNYXJrZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIHBvaW50cyB0byB0aGUgcG9pbnQgc3RvcmVcclxuICAgICAgICBwb2ludHMuZm9yRWFjaCgocG9pbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbGF0TG5nU3RyaW5nID0gcG9pbnQubGF0ICsgJywnICsgcG9pbnQubG5nO1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludE1hcCA9IHRoaXMucG9pbnRNYXAuZ2V0KGxhdExuZ1N0cmluZyk7XHJcbiAgICAgICAgICAgIGlmICghcG9pbnRNYXApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xheWVyID0gdGhpcy5yZW5kZXJQb2ludChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICBuZXdMYXllcnMucHVzaChuZXdMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50TWFwLnNldChsYXRMbmdTdHJpbmcsIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcjogbmV3TGF5ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBvaW50TWFwLnBvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGFsbCB0aGUgbGF5ZXJzIHRvIHRoZSBtYXBcclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0FkZGluZyBuZXcgbGF5ZXJzJywgbmV3TGF5ZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgaWYgKG5ld0xheWVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzLmFkZExheWVycyhuZXdMYXllcnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgcG9pbnRzIGZyb20gdGhlIG1hcFxyXG4gICAgICogQHBhcmFtIHBvaW50cyBcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlQWxsUG9pbnRzKCkgOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuc3ViKCdyZW1vdmVBbGxQb2ludHMnKS5kZWJ1ZygnUmVtb3ZpbmcgYWxsIHBvaW50cycsIHRoaXMucG9pbnRNYXApO1xyXG4gICAgICAgIHRoaXMubWFya2Vycy5jbGVhckxheWVycygpO1xyXG4gICAgICAgIHRoaXMucG9pbnRNYXAuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci5zdWIoJ3JlbW92ZUFsbFBvaW50cycpLmRlYnVnKCdSZW1vdmVkIGFsbCBwb2ludHMnLCB0aGlzLnBvaW50TWFwKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIGFzeW5jIHJlbW92ZUFsbE1hcmtlcnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxQb2ludHMoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbWFya2VyQ2x1c3RlclJhZGl1cyh6b29tOiBudW1iZXIpIHtcclxuICAgICAgICBzd2l0Y2goem9vbSkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgIGNhc2UgMTA6XHJcbiAgICAgICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICAgIGNhc2UgMTI6IHJldHVybiAxNTA7XHJcbiAgICAgICAgICAgIGNhc2UgMTM6IHJldHVybiAxMDA7XHJcbiAgICAgICAgICAgIGNhc2UgMTQ6IFxyXG4gICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVQb2ludFN0eWxlKHBsYWNlczogTmJuUGxhY2VbXSwgbGF5ZXI6IEwuQ2lyY2xlTWFya2VyKSB7XHJcbiAgICAgICAgbGF5ZXIuc2V0U3R5bGUoe1xyXG4gICAgICAgICAgICBmaWxsQ29sb3I6IHRoaXMubW9kZUhhbmRsZXIucGxhY2VDb2xvdXIocGxhY2VzWzBdKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBsYXllci5zZXRUb29sdGlwQ29udGVudCh0aGlzLm1vZGVIYW5kbGVyLnJlbmRlclRvb2x0aXAocGxhY2VzKSk7XHJcbiAgICAgICAgbGF5ZXIucmVkcmF3KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIG1vZGUgaGFuZGxlclxyXG4gICAgICogIC0gU3RvcmUgdGhlIG1vZGUgaGFuZGxlclxyXG4gICAgICogIC0gVXBkYXRlIHRoZSBjb2xvdXIgb2YgdGhlIHBvaW50c1xyXG4gICAgICogQHBhcmFtIG1vZGVIYW5kbGVyIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHNldE1vZGVIYW5kbGVyKG1vZGVIYW5kbGVyOiBJTW9kZSwgcGxhY2VzdG9yZTogSVBsYWNlU3RvcmUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG1vZGVIYW5kbGVyO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgdGhpcy5wb2ludE1hcC5mb3JFYWNoKCh7IGxheWVyLCBwb2ludCB9KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHBsYWNlc1xyXG4gICAgICAgICAgICBjb25zdCBnZXRQbGFjZXMgPSBwbGFjZXN0b3JlLmdldFBsYWNlcyhwb2ludC5pZHMpO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwb2ludCBzdHlsZVxyXG4gICAgICAgICAgICBnZXRQbGFjZXMudGhlbigocGxhY2VzKSA9PiB0aGlzLnVwZGF0ZVBvaW50U3R5bGUocGxhY2VzLCBsYXllcikpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFya2VycyAmJiB0aGlzLm1hcmtlcnMuZ2V0TGF5ZXJzKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5yZWZyZXNoQ2x1c3RlcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBERVBfcmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcywgbUZpbHRlcj86IChwbGFjZTogTmJuUGxhY2UpID0+IGJvb2xlYW4pIHtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAoIXRoaXMuZGF0YXN0b3JlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YXN0b3JlIG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1BvaW50cyA9IGF3YWl0IHRoaXMuZGF0YXN0b3JlLmdldEZ1bGxQb2ludHNXaXRoaW5Cb3VuZHMoYm91bmRzKTtcclxuICAgICAgICBcclxuICAgICAgICBuZXdQb2ludHNcclxuICAgICAgICAgICAgLmZvckVhY2gocG9pbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGF0TG5nU3RyaW5nID0gcG9pbnQubGF0bG5nO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBvaW50U3RvcmVbbGF0TG5nU3RyaW5nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRTdG9yZVtsYXRMbmdTdHJpbmddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogdGhpcy5yZW5kZXJQb2ludChwb2ludCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10ucG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGlmIChtRmlsdGVyKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMYXllcnM6IEwuTGF5ZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRQb2ludHMgPSBPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoe2xheWVyLCBwb2ludH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG93UG9pbnQgPSBwb2ludC5wbGFjZXMuZmlsdGVyKG1GaWx0ZXIpLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93UG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvd1BvaW50O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVtb3ZlTGF5ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5yZW1vdmVMYXllcnMocmVtb3ZlTGF5ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5hZGRMYXllcnMoZmlsdGVyZWRQb2ludHMubWFwKHAgPT4gcC5sYXllcikpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnM/LmFkZExheWVycyhPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKS5tYXAocCA9PiBwLmxheWVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcykge1xyXG4gICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgaGVyZSwgYXMgdGhlIG1hcmtlciBjbHVzdGVyIHBsdWdpbiBoYW5kbGVzIHRoaXMgZm9yIHVzXHJcbiAgICAgICAgLy9jb25zdCByZW1vdmVNYXJrZXJzID0gdGhpcy5tYXJrZXJzLmdldExheWVycygpXHJcbiAgICAgICAgLy8gICAgLmZpbHRlcigobGF5ZXI6IEwuQ2lyY2xlTWFya2VyKSA9PiAhYm91bmRzLmNvbnRhaW5zKGxheWVyLmdldExhdExuZygpKSlcclxuICAgICAgICAvLztcclxuICAgICAgICAvL3RoaXMubWFya2Vycy5yZW1vdmVMYXllcnMocmVtb3ZlTWFya2Vycyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9pbnQocG9pbnQ6IFBvaW50QW5kTG9jaWRzKTogTC5DaXJjbGVNYXJrZXIge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBjb25zdCBjaXJjbGVNYXJrZXJMYXllciA9IEwuY2lyY2xlTWFya2VyKFsgcG9pbnQubGF0LCBwb2ludC5sbmcgXSwge1xyXG4gICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogcG9pbnQuY29sID8gcG9pbnQuY29sWzBdIDogdW5kZWZpbmVkLCAvL3RoaXMuZ2V0UGxhY2VDb2xvdXIocGxhY2UpLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljaycsIGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFBvcHVwKFxyXG4gICAgICAgICAgICAobGF5ZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBc3luYyByZW5kZXIgcG9wdXAgZnJvbSBwbGFjZVN0b3JlIGRhdGFcclxuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VTdG9yZS5nZXRQbGFjZXMocG9pbnQuaWRzKS50aGVuKChwbGFjZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3B1cCA9IHRoaXMucmVuZGVyUG9wdXAocGxhY2VzKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5zZXRQb3B1cENvbnRlbnQocG9wdXApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGxvYWRpbmcgcG9wdXAgY29udGVudFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ1BvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBsb2FkaW5nUG9wdXAuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJsb2FkaW5nXCI+TG9hZGluZy4uLjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRpbmdQb3B1cDtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGF1dG9QYW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFRvb2x0aXAoXHJcbiAgICAgICAgICAgIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gcG9pbnQuYWRkWzBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50LmFkZC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgKz0gJyAoICsgJyArIChwb2ludC5hZGQubGVuZ3RoIC0gMSkgKyAnIG1vcmUpJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge31cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjaXJjbGVNYXJrZXJMYXllcjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2VzWzBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRvclBvcHVwTXVsdGkocGxhY2VzKTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbmRvclBvcHVwTXVsdGkocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBncm91cERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lcnM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgcGxhY2VzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPCBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPiBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcGxhY2Ugb2YgcGxhY2VzKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb2xvdXIgPSB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBBY2NvcmRpb24gQnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWNjb3JkaW9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPHN2ZyBoZWlnaHQ9XCIxNVwiIHdpZHRoPVwiMTVcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDozcHhcIj5gXHJcbiAgICAgICAgICAgICAgICArIGA8Y2lyY2xlIGNsYXNzPVwiY2lyY2xlXCIgY3g9XCI3LjVcIiBjeT1cIjlcIiByPVwiNVwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIiR7cGxhY2VDb2xvdXJ9XCIgLz5gXHJcbiAgICAgICAgICAgICAgICArIGA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICArIGA8c3Bhbj4ke3BsYWNlLmFkZHJlc3MxfTwvc3Bhbj5gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgUGFuZWxcclxuICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncGFuZWwnKTtcclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2UpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBFdmVudHNcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRseUFjdGl2ZSA9IHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgYnV0dG9ucyBhbmQgcGFuZWxzXHJcbiAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lcnMuZm9yRWFjaCgocGxhY2VDb250YWluZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudGx5QWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBET01cclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xyXG4gICAgICAgICAgICBncm91cERpdi5hcHBlbmRDaGlsZChwbGFjZUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVycy5wdXNoKHBsYWNlQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIGdldFBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG5cclxuICAgICAgICAvKiogRUUgRGlzcGxheSBNb2RlICovXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodGhpcy5jb250cm9scy5kaXNwbGF5TW9kZS5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmIHBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvdXJFRV9DQkRfWkJDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfQ0JEX0JDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19aQkM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCFwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19CQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHMuZGlzcGxheU1vZGUuZGlzcGxheU1vZGUgPT0gJ3VwZ3JhZGUnKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1ByZXZpb3VzIFRlY2ggRGlzY29ubmVjdGVkJzogcmV0dXJuIENPTF9URUNIX0NPTVBMRVRFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTmV3IFRlY2ggQ29ubmVjdGVkJyA6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6IHJldHVybiBDT0xfVEVDSF9ERVNJR047XHJcbiAgICAgICAgICAgICAgICBjYXNlICdCdWlsZCBGaW5hbGlzZWQnOiByZXR1cm4gQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb21taXR0ZWQnOiByZXR1cm4gQ09MX1RFQ0hfQ09NTUlUVEVEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOiByZXR1cm4gQ09MX1RFQ0hfQVZBSUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6IHJldHVybiBDT0xfVEVDSF9NRFVfRUxJR0lCTEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBQcmVtaXNlcyBJbiBCdWlsZCc6IHJldHVybiBDT0xfVEVDSF9NRFVfSU5CVUlMRDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbiAgICAgICAgfSovXHJcbi8qXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEF2YWlsKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUEF2YWlsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNQbGFjZUZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRld0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgIT0gJ05VTExfTkEnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgfVxyXG4qL1xyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgdGhlIGljb24gZm9yIHRoZSBjbHVzdGVyXHJcbiAgICAgKiBAcGFyYW0gY2x1c3RlciBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGljb25DcmVhdGVGdW5jdGlvbihjbHVzdGVyOiBMLk1hcmtlckNsdXN0ZXIpIDogTC5EaXZJY29uXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheSA9IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkubWFwKChtYXJrZXIpID0+IChtYXJrZXIgYXMgYW55KS5vcHRpb25zLmZpbGxDb2xvcilcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JDb3VudHM6IHtbY29sb3I6IHN0cmluZ106IG51bWJlcn0gPSB7fTtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheS5mb3JFYWNoKChjb2xvcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNvbG9yQ291bnRzW2NvbG9yXSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckNvdW50c1tjb2xvcl0rKztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheVNvcnRlZCA9IE9iamVjdC5rZXlzKGNvbG9yQ291bnRzKVxyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gY29sb3JDb3VudHNbYl0gLSBjb2xvckNvdW50c1thXSlcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQ6IGNvbmljLWdyYWRpZW50KCdcclxuXHJcbiAgICAgICAgbGV0IGxhc3RDb2xvdXJQZXJjZW50ID0gMDtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheVNvcnRlZC5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQgKz0gXCJcXG5cIiArIGNvbG9yICsgJyAwJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdGhpc0NvbG91clBlcmNlbnQgPSAoY29sb3JDb3VudHNbY29sb3JdIC8gY29sb3JBcnJheS5sZW5ndGggKiAxMDApO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kICs9IFwiLCBcXG5cIiArIGNvbG9yICsgJyAnICsgKGxhc3RDb2xvdXJQZXJjZW50KSArICclJztcclxuICAgICAgICAgICAgYmFja2dyb3VuZCArPSBcIiwgXFxuXCIgKyBjb2xvciArICcgJyArIChsYXN0Q29sb3VyUGVyY2VudCt0aGlzQ29sb3VyUGVyY2VudCkgKyAnJSc7XHJcbiAgICAgICAgICAgIGxhc3RDb2xvdXJQZXJjZW50ICs9IHRoaXNDb2xvdXJQZXJjZW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrZ3JvdW5kICs9IFwiXFxuKTtcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9tSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XHJcblxyXG4gICAgICAgIHJldHVybiBMLmRpdkljb24oe1xyXG4gICAgICAgICAgICBodG1sOiBgPHN0eWxlPiNjbHVzdGVyXyR7cmFuZG9tSWR9OjpiZWZvcmUgeyAke2JhY2tncm91bmR9IH08L3N0eWxlPiA8ZGl2IGlkPSdjbHVzdGVyXyR7cmFuZG9tSWR9Jz48c3Bhbj5gICsgY2x1c3Rlci5nZXRDaGlsZENvdW50KCkgKyAnPC9zcGFuPjwvZGl2PicsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1jbHVzdGVyJyxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufSIsIlxyXG5pbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcblxyXG5pbXBvcnQgJ2xlYWZsZXQubG9jYXRlY29udHJvbC9kaXN0L0wuQ29udHJvbC5Mb2NhdGUubWluLmNzcydcclxuaW1wb3J0ICdsZWFmbGV0LmxvY2F0ZWNvbnRyb2wnO1xyXG5cclxuaW1wb3J0ICdsZWFmbGV0LWNvbnRyb2wtZ2VvY29kZXIvZGlzdC9Db250cm9sLkdlb2NvZGVyLmNzcyc7XHJcbmltcG9ydCB7IEdlb2NvZGVyLCBnZW9jb2RlciwgZ2VvY29kZXJzIH0gZnJvbSAnbGVhZmxldC1jb250cm9sLWdlb2NvZGVyJztcclxuXHJcbmltcG9ydCB7IE5iblBsYWNlLCBOYm5QbGFjZUFwaVJlc3BvbnNlLCBOYm5UZWNoTWFwT3B0aW9ucywgUG9pbnRBbmRMb2NpZHMgfSBmcm9tICcuL3R5cGVzJztcclxuLy9pbXBvcnQgTWFya2VyR3JvdXAgZnJvbSAnLi9tYXJrZXJfZ3JvdXAuY2xhc3MudHMuZGV2JztcclxuLy9pbXBvcnQgQ29udHJvbFpvb21XYXJuaW5nIGZyb20gJy4vY29udHJvbF96b29tX3dhcm5pbmcuY2xhc3MnO1xyXG4vL2ltcG9ydCBDb250cm9sRmlsdGVyIGZyb20gJy4vY29udHJvbF9maWx0ZXIuY2xhc3MnO1xyXG5cclxuaW1wb3J0IElBcGkgZnJvbSAnLi9pbnRlcmZhY2VzL2FwaS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgSU1hcmtlckxheWVyIGZyb20gJy4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgTWFya2VyTGF5ZXJDbHVzdGVyIGZyb20gJy4vbWFya2VybGF5ZXIvbWFya2VybGF5ZXIuY2x1c3Rlci5jbGFzcyc7XHJcbmltcG9ydCBJQ29udHJvbCBmcm9tICcuL2ludGVyZmFjZXMvY29udHJvbC5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBpc0RlYnVnTW9kZSB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgSU1vZGUgZnJvbSAnLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlJztcclxuXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCBJUGxhY2VTdG9yZSBmcm9tICcuL2ludGVyZmFjZXMvcGxhY2VzdG9yZS5pbnRlcmZhY2UnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpOiBMLkxhdExuZ0JvdW5kcyB7XHJcbiAgICBjb25zdCBub3J0aCA9IE1hdGguY2VpbChib3VuZHMuZ2V0Tm9ydGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgY29uc3Qgd2VzdCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFdlc3QoKSAqIDI1KSAvIDI1O1xyXG4gICAgY29uc3Qgc291dGggPSBNYXRoLmZsb29yKGJvdW5kcy5nZXRTb3V0aCgpICogNTApIC8gNTA7XHJcbiAgICBjb25zdCBlYXN0ID0gTWF0aC5jZWlsKGJvdW5kcy5nZXRFYXN0KCkgKiAyNSkgLyAyNTtcclxuICAgIHJldHVybiBMLmxhdExuZ0JvdW5kcyhbc291dGgsIHdlc3RdLCBbbm9ydGgsIGVhc3RdKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5iblRlY2hNYXAge1xyXG5cclxuICAgIHByaXZhdGUgTUFYX1VORkVUQ0hFRF9CT1hFUyA9IDEwMDtcclxuXHJcbiAgICBwcml2YXRlIGxvZ2dlciA9IG5ldyBMb2dnZXIoJ05iblRlY2hNYXAnKTtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgREVGQVVMVF9PUFRJT05TOiBQYXJ0aWFsPE5iblRlY2hNYXBPcHRpb25zPiA9IHtcclxuICAgICAgICBtYXBDb250YWluZXJJZDogJ21hcCcsXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcH0gLSBMZWFmbGV0IG1hcCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFwOiBMLk1hcDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFwVGlsZUxheWVyfSAtIExlYWZsZXQgbWFwIHRpbGUgbGF5ZXIuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFwVGlsZUxheWVyOiBMLlRpbGVMYXllcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7YXBpfSAtIEFQSSBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXBpOiBJQXBpO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIG1hcExvY2F0ZTogTC5Db250cm9sLkxvY2F0ZTtcclxuICAgIHByaXZhdGUgbWFwU2VhcmNoOiBHZW9jb2RlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7cGxhY2VTdG9yZX0gLSBQbGFjZSBzdG9yZSBuYm4gcGxhY2VzLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHBsYWNlU3RvcmU6IElQbGFjZVN0b3JlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHttYXJrZXJMYXllcn0gLSBMYXllciB0byBob2xkIG1hcmtlcnNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBtYXJrZXJMYXllcjogSU1hcmtlckxheWVyO1xyXG5cclxuICAgIHByaXZhdGUgbW9kZUhhbmRsZXI6IElNb2RlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE5iblRlY2hNYXBPcHRpb25zKSB7XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSB7IC4uLk5iblRlY2hNYXAuREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBpID0gb3B0aW9ucy5hcGk7XHJcbiAgICAgICAgdGhpcy5wbGFjZVN0b3JlID0gb3B0aW9ucy5wbGFjZXN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBvcHRpb25zLmRlZmF1bHRNb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtYXBcclxuICAgICAgICB0aGlzLm1hcCA9IEwubWFwKG9wdGlvbnMubWFwQ29udGFpbmVySWQsIHsgcHJlZmVyQ2FudmFzOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIG1hcmtlciBsYXllclxyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIgPSBuZXcgTWFya2VyTGF5ZXJDbHVzdGVyKFxyXG4gICAgICAgICAgICB0aGlzLm1hcCwgdGhpcy5tb2RlSGFuZGxlciwgdGhpcy5wbGFjZVN0b3JlXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIE9TTSBsYXllclxyXG4gICAgICAgIHRoaXMubWFwVGlsZUxheWVyID0gTC50aWxlTGF5ZXIoJ2h0dHBzOi8ve3N9LmJhc2VtYXBzLmNhcnRvY2RuLmNvbS9yYXN0ZXJ0aWxlcy92b3lhZ2VyL3t6fS97eH0ve3l9e3J9LnBuZycsIHtcclxuICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycyAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vY2FydG8uY29tL2F0dHJpYnV0aW9uc1wiPkNBUlRPPC9hPicsXHJcbiAgICAgICAgICAgIHN1YmRvbWFpbnM6ICdhYmNkJyxcclxuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHRydWUsXHJcbiAgICAgICAgICAgIG1pblpvb206IDUsXHJcbiAgICAgICAgICAgIG1heFpvb206IDIwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgbGF5ZXIgdG8gdGhlIG1hcFxyXG4gICAgICAgIHRoaXMubWFwVGlsZUxheWVyLmFkZFRvKHRoaXMubWFwKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coeyBMLCBHZW9jb2RlciwgZ2VvY29kZXIgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBnZW9jb2RlciBjb250cm9sXHJcbiAgICAgICAgY29uc3QgbWFwR2VvY29kZXIgPSBuZXcgZ2VvY29kZXJzLkFyY0dpcyh7XHJcbiAgICAgICAgICAgIGFwaUtleTogJ0FBUEthOTdiOGE1Mzc0ZGI0ZmE5YjBmZGQ4ZTU1MzYxY2JhNFo5ZkV1dzNja0FPSUZISzFDUF9WYnpUdjNPVGVVejNnZ3JGQXpWUHpqeW4zUTdiUUZ6YndrRE12RHhhSi1KekcnLFxyXG4gICAgICAgICAgICBnZW9jb2RpbmdRdWVyeVBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGU6ICdBVScsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ0FkZHJlc3MsTGF0TG9uZyxOZWlnaGJvcmhvb2QsRGlzdHJpY3QsQ2l0eSxNZXRybyBBcmVhJyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWFwU2VhcmNoID0gKEwuQ29udHJvbCBhcyB1bmtub3duIGFzIHsgZ2VvY29kZXI6IHR5cGVvZiBnZW9jb2RlciB9KS5nZW9jb2Rlcih7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXHJcbiAgICAgICAgICAgIGNvbGxhcHNlZDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdE1hcmtHZW9jb2RlOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2VvY29kZXI6IG1hcEdlb2NvZGVyLFxyXG4gICAgICAgICAgICBzdWdnZXN0TWluTGVuZ3RoOiA1LFxyXG4gICAgICAgICAgICBzdWdnZXN0VGltZW91dDogMTAwMCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXBTZWFyY2gub24oJ21hcmtnZW9jb2RlJywgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYmJveCA9IGV2ZW50Lmdlb2NvZGUuYmJveDtcclxuICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKGJib3gsIHtcclxuICAgICAgICAgICAgICAgICdtYXhab29tJzogMTYsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcFNlYXJjaC5hZGRUbyh0aGlzLm1hcCk7XHJcblxyXG5cclxuICAgICAgICAvLyBBZGQgbG9jYXRlIGNvbnRyb2xcclxuICAgICAgICB0aGlzLm1hcExvY2F0ZSA9IEwuY29udHJvbC5sb2NhdGUoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxyXG4gICAgICAgICAgICBsb2NhdGVPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBtYXhab29tOiAxNlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRWaWV3OiAndW50aWxQYW4nLFxyXG4gICAgICAgICAgICBrZWVwQ3VycmVudFpvb21MZXZlbDogdHJ1ZSxcclxuICAgICAgICAgICAgaW5pdGlhbFpvb21MZXZlbDogMTcsXHJcbiAgICAgICAgICAgIGNhY2hlTG9jYXRpb246IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBMb2NhdGUuYWRkVG8odGhpcy5tYXApO1xyXG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGVhY3RpdmF0ZScsICgpID0+IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dlb2xvY2F0ZScsICcxJyk7IH0pO1xyXG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGVkZWFjdGl2YXRlJywgKCkgPT4geyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2VvbG9jYXRlJyk7IH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldEluaXRpYWxNYXBWaWV3KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc3RvcmUgbWFwIHBvc2l0aW9uIHdoZW4gbW92ZWQgb3Igem9vbWVkXHJcbiAgICAgICAgdGhpcy5tYXAub24oJ21vdmVlbmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RhcnRwb3MnLCBKU09OLnN0cmluZ2lmeSh7IGxhdDogY2VudGVyLmxhdCwgbG5nOiBjZW50ZXIubG5nLCB6b29tIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5wdXNoQnJvd3Nlckhpc3RvcnkoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXBHZW9jb2Rlci5vcHRpb25zLmdlb2NvZGluZ1F1ZXJ5UGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICBtYXBHZW9jb2Rlci5vcHRpb25zLmdlb2NvZGluZ1F1ZXJ5UGFyYW1zLmxvY2F0aW9uID0gYCR7Y2VudGVyLmxuZ30sJHtjZW50ZXIubGF0fWA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vYXdhaXQgdGhpcy5kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaERhdGFGb3JDdXJyZW50VmlldygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICAgICAgY29uc3QgbGF0ID0gdXJsUGFyYW1zLmdldCgnbGF0Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxuZyA9IHVybFBhcmFtcy5nZXQoJ2xuZycpO1xyXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdXJsUGFyYW1zLmdldCgnem9vbScpO1xyXG4gICAgICAgICAgICBpZiAobGF0ICYmIGxuZyAmJiB6b29tKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgTnVtYmVyKGxhdCksIE51bWJlcihsbmcpIF0sIHBhcnNlSW50KHpvb20pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwdXNoQnJvd3Nlckhpc3RvcnkoKSB7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBVUkwgd2l0aCBsYXQsbG5nLHpvb21cclxuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG5cclxuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIHVybFBhcmFtcy5zZXQoJ2xhdCcsIGNlbnRlci5sYXQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgdXJsUGFyYW1zLnNldCgnbG5nJywgY2VudGVyLmxuZy50b1N0cmluZygpKTtcclxuICAgICAgICB1cmxQYXJhbXMuc2V0KCd6b29tJywgem9vbS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zdCBuZXdVcmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnPycgKyB1cmxQYXJhbXMudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgbmV3VXJsKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFN0YXJ0UG9zKCkgOiB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciwgem9vbTogbnVtYmVyIH0gfCBudWxsIHtcclxuICAgICAgICBjb25zdCBzdGFydFBvc1N0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGFydHBvcycpO1xyXG4gICAgICAgIGlmICghc3RhcnRQb3NTdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0YXJ0UG9zU3RyaW5nKSBhcyB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciwgem9vbTogbnVtYmVyIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdGlhbFZpZXdTZXQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc2V0SW5pdGlhbE1hcFZpZXcoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLnN1Yignc2V0SW5pdGlhbE1hcFZpZXcnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbFZpZXdTZXQpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0luaXRpYWwgbWFwIHZpZXcgYWxyZWFkeSBzZXQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbGF0LGxuZyx6b29tIGFyZSBpbiBVUkwsIHNldCBtYXAgdG8gdGhhdFxyXG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgY29uc3QgbGF0ID0gdXJsUGFyYW1zLmdldCgnbGF0Jyk7XHJcbiAgICAgICAgY29uc3QgbG5nID0gdXJsUGFyYW1zLmdldCgnbG5nJyk7XHJcbiAgICAgICAgY29uc3Qgem9vbSA9IHVybFBhcmFtcy5nZXQoJ3pvb20nKTtcclxuICAgICAgICBpZiAobGF0ICYmIGxuZyAmJiB6b29tKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyBOdW1iZXIobGF0KSwgTnVtYmVyKGxuZykgXSwgcGFyc2VJbnQoem9vbSkpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZ2VvRmxhZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnZW9sb2NhdGUnKTtcclxuICAgICAgICBjb25zdCBzdGFydFBvcyA9IHRoaXMuZ2V0U3RhcnRQb3MoKTtcclxuXHJcbiAgICAgICAgLy8gSWYgbG9jYWwgc3RvcmFnZSBjb250YWlucyBsYXN0IG1hcCBwb3NpdGlvbiwgc2V0IG1hcCB0byB0aGF0XHJcbiAgICAgICAgaWYgKHN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyBzdGFydFBvcy5sYXQsIHN0YXJ0UG9zLmxuZyBdLCBzdGFydFBvcy56b29tKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdG8gQXVzdHJhbGlhIGlmIG5vIHN0YXJ0IHBvc2l0aW9uXHJcbiAgICAgICAgaWYgKCFzdGFydFBvcykge1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgLTI2LjE3NzIyODgsIDEzMy40MTcwMTE5IF0sIDEwKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBsb2NhbCBzdG9yYWdlIGNvbnRhaW5zIGdlb2xvY2F0ZSBmbGFnXHJcbiAgICAgICAgLy8gb3IsIGlmIG5vIHN0YXJ0IHBvc2l0aW9uLCBzdGFydCBnZW9sb2NhdGlvblxyXG4gICAgICAgIGlmIChnZW9GbGFnIHx8ICFzdGFydFBvcykge1xyXG4gICAgICAgICAgICB0aGlzLm1hcExvY2F0ZS5zdGFydCgpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRab29tKDE3KTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbFZpZXdTZXQpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdDb3VsZCBub3Qgc2V0IGluaXRpYWwgbWFwIHZpZXcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVidWdCb3hlczogTC5SZWN0YW5nbGVbXSA9IFtdO1xyXG4gICAgZ2V0Qm94ZXNJbkJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKTogTC5MYXRMbmdCb3VuZHNbXSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIFN0YXJ0aW5nIHBvaW50IHNob3VsZCBiZSB0aGUgbm9ydGgtd2VzdCBjb3JuZXIgb2YgdGhlIG1hcCByb3VuZGVkIGJleW9uZCB0aGUgbWFwIGJvdW5kc1xyXG4gICAgICAgIC8vIExhdGl0dWRlIGlzIHJvdW5kZWQgdG8gMiBkZWNpbWFsIHBsYWNlcyBtdWx0aXBsZSBvZiAwLjAyXHJcbiAgICAgICAgLy8gTG9uZ2l0dWRlIGlzIHJvdW5kZWQgdG8gMiBkZWNpbWFsIHBsYWNlcyBtdWx0aXBsZSBvZiAwLjAyXHJcbiAgICAgICAgY29uc3Qgbm9ydGhtb3N0ID0gTWF0aC5jZWlsKGJvdW5kcy5nZXROb3J0aCgpIC8gMC4wMikgKiAwLjAyO1xyXG4gICAgICAgIGNvbnN0IHdlc3RtbW9zdCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFdlc3QoKSAvIDAuMDIpICogMC4wMjtcclxuXHJcbiAgICAgICAgLy8gc3BsaXQgbWFwIGludG8gYm94ZXMgc3RhcnRpbmcgZnJvbSBub3J0aC13ZXN0IGNvcm5lclxyXG4gICAgICAgIC8vIGVhY2ggYm94IHNob3VsZCBiZSAwLjAyIGRlZ3JlZXMgbGF0aXR1ZGUgYnkgMC4wMiBkZWdyZWVzIGxvbmdpdHVkZVxyXG4gICAgICAgIGNvbnN0IGJveGVzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgbGF0aXR1ZGUgPSBub3J0aG1vc3Q7IGxhdGl0dWRlID4gYm91bmRzLmdldFNvdXRoKCk7IGxhdGl0dWRlIC09IDAuMDIpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgbG9uZ2l0dWRlID0gd2VzdG1tb3N0OyBsb25naXR1ZGUgPCBib3VuZHMuZ2V0RWFzdCgpOyBsb25naXR1ZGUgKz0gMC4wMikge1xyXG4gICAgICAgICAgICAgICAgYm94ZXMucHVzaChbTnVtYmVyKGxhdGl0dWRlLnRvRml4ZWQoMikpLCBOdW1iZXIobG9uZ2l0dWRlLnRvRml4ZWQoMikpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdCb3VuZHMnLCBib3VuZHMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQm94ZXMnLCBib3hlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNYXAgZWFjaCBib3ggaW50byBhIGJvdW5kcyBvYmplY3RcclxuICAgICAgICBjb25zdCBib3hCb3VuZHMgPSBib3hlcy5tYXAoYm94ID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgbm9ydGggPSBib3hbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHdlc3QgPSBib3hbMV07XHJcbiAgICAgICAgICAgIGNvbnN0IHNvdXRoID0gbm9ydGggLSAwLjAyO1xyXG4gICAgICAgICAgICBjb25zdCBlYXN0ID0gd2VzdCArIDAuMDI7XHJcbiAgICAgICAgICAgIHJldHVybiBMLmxhdExuZ0JvdW5kcyhbc291dGgsIHdlc3RdLCBbbm9ydGgsIGVhc3RdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z0JveGVzLmZvckVhY2goYm94ID0+IHRoaXMubWFwLnJlbW92ZUxheWVyKGJveCkpO1xyXG4gICAgICAgICAgICB0aGlzLmRlYnVnQm94ZXMgPSBib3hCb3VuZHMubWFwKGJveCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTC5yZWN0YW5nbGUoYm94LCB7Y29sb3I6IFwiIzAwMDAwMFwiLCB3ZWlnaHQ6IDIsIGZpbGxDb2xvcjogJyNmZjc4MDAnLCBmaWxsT3BhY2l0eTogMC4wMX0pLmFkZFRvKHRoaXMubWFwKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBib3hCb3VuZHM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggYm94ZXMgdGhhdCBhcmUgdmlzaWJsZSBvbiB0aGUgbWFwXHJcbiAgICAgKi9cclxuICAgIGdldEN1cnJlbnRWaWV3Qm94ZXMoKTogTC5MYXRMbmdCb3VuZHNbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEJveGVzSW5Cb3VuZHModGhpcy5tYXAuZ2V0Qm91bmRzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGlkZSBtYXJrZXJzIHRoYXQgYXJlIG91dHNpZGUgdGhlIG1hcCBib3VuZHNcclxuICAgICAqL1xyXG4gICAgaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXcoKSB7XHJcbiAgICAgICAgY29uc3QgbWFwQm91bmRzID0gdGhpcy5tYXAuZ2V0Qm91bmRzKCkucGFkKDAuNSk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5yZW1vdmVNYXJrZXJzT3V0c2lkZUJvdW5kcyhtYXBCb3VuZHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzcGxheSBtYXJrZXJzIHRoYXQgYXJlIGluc2lkZSB0aGUgbWFwIGJvdW5kc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBERVBfZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KGF0dGVtcHQ6IG51bWJlciA9IDEpIHtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodGhpcy5kYXRhc3RvcmUuaXNSZWFkeSgpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGF0dGVtcHQgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGdldCBkYXRhc3RvcmUgcmVhZHkuIEdpdmluZyB1cC4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEYXRhc3RvcmUgaXMgbm90IHJlYWR5LiBEZWxheWluZyBkaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKScpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KGF0dGVtcHQrMSksIDEwMDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnRGlzcGxheWluZyBtYXJrZXJzIGluIGN1cnJlbnQgdmlldycpO1xyXG4gICAgICAgIGNvbnN0IG1hcEJvdW5kcyA9IHJvdW5kQm91bmRzKHRoaXMubWFwLmdldEJvdW5kcygpKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgZnJvbSBEYXRhc3RvcmUnLCBtYXBCb3VuZHMpO1xyXG4gICAgICAgIC8vIHRoaXMucmVmcmVzaFBvaW50c0Zyb21TdG9yZShtYXBCb3VuZHMpO1xyXG4gICAgICAgICovXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB6b29tSW5XYXJuaW5nQ29udHJvbD86IEwuQ29udHJvbDtcclxuXHJcbiAgICBzaG93Wm9vbUluV2FybmluZygpIHtcclxuICAgICAgICBpZighdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbCkge1xyXG4gICAgICAgICAgICB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sID0gbmV3IEwuQ29udHJvbCh7IHBvc2l0aW9uOiAndG9wcmlnaHQnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sLm9uQWRkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2luZm8gbGVnZW5kJyk7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gJzxoNCBzdHlsZT1cIm1hcmdpbjowXCI+QXJlYSBUb28gQmlnITwvaDQ+JztcclxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgKz0gJzxwIHN0eWxlPVwibWFyZ2luOjBcIj5Mb2NhdGlvbiBsb2FkaW5nIGlzIHBhdXNlZCB1bnRpbCB5b3Ugem9vbSBpbi48L3A+JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmOTgwMCc7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xyXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMTBweCAyMHB4JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjZmZmZmZmJztcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgem9vbUluV2FybmluZ0NvbnRyb2wgPSB0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5tYXAuYWRkQ29udHJvbCh6b29tSW5XYXJuaW5nQ29udHJvbCksIDEwMDApO1xyXG4gICAgfVxyXG4gICAgaGlkZVpvb21Jbldhcm5pbmcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuem9vbUluV2FybmluZ0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAucmVtb3ZlQ29udHJvbCh0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmZXRjaGVkQm94ZXM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggZGF0YSBmb3IgY3VycmVudCBtYXAgdmlld1xyXG4gICAgICovXHJcbiAgICBhc3luYyBmZXRjaERhdGFGb3JDdXJyZW50VmlldygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuc3ViKCdmZXRjaERhdGFGb3JDdXJyZW50VmlldycpO1xyXG5cclxuICAgICAgICAvL3RoaXMuaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXcoKTtcclxuICAgICAgICAvL3RoaXMuZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hcC5nZXRab29tKCkgPCAxMSkge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybignWm9vbSBsZXZlbCB0b28gbG93LiBTa2lwcGluZy4nKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93Wm9vbUluV2FybmluZygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgYm94ZXMgdGhhdCBhcmUgY3VycmVudGx5IHZpc2libGVcclxuICAgICAgICBjb25zdCBib3hlcyA9IHRoaXMuZ2V0Q3VycmVudFZpZXdCb3hlcygpO1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQ3VycmVudCB2aWV3IGJveGVzJywgYm94ZXMpO1xyXG5cclxuICAgICAgICAvLyBGaWx0ZXIgb3V0IGJveGVzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gZmV0Y2hlZFxyXG4gICAgICAgIGNvbnN0IHVuZmV0Y2hlZEJveGVzID0gYm94ZXMuZmlsdGVyKGJveCA9PiAhdGhpcy5mZXRjaGVkQm94ZXMuaGFzKGJveC5nZXRDZW50ZXIoKS50b1N0cmluZygpKSk7XHJcblxyXG4gICAgICAgIC8vIElmIG5vIGJveGVzIHRvIGZldGNoLCByZXR1cm5cclxuICAgICAgICBpZiAodW5mZXRjaGVkQm94ZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlWm9vbUluV2FybmluZygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEb24ndCBmZXRjaCBib3hlcyBpZiBtb3JlIHRoYW4gNTBcclxuICAgICAgICBpZiAodW5mZXRjaGVkQm94ZXMubGVuZ3RoID4gdGhpcy5NQVhfVU5GRVRDSEVEX0JPWEVTKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdUb28gbWFueSBib3hlcyB0byBmZXRjaC4gU2tpcHBpbmcuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1pvb21Jbldhcm5pbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGlkZSB6b29tIGluIHdhcm5pbmdcclxuICAgICAgICB0aGlzLmhpZGVab29tSW5XYXJuaW5nKCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cGRhdGUga2V5XHJcbiAgICAgICAgY29uc3QgdXBkYXRlS2V5ID0gdGhpcy5tYXAuZ2V0Q2VudGVyKCkudG9TdHJpbmcoKSArIHRoaXMubWFwLmdldFpvb20oKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHByb2dyZXNzIGl0ZW1cclxuICAgICAgICBjb25zdCBwcm9ncmVzc0l0ZW0gPSB0aGlzLmNyZWF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgdW5mZXRjaGVkQm94ZXMubGVuZ3RoLCAnRmV0Y2hpbmcgc2VjdGlvbnMuLi4nKTtcclxuICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzKCk7XHJcblxyXG4gICAgICAgIGxldCBib3hlc1Byb2Nlc3NlZCA9IDA7XHJcblxyXG4gICAgICAgIC8vIEZvciBlYWNoIGJveCwgZmV0Y2ggZGF0YVxyXG4gICAgICAgIGZvciAoY29uc3QgYm94IG9mIHVuZmV0Y2hlZEJveGVzKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXAuZ2V0Q2VudGVyKCkudG9TdHJpbmcoKSArIHRoaXMubWFwLmdldFpvb20oKSAhPSB1cGRhdGVLZXkpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnTWFwIG1vdmVkLiBGZXRjaCBzdG9wcGVkLicpO1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NJdGVtLnRleHQgPSAnTWFwIG1vdmVkLiBGZXRjaCBzdG9wcGVkLic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXNQcm9jZXNzZWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmZldGNoRGF0YShib3gpO1xyXG4gICAgICAgICAgICB0aGlzLmZldGNoZWRCb3hlcy5hZGQoYm94LmdldENlbnRlcigpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBib3hlc1Byb2Nlc3NlZCsrO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXNQcm9jZXNzZWQsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHVwZGF0ZUtleSwgYm94ZXNQcm9jZXNzZWQsIHRydWUpO1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQWxsIGJveGVzIGZldGNoZWQnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwcm9ncmVzc0NvbnRyb2wgPSBuZXcgTC5Db250cm9sKHsgcG9zaXRpb246ICdib3R0b21sZWZ0JyB9KTtcclxuICAgIHByaXZhdGUgcHJvZ3Jlc3NJdGVtczoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IHtcclxuICAgICAgICAgICAgc3RhcnRlZDogRGF0ZSxcclxuICAgICAgICAgICAgZmluaXNoZWQ/OiBEYXRlLFxyXG4gICAgICAgICAgICB0ZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBib29sZWFuLFxyXG4gICAgICAgICAgICBwcm9ncmVzczogbnVtYmVyLFxyXG4gICAgICAgICAgICB0b3RhbDogbnVtYmVyLFxyXG4gICAgICAgIH1cclxuICAgIH0gPSB7fTtcclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVByb2dyZXNzKGtleTogc3RyaW5nLCB0b3RhbDogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICAvLyBDcmVhdGUgbmV3IGl0ZW1cclxuICAgICAgICB0aGlzLnByb2dyZXNzSXRlbXNba2V5XSA9IHtcclxuICAgICAgICAgICAgc3RhcnRlZDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgZmluaXNoZWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgY29tcGxldGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcclxuICAgICAgICAgICAgdG90YWwsIHRleHRcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlUHJvZ3Jlc3Moa2V5OiBzdHJpbmcsIHByb2dyZXNzOiBudW1iZXIsIGNvbXBsZXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyZXNzSXRlbXNba2V5XSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2dyZXNzIGl0ZW0gd2l0aCBrZXkgJHtrZXl9IGRvZXMgbm90IGV4aXN0YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLmZpbmlzaGVkID0gY29tcGxldGUgPyBuZXcgRGF0ZSgpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLmNvbXBsZXRlID0gY29tcGxldGU7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0ucHJvZ3Jlc3MgPSBwcm9ncmVzcztcclxuICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXJQcm9ncmVzcygpIHtcclxuXHJcbiAgICAgICAgLy8gRGVsZXRlIGl0ZW1zIGZpbmlzaGVkIG1vcmUgdGhhbiA1IHNlY29uZHMgYWdvXHJcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5wcm9ncmVzc0l0ZW1zKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnByb2dyZXNzSXRlbXNba2V5XSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbmlzaGVkID0gdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0uZmluaXNoZWQ7XHJcbiAgICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChub3cuZ2V0VGltZSgpIC0gZmluaXNoZWQuZ2V0VGltZSgpKSA+IDUwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIG5vIGl0ZW1zLCBoaWRlIHByb2dyZXNzXHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMucHJvZ3Jlc3NJdGVtcykubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlUHJvZ3Jlc3MoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVuZGVyIHByb2dyZXNzXHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0NvbnRyb2wub25BZGQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdpbmZvIGxlZ2VuZCcpO1xyXG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gJzxoNCBzdHlsZT1cIm1hcmdpbjowXCI+TG9hZGluZy4uLjwvaDQ+JztcclxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBPYmplY3QudmFsdWVzKHRoaXMucHJvZ3Jlc3NJdGVtcyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcclxuICAgICAgICAgICAgICAgIC8vIHNraXAgaXRlbSBpZiBmaW5pc2hlZCBtb3JlIHRoYW4gMTAgc2Vjb25kcyBhZ29cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmZpbmlzaGVkICYmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGl0ZW0uZmluaXNoZWQuZ2V0VGltZSgpID4gMTAwMDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGl0ZW0ucHJvZ3Jlc3MgLyBpdGVtLnRvdGFsICogMTAwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NUZXh0ID0gaXRlbS5jb21wbGV0ZSA/ICdDb21wbGV0ZScgOiBgJHtpdGVtLnByb2dyZXNzfSBvZiAke2l0ZW0udG90YWx9YDtcclxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgKz0gYDxwIHN0eWxlPVwibWFyZ2luOjBcIj4ke2l0ZW0udGV4dH0gKCR7cHJvZ3Jlc3NUZXh0fSk8L3A+YDtcclxuICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgKz0gYDxwcm9ncmVzcyB2YWx1ZT1cIiR7cHJvZ3Jlc3N9XCIgbWF4PVwiMTAwXCI+PC9wcm9ncmVzcz5gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzAwMDAwMCc7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5vcGFjaXR5ID0gJzAuOCc7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wYWRkaW5nID0gJzEwcHggMjBweCc7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjZmZmZmZmJztcclxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCBwcm9ncmVzcyB0byBtYXBcclxuICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKHRoaXMucHJvZ3Jlc3NDb250cm9sKTtcclxuXHJcbiAgICAgICAgLy8gSGlkZSBwcm9ncmVzcyBhZnRlciA1IHNlY29uZHMgaWYgYWxsIGNvbXBsZXRlXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3QudmFsdWVzKHRoaXMucHJvZ3Jlc3NJdGVtcykuZXZlcnkoaXRlbSA9PiBpdGVtLmNvbXBsZXRlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlUHJvZ3Jlc3MoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDUwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGlkZVByb2dyZXNzKCkge1xyXG4gICAgICAgIHRoaXMubWFwLnJlbW92ZUNvbnRyb2wodGhpcy5wcm9ncmVzc0NvbnRyb2wpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZldGNoRGF0YShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLCBwYWdlOiBudW1iZXIgPSAxXHJcbiAgICApIDogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLnN1YignZmV0Y2hEYXRhJyk7XHJcblxyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnRmV0Y2hpbmcgQm94JywgYm91bmRzLmdldENlbnRlcigpLnRvU3RyaW5nKCksIHBhZ2UpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuYXBpLmZldGNoUGFnZShib3VuZHMsIHBhZ2UsICgpID0+IHRoaXMubWFwLmdldEJvdW5kcygpLmludGVyc2VjdHMoYm91bmRzKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NGZXRjaFJlc3VsdChkYXRhLCBib3VuZHMpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgeyBwYWdlOiBjdXJyZW50UGFnZSwgdG90YWxQYWdlcyB9ID0gZGF0YTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlIDwgdG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hEYXRhKGJvdW5kcywgZGF0YS5wYWdlICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PSAnUGFnZSBhbHJlYWR5IGxvYWRlZCB0aGlzIHNlc3Npb24uJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb2Nlc3MgUmVzdWx0cyBGZXRjaGVkIGZyb20gQVBJXHJcbiAgICAgKiBTdG9yZXMgcGxhY2VzIGluIHBsYWNlIHN0b3JlXHJcbiAgICAgKiBTZW5kcyBwb2ludHMgdG8gbWFya2VyIGxheWVyXHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0IFxyXG4gICAgICogQHBhcmFtIGJvdW5kcyBcclxuICAgICAqL1xyXG4gICAgcHJvY2Vzc0ZldGNoUmVzdWx0KHJlc3VsdDogTmJuUGxhY2VBcGlSZXNwb25zZSwgYm91bmRzOiBMLkxhdExuZ0JvdW5kcykge1xyXG5cclxuICAgICAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5zdWIoJ3Byb2Nlc3NGZXRjaFJlc3VsdCcpO1xyXG5cclxuICAgICAgICBsb2dnZXIuZGVidWcoJ1Byb2Nlc3NpbmcgRmV0Y2ggUmVzdWx0JywgcmVzdWx0LCBib3VuZHMpO1xyXG5cclxuICAgICAgICAvLyBTdG9yZSBwbGFjZXNcclxuICAgICAgICB0aGlzLnBsYWNlU3RvcmUuc3RvcmVQbGFjZXMocmVzdWx0LnBsYWNlcylcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0b3JpbmcgcGxhY2VzJywgZXJyb3IpKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRlbXAgc3RvcmFnZSBmb3IgcG9pbnRzXHJcbiAgICAgICAgY29uc3QgcG9pbnRzOiBNYXA8c3RyaW5nLCBQb2ludEFuZExvY2lkcz4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBwbGFjZSBsb2NpZHMgdG8gcG9pbnRzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQucGxhY2VzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFjZSA9IHJlc3VsdC5wbGFjZXNbaV07XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZUhhbmRsZXIuZmlsdGVyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxhdExuZyA9IGAke3BsYWNlLmxhdGl0dWRlfSwke3BsYWNlLmxvbmdpdHVkZX1gO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb2xvdXIgPSB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBwb2ludCBpZiBub3QgYWxyZWFkeSB0aGVyZVxyXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ1BvaW50ID0gcG9pbnRzLmdldChsYXRMbmcpO1xyXG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50cy5zZXQobGF0TG5nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBwbGFjZS5sYXRpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICBsbmc6IHBsYWNlLmxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2w6IFsgcGxhY2VDb2xvdXIgXSxcclxuICAgICAgICAgICAgICAgICAgICBhZGQ6IFsgcGxhY2UuYWRkcmVzczEgXSxcclxuICAgICAgICAgICAgICAgICAgICBpZHM6IFsgcGxhY2UuaWQgXSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGxvY2lkIHRvIHBvaW50IGlmIG5vdCBhbHJlYWR5IHRoZXJlXHJcbiAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nUG9pbnQuaWRzLmluY2x1ZGVzKHBsYWNlLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUG9pbnQuaWRzLnB1c2gocGxhY2UuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUG9pbnQuYWRkLnB1c2gocGxhY2UuYWRkcmVzczEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUG9pbnQuY29sLnB1c2gocGxhY2VDb2xvdXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VuZCBwb2ludHMgdG8gbWFya2VyIGxheWVyXHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdBZGRpbmcgcG9pbnRzIHRvIG1hcmtlciBsYXllcicsIHBvaW50cyk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5hZGRQb2ludHMocG9pbnRzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgREVQUl9yZWZyZXNoUG9pbnRzRnJvbVN0b3JlKGJvdW5kcz86IEwuTGF0TG5nQm91bmRzKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5tYXJrZXJMYXllcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcmtlciBMYXllciBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBib3VuZHMgYXJlIG5vdCBwYXNzZWQsIHVzZSBtYXAgYm91bmRzXHJcbiAgICAgICAgaWYgKCFib3VuZHMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0JvdW5kcyBub3QgcGFzc2VkLiBVc2luZyBtYXAgYm91bmRzLicpO1xyXG4gICAgICAgICAgICBib3VuZHMgPSB0aGlzLm1hcC5nZXRCb3VuZHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJvdW5kcyA9IHJvdW5kQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgLy90aGlzLm1hcmtlckxheWVyLnJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKGJvdW5kcywgdGhpcy5tYXJrZXJGaWx0ZXIpO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIC8vIEdldCB0aGUgYm94ZXNcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVmcmVzaGluZyBwb2ludHMgd2l0aGluIGJvdW5kcycsIGJvdW5kcy50b0JCb3hTdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc3QgcG9pbnRzID0gYXdhaXQgdGhpcy5kYXRhc3RvcmUuZ2V0UG9pbnRzV2l0aGluQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIGFkZCBwb2ludHMgdG8gbWFwIHRoYXQgZG9uJ3QgYWxyZWFkeSBleGlzdCBpbiBsYXllclxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFya2VyID0gTC5jaXJjbGVNYXJrZXIoW3BvaW50LmxhdGl0dWRlLCBwb2ludC5sb25naXR1ZGVdLCB7XHJcbiAgICAgICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgICAgICAvL2ZpbGxDb2xvcjogdGhpcy5nZXRQbGFjZUNvbG91cihwbGFjZSksXHJcbiAgICAgICAgICAgICAgICAvL2NvbG9yOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBwb3B1cFxyXG4gICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKHBvaW50LmxvY2lkcy5qb2luKCc8YnIgLz4nKSk7XHJcbiAgICAgICAgICAgIG1hcmtlci5vbigncG9wdXBvcGVuJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBvcHVwQ29udGVudChwb2ludClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb250ZW50ID0+IGV2ZW50LnBvcHVwLnNldENvbnRlbnQoY29udGVudCkpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJMYXllci5hZGRMYXllcihtYXJrZXIpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb250cm9sczoge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IElDb250cm9sO1xyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIGFkZENvbnRyb2woa2V5OiBzdHJpbmcsIGNvbnRyb2w6IElDb250cm9sKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHNba2V5XSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRyb2wgd2l0aCBrZXkgJHtrZXl9IGFscmVhZHkgZXhpc3RzYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzW2tleV0gPSBjb250cm9sO1xyXG5cclxuICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKGNvbnRyb2wuZ2V0Q29udHJvbCgpKVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnQWRkZWQgY29udHJvbCcsIGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXI6IElNb2RlKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG1vZGVIYW5kbGVyO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyPy5yZW1vdmVBbGxNYXJrZXJzKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgRmV0Y2hlZCBCb3hlcycsIHRoaXMuZmV0Y2hlZEJveGVzKTtcclxuICAgICAgICB0aGlzLmZldGNoZWRCb3hlcy5jbGVhcigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIEJveGVzIENsZWFyZWQnLCB0aGlzLmZldGNoZWRCb3hlcyk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllcj8uc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXIsIHRoaXMucGxhY2VTdG9yZSk7XHJcbiAgICAgICAgdGhpcy5mZXRjaERhdGFGb3JDdXJyZW50VmlldygpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcbmltcG9ydCBJQ29udHJvbCBmcm9tIFwiLi4vaW50ZXJmYWNlcy9jb250cm9sLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi4vbmJuX3RlY2hfbWFwLmNsYXNzXCI7XHJcbmltcG9ydCB7IENvbnRyb2xFdmVudCB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEFDb250cm9sIGltcGxlbWVudHMgSUNvbnRyb2wge1xyXG5cclxuICAgIC8vcHJvdGVjdGVkIG1hcDogTmJuVGVjaE1hcDtcclxuICAgIHByb3RlY3RlZCBjb250cm9sOiBMLkNvbnRyb2w7XHJcbiAgICAvL3Byb3RlY3RlZCBrZXk6IHN0cmluZztcclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIGV2ZW50SGFuZGxlcnM6IHtcclxuICAgICAgICBbZXZlbnROYW1lOiBzdHJpbmddOiAoKGU6IENvbnRyb2xFdmVudCkgPT4gdm9pZClbXVxyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKC8qa2V5OiBzdHJpbmcvKiwgbmJuVGVjaE1hcDogTmJuVGVjaE1hcCovKSB7XHJcbiAgICAgICAgLy90aGlzLmtleSA9IGtleTtcclxuICAgICAgICAvL3RoaXMubWFwID0gbmJuVGVjaE1hcDtcclxuICAgICAgICB0aGlzLmNvbnRyb2wgPSBuZXcgTC5Db250cm9sKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb24oZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoZTogQ29udHJvbEV2ZW50KSA9PiB2b2lkKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGVtaXQoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE6IGFueSkgOiB2b2lkIHtcclxuICAgICAgICBjb25zb2xlLmRlYnVnKGBFbWl0dGluZyBldmVudDogJHtldmVudE5hbWV9YCwge1xyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBoYW5kbGVyczogdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0uZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5nZXRTdGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGdldFN0YXRlKCkgOiBhbnk7XHJcblxyXG4gICAgcHVibGljIGdldENvbnRyb2woKSA6IEwuQ29udHJvbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbDtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG4vL2ltcG9ydCBOYm5UZWNoTWFwIGZyb20gXCIuLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IEFDb250cm9sIGZyb20gXCIuL2NvbnRyb2wuYWJzdHJhY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb0Rpc3BsYXlNb2RlIGV4dGVuZHMgQUNvbnRyb2wge1xyXG5cclxuICAgIHByaXZhdGUgZGlzcGxheU1vZGUgPSAnYWxsJztcclxuICAgIHByaXZhdGUgZWxDb250cm9sRGl2OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgcHJpdmF0ZSBlbERyb3Bkb3duOiBIVE1MU2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmdlbmVyYXRlQ29udHJvbERpdigpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5vbkFkZCA9IChtYXA6IEwuTWFwKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVEcm9wZG93bigpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbENvbnRyb2xEaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3RoaXMuY29udHJvbC5vbkFkZCA9ICgpID0+IHRoaXMuYWRkQ29udHJvbERpdigpO1xyXG4gICAgICAgIC8vdGhpcy5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhdGUoKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheU1vZGU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgYWxsTGFiZWw6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGFsbFJhZGlvOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBhbGxUZXh0OiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB1cGdyYWRlTGFiZWw6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHVwZ3JhZGVSYWRpbzogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgdXBncmFkZVRleHQ6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGVlTGFiZWw6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGVlUmFkaW86IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGVlVGV4dDogYW55ID0gbnVsbDtcclxuICAgIFxyXG4gICAgY2hhbmdlTW9kZShtb2RlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmRpc3BsYXlNb2RlID0gbW9kZTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIG1vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVDb250cm9sRGl2KCkgOiB2b2lkIHtcclxuICAgICAgICBpZih0aGlzLmVsQ29udHJvbERpdikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbnRyb2xEaXYgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmNsYXNzTGlzdC5hZGQoJ2luZm8nLCAnbGVnZW5kJyk7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZURyb3Bkb3duKCkgOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5lbERyb3Bkb3duKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRHJvcGRvd24gYWxyZWFkeSBleGlzdHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRyb3Bkb3duID0gdGhpcy5lbERyb3Bkb3duO1xyXG4gICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2wtc2VsZWN0Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFsbE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGFsbE9wdGlvbi52YWx1ZSA9ICdhbGwnO1xyXG4gICAgICAgIGFsbE9wdGlvbi5pbm5lclRleHQgPSAnU2hvdyBBbGwgTG9jYXRpb25zJztcclxuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZChhbGxPcHRpb24pO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB1cGdyYWRlT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgdXBncmFkZU9wdGlvbi52YWx1ZSA9ICd1cGdyYWRlJztcclxuICAgICAgICB1cGdyYWRlT3B0aW9uLmlubmVyVGV4dCA9ICdUZWNoIFVwZ3JhZGVzJztcclxuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZCh1cGdyYWRlT3B0aW9uKTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBlZU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGVlT3B0aW9uLnZhbHVlID0gJ2VlJztcclxuICAgICAgICBlZU9wdGlvbi5pbm5lclRleHQgPSAnRW50ZXJwcmlzZSBFdGhlcm5ldCc7XHJcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQoZWVPcHRpb24pO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBkcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gdGhpcy5jaGFuZ2VNb2RlKChlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWUpKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbERyb3Bkb3duID0gZHJvcGRvd247XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuYXBwZW5kQ2hpbGQoZHJvcGRvd24pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKmFkZENvbnRyb2xEaXYoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYWxsTGFiZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdsYWJlbCcsICdjb250cm9sLWxhYmVsJywgdGhpcy5jb250cm9sRGl2KTtcclxuICAgICAgICB0aGlzLmFsbFJhZGlvID0gTC5Eb21VdGlsLmNyZWF0ZSgnaW5wdXQnLCAnY29udHJvbC1pbnB1dCcsIHRoaXMuYWxsTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8udHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpby5uYW1lID0gJ2Rpc3BsYXktbW9kZSc7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpby52YWx1ZSA9ICdhbGwnO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8uY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmFsbFJhZGlvLCAnY2hhbmdlJywgKGUpID0+IHRoaXMuY2hhbmdlTW9kZSgnYWxsJykpO1xyXG4gICAgICAgIHRoaXMuYWxsVGV4dCA9IEwuRG9tVXRpbC5jcmVhdGUoJ3NwYW4nLCAnY29udHJvbC10ZXh0JywgdGhpcy5hbGxMYWJlbCk7XHJcbiAgICAgICAgdGhpcy5hbGxUZXh0LmlubmVyVGV4dCA9ICdBbGwnO1xyXG5cclxuICAgICAgICB0aGlzLnVwZ3JhZGVMYWJlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2xhYmVsJywgJ2NvbnRyb2wtbGFiZWwnLCB0aGlzLmNvbnRyb2xEaXYpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvID0gTC5Eb21VdGlsLmNyZWF0ZSgnaW5wdXQnLCAnY29udHJvbC1pbnB1dCcsIHRoaXMudXBncmFkZUxhYmVsKTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpby50eXBlID0gJ3JhZGlvJztcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpby5uYW1lID0gJ2Rpc3BsYXktbW9kZSc7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8udmFsdWUgPSAndXBncmFkZSc7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLnVwZ3JhZGVSYWRpbywgJ2NoYW5nZScsICgpID0+IHRoaXMuY2hhbmdlTW9kZSgndXBncmFkZScpKTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVUZXh0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnc3BhbicsICdjb250cm9sLXRleHQnLCB0aGlzLnVwZ3JhZGVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlVGV4dC5pbm5lclRleHQgPSAnVGVjaCBVcGdyYWRlJztcclxuXHJcbiAgICAgICAgdGhpcy5lZUxhYmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGFiZWwnLCAnY29udHJvbC1sYWJlbCcsIHRoaXMuY29udHJvbERpdik7XHJcbiAgICAgICAgdGhpcy5lZVJhZGlvID0gTC5Eb21VdGlsLmNyZWF0ZSgnaW5wdXQnLCAnY29udHJvbC1pbnB1dCcsIHRoaXMuZWVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy5lZVJhZGlvLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby5uYW1lID0gJ2Rpc3BsYXktbW9kZSc7XHJcbiAgICAgICAgdGhpcy5lZVJhZGlvLnZhbHVlID0gJ2VlJztcclxuICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuZWVSYWRpbywgJ2NoYW5nZScsICgpID0+IHRoaXMuY2hhbmdlTW9kZSgnZWUnKSk7XHJcbiAgICAgICAgdGhpcy5lZVRleHQgPSBMLkRvbVV0aWwuY3JlYXRlKCdzcGFuJywgJ2NvbnRyb2wtdGV4dCcsIHRoaXMuZWVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy5lZVRleHQuaW5uZXJUZXh0ID0gJ0VFJztcclxuXHJcbiAgICB9Ki9cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSwgTmJuUGxhY2UsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBpc1BsYWNlRlRUUCxcclxuICAgIGlzUGxhY2VGVFRDLFxyXG4gICAgaXNQbGFjZUZUVFBBdmFpbCxcclxuICAgIGlzUGxhY2VGVFRQU29vbixcclxuICAgIGlzUGxhY2VGVFRQRmFyLFxyXG4gICAgaXNGd3RvRlRUQyxcclxuICAgIGlzRnd0b0ZUVE4sXHJcbiAgICBpc1NhdFRvRlcsXHJcbiAgICBpc0RlYnVnTW9kZVxyXG59IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgY29sb3VyRlRUUCBcdFx0PSAnIzFENzA0NCc7XHJcbmNvbnN0IGNvbG91ckZUVFBBdmFpbCAgID0gJyM3NUFENkYnO1xyXG5jb25zdCBjb2xvdXJGVFRQU29vbiAgICA9ICcjQzhFM0M1JztcclxuY29uc3QgY29sb3VySEZDIFx0XHQ9ICcjRkZCRTAwJztcclxuY29uc3QgY29sb3VyRlRUQyBcdFx0PSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVENBdmFpbCAgID0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFROQiBcdFx0PSAnI0UzMDcxRCc7XHJcbmNvbnN0IGNvbG91ckZXIFx0XHQgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IGNvbG91ckZXQXZhaWwgXHQ9ICcjMDIyQkUzJztcclxuY29uc3QgY29sb3VyU2F0IFx0ICAgID0gJyM2QjAyRTMnO1xyXG5jb25zdCBjb2xvdXJVbmtub3duICAgICAgPSAnIzg4ODg4OCc7XHJcblxyXG5mdW5jdGlvbiBnZXRUZWNoQ29sb3VyKHRlY2hUeXBlOiBzdHJpbmcpIHtcclxuICAgIHN3aXRjaCh0ZWNoVHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ0ZUVFAnOiByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICBjYXNlICdGVFRDJzogcmV0dXJuIGNvbG91ckZUVEM7XHJcbiAgICAgICAgY2FzZSAnRlRUTic6XHJcbiAgICAgICAgY2FzZSAnRlRUQic6IHJldHVybiBjb2xvdXJGVFROQjtcclxuICAgICAgICBjYXNlICdIRkMnOiByZXR1cm4gY29sb3VySEZDO1xyXG4gICAgICAgIGNhc2UgJ1dJUkVMRVNTJzogcmV0dXJuIGNvbG91ckZXO1xyXG4gICAgICAgIGNhc2UgJ1NBVEVMTElURSc6IHJldHVybiBjb2xvdXJTYXQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3VyVW5rbm93bjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxsTW9kZSBpbXBsZW1lbnRzIElNb2RlIHtcclxuXHJcbiAgICBmaWx0ZXIocGxhY2U6IE5iblBsYWNlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvaW50Q29sb3VyKHBvaW50OiBQb2ludEFuZFBsYWNlcykgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlQ29sb3VyKHBvaW50LnBsYWNlc1swXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxhY2VDb2xvdXIocGxhY2U6IE5iblBsYWNlKSA6IHN0cmluZyB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBBdmFpbChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBTb29uKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUFNvb247XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQztcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNGd3RvRlRUQyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVENBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlICE9ICdOVUxMX05BJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQb3B1cENvbnRlbnQocGxhY2U6IE5iblBsYWNlKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxiPicrcGxhY2UuaWQrJzwvYj48L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMSArICc8L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMiArICc8L2JyPidcclxuICAgICAgICAgICAgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiPlRlY2hub2xvZ3kgUGxhbjwvYj48L2JyPic7XHJcblxyXG4gICAgICAgIC8qKiBUZWNobm9sb2d5IFBsYW4gRmluYWwgU3RhdGUgKi9cclxuICAgICAgICBpZiAocGxhY2UudGVjaFR5cGUgPT0gJ0ZUVFAnXHJcbiAgICAgICAgICAgIHx8ICFwbGFjZS5hbHRSZWFzb25Db2RlXHJcbiAgICAgICAgICAgIHx8IHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gJ05VTExfTkEnXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUZWNobm9sb2d5OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlICE9ICdGVFRQJykge1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ05vIHRlY2ggdXBncmFkZSBwbGFubmVkPGJyIC8+JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0N1cnJlbnQ6ICcgKyBwbGFjZS50ZWNoVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ2hhbmdlOiAnICsgcGxhY2UuYWx0UmVhc29uQ29kZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnU3RhdHVzOiAnICsgcGxhY2UudGVjaENoYW5nZVN0YXR1cyArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnUHJvZ3JhbTogJyArIHBsYWNlLnByb2dyYW1UeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUYXJnZXQgUXRyOiAnICsgcGxhY2UudGFyZ2V0RWxpZ2liaWxpdHlRdWFydGVyICsgJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiciAvPic7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwbGFjZS5lZSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiPkVudGVycHJpc2UgRXRoZXJuZXQ8L2I+PC9icj4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJ1ByaWNlIFpvbmU6ICcgKyAoIHBsYWNlLmNiZHByaWNpbmcgPyAnQ0JEJyA6ICdab25lIDEvMi8zJyApICsgJzxiciAvPidcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdCdWlsZCBDb3N0OiAnICsgKCBwbGFjZS56ZXJvQnVpbGRDb3N0ID8gJyQwJyA6ICdQT0EnICkgKyAnPGJyIC8+J1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNEZWJ1Z01vZGUoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBociA9IEwuRG9tVXRpbC5jcmVhdGUoJ2hyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ3ByZScpO1xyXG4gICAgICAgICAgICBwcmUuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkocGxhY2UsIG51bGwsIDIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGhyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChwcmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVG9vbHRpcChwbGFjZXM6IE5iblBsYWNlW10pIDogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbGFiZWwgPSBwbGFjZXNbMF0uYWRkcmVzczE7XHJcblxyXG4gICAgICAgIGlmIChwbGFjZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBsYWJlbCArPSAnICggKyAnICsgKHBsYWNlcy5sZW5ndGggLSAxKSArICcgbW9yZSknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRMZWdlbmRJdGVtcygpOiBMZWdlbmRJdGVtW10ge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCBVcGdyYWRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUEF2YWlsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAgVXBncmFkZSBTb29uJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUFNvb24sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnSEZDJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VySEZDLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVEMnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRDLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVE4vRlRUQicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVE5CLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZXJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlcgVXBncmFkZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZXQXZhaWwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnU2F0ZWxsaXRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyU2F0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJVbmtub3duLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgQUNvbnRyb2wgZnJvbSBcIi4vY29udHJvbC5hYnN0cmFjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbExlZ2VuZCBleHRlbmRzIEFDb250cm9sIHtcclxuXHJcbiAgICBwcml2YXRlIGVsQ29udHJvbERpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbC5zZXRQb3NpdGlvbignYm90dG9tcmlnaHQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuY2xhc3NMaXN0LmFkZCgnaW5mbycsICdsZWdlbmQnKTtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5wYWRkaW5nID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2wub25BZGQgPSAobWFwOiBMLk1hcCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbENvbnRyb2xEaXY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTGVnZW5kKGl0ZW1zOiBMZWdlbmRJdGVtW10pIHtcclxuXHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgaXRlbS5jb2xvdXIgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gJyArIGl0ZW0ubGFiZWw7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICcgKCcgKyBpdGVtLmNvdW50ICsgJyknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxicj4nO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5pbm5lckhUTUwgPSBodG1sO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKlxyXG5cclxuICAgIGdldExlZ2VuZEhUTUwoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5iblRlY2hNYXAuY29udHJvbHMuZGlzcGxheU1vZGU/LmRpc3BsYXlNb2RlID09ICdlZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9DQkRfWkJDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSBDQkQgKCQwIEJ1aWxkKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX0NCRF9CQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgQ0JEIChCdWlsZCBQT0EpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfWjEyM19aQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIDEvMi8zICgkMCBCdWlsZCk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9aMTIzX0JDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSAxLzIvMyAoQnVpbGQgUE9BKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5iblRlY2hNYXAuY29udHJvbHMuZGlzcGxheU1vZGU/LmRpc3BsYXlNb2RlID09ICd1cGdyYWRlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9DT01QTEVURSArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBDb21wbGV0ZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQVZBSUwgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQXZhaWxhYmxlPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0JVSUxERklOQUxJU0VEICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEJ1aWxkIEZpbmFsaXNlZDxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9ERVNJR04gKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSW4gRGVzaWduPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0NPTU1JVFRFRCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBDb21taXR0ZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8Yj5NdWx0aSBEd2VsbGluZyBVbml0czwvYj48YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfTURVX0lOQlVJTEQgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSW4gQnVpbGQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfTURVX0VMSUdJQkxFICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEVsbGlnaWJsZTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVFA8YnI+JyArIFxyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUEF2YWlsKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUUCBVcGdyYWRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUUFNvb24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRQIFVwZ3JhZGUgU29vbjxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckhGQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEhGQzxicj4nICsgXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFRDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUQzxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVE5CKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUTi9GVFRCPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlcrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVzxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZXQXZhaWwrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVyBVcGdyYWRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyU2F0KydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gU2F0ZWxsaXRlPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyVW5rbm93bisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFVua25vd24nO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbnRyb2xEaXYobWFwKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jb250cm9sRGl2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbERpdiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdpbmZvIGxlZ2VuZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLndpZHRoID0gXCIxNTBweFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRMZWdlbmRIVE1MKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaCgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuaW5uZXJIVE1MID0gdGhpcy5nZXRMZWdlbmRIVE1MKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2wuYWRkVG8odGhpcy5uYm5UZWNoTWFwLm1hcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAqL1xyXG59IiwiaW1wb3J0IElQbGFjZVN0b3JlIGZyb20gJy4uL2ludGVyZmFjZXMvcGxhY2VzdG9yZS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBOYm5QbGFjZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBEQlNjaGVtYSwgSURCUERhdGFiYXNlLCBvcGVuREIgfSBmcm9tICdpZGInO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5CTlRlY2hNYXBEQiBleHRlbmRzIERCU2NoZW1hIHtcclxuICAgIG5iblBsYWNlU3RvcmU6IHtcclxuICAgICAgICBrZXk6IHN0cmluZztcclxuICAgICAgICB2YWx1ZTogTmJuUGxhY2U7XHJcbiAgICAgICAgaW5kZXhlczoge1xyXG4gICAgICAgICAgICAvL2xvY2lkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIC8vbGF0bG5nOiBbbnVtYmVyLCBudW1iZXJdO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbmRleERCUGxhY2VTdG9yZSBpbXBsZW1lbnRzIElQbGFjZVN0b3JlIHtcclxuXHJcbiAgICBwcml2YXRlIERCX05BTUUgPSAnbnNtLXBsYWNlc3RvcmUnO1xyXG5cclxuICAgIHByaXZhdGUgbG9nZ2VyID0gbmV3IExvZ2dlcignSW5kZXhEQlBsYWNlU3RvcmUnKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBkYXRhYmFzZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkYj86IElEQlBEYXRhYmFzZTxOQk5UZWNoTWFwREI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgZGF0YWJhc2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1NldHRpbmcgdXAgZGF0YWJhc2UuLi4nKTtcclxuXHJcbiAgICAgICAgb3BlbkRCPE5CTlRlY2hNYXBEQj4odGhpcy5EQl9OQU1FLCAyLCB7XHJcblxyXG4gICAgICAgICAgICB1cGdyYWRlKGRiLCBvbGRWZXJzaW9uLCBuZXdWZXJzaW9uLCB0cmFuc2FjdGlvbiwgZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZU5hbWVzID0gZGIub2JqZWN0U3RvcmVOYW1lcztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmJuIHBsYWNlIHN0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcclxuICAgICAgICAgICAgICAgIGlmICghb2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnbmJuUGxhY2VTdG9yZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ25iblBsYWNlU3RvcmUnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgYmxvY2tlZDogKGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0RhdGFiYXNlIGJsb2NrZWQhJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGJsb2NraW5nOiAoY3VycmVudFZlcnNpb24sIGJsb2NrZWRWZXJzaW9uLCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRGF0YWJhc2UgYmxvY2tpbmchJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgdGVybWluYXRlZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRGF0YWJhc2UgdGVybWluYXRlZCEnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRiID0gZGI7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0RhdGFiYXNlIHJlYWR5IScpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBvcGVuIGRhdGFiYXNlOiAnLCBlcnIpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRGF0YWJhc2Ugc2V0dXAgY29tcGxldGUuJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdGhlIGRhdGFiYXNlIGlzIHJlYWR5LlxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIGlzUmVhZHkoKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuZGI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXYWl0IHVudGlsIHRoZSBkYXRhYmFzZSBpcyByZWFkeS5cclxuICAgICAqIEBwYXJhbSB0aW1lb3V0U2Vjb25kcyBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBhc3luYyB3YWl0VW50aWxSZWFkeSh0aW1lb3V0U2Vjb25kczogbnVtYmVyKSA6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNSZWFkeSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aW1lRWxhcHNlZCA+IHRpbWVvdXRTZWNvbmRzICogMTAwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYERhdGFiYXNlIG5vdCByZWFkeSBhZnRlciAke3RpbWVvdXRTZWNvbmRzfSBzZWNvbmRzLmApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlIGEgc2luZ2xlIHBsYWNlLlxyXG4gICAgICogQHBhcmFtIHBsYWNlIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzdG9yZVBsYWNlKHBsYWNlOiBOYm5QbGFjZSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5nZXREYigpO1xyXG4gICAgICAgIGF3YWl0IGRiLnB1dCgnbmJuUGxhY2VTdG9yZScsIHBsYWNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlIGEgYmF0Y2ggb2YgcGxhY2VzLlxyXG4gICAgICogVXNlcyBhIHRyYW5zYWN0aW9uIHRvIHByb3ZpZGUgYmV0dGVyIHBlcmZvcm1hbmNlLlxyXG4gICAgICogQHBhcmFtIHBsYWNlcyBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3RvcmVQbGFjZXMocGxhY2VzOiBOYm5QbGFjZVtdKSA6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGRhdGFiYXNlXHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmdldERiKCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ25iblBsYWNlU3RvcmUnXSwgJ3JlYWR3cml0ZScsIHtcclxuICAgICAgICAgICAgJ2R1cmFiaWxpdHknOiAncmVsYXhlZCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgb2JqZWN0IHN0b3JlXHJcbiAgICAgICAgY29uc3QgcGxhY2VTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCduYm5QbGFjZVN0b3JlJyk7XHJcblxyXG4gICAgICAgIC8vIFB1dCB0aGUgcGxhY2VzXHJcbiAgICAgICAgY29uc3QgcHV0UHJvbWlzZXMgPSBwbGFjZXMuZmlsdGVyKHBsYWNlID0+IHBsYWNlKS5tYXAocGxhY2UgPT4gcGxhY2VTdG9yZS5wdXQocGxhY2UpKTtcclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwdXRQcm9taXNlcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlXHJcbiAgICAgICAgYXdhaXQgdHguZG9uZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBzaW5nbGUgcGxhY2UuXHJcbiAgICAgKiBAcGFyYW0gbG9jaWQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0UGxhY2UobG9jaWQ6IHN0cmluZykgOiBQcm9taXNlPE5iblBsYWNlIHwgdW5kZWZpbmVkPiB7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgZGF0YWJhc2VcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBwbGFjZVxyXG4gICAgICAgIHJldHVybiBhd2FpdCBkYi5nZXQoJ25iblBsYWNlU3RvcmUnLCBsb2NpZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgYmF0Y2ggb2YgcGxhY2VzLlxyXG4gICAgICogVXNlcyBhIHRyYW5zYWN0aW9uIHRvIHByb3ZpZGUgYmV0dGVyIHBlcmZvcm1hbmNlLlxyXG4gICAgICogQHBhcmFtIGxvY2lkcyBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRQbGFjZXMobG9jaWRzOiBzdHJpbmdbXSk6IFByb21pc2U8TmJuUGxhY2VbXT4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGRhdGFiYXNlXHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmdldERiKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gT3BlbiBhIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ25iblBsYWNlU3RvcmUnXSwgJ3JlYWRvbmx5Jyk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgb2JqZWN0IHN0b3JlXHJcbiAgICAgICAgY29uc3QgcGxhY2VTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCduYm5QbGFjZVN0b3JlJyk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgcGxhY2VzXHJcbiAgICAgICAgY29uc3QgcGxhY2VzID0gYXdhaXQgUHJvbWlzZS5hbGwobG9jaWRzLm1hcChsb2NpZCA9PiBwbGFjZVN0b3JlLmdldChsb2NpZCkpKTtcclxuXHJcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlXHJcbiAgICAgICAgYXdhaXQgdHguZG9uZTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBwbGFjZXNcclxuICAgICAgICByZXR1cm4gcGxhY2VzLmZpbHRlcihwbGFjZSA9PiAhIXBsYWNlKSBhcyBOYm5QbGFjZVtdO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKiBAcGFyYW0gdGltZW91dCBcclxuICAgICAqIEByZXR1cm5zIFByb21pc2U8SURCUERhdGFiYXNlPE5CTlRlY2hNYXBEQj4+XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0RGIodGltZW91dCA9IDUpIDogUHJvbWlzZTxJREJQRGF0YWJhc2U8TkJOVGVjaE1hcERCPj4ge1xyXG4gICAgICAgIGF3YWl0IHRoaXMud2FpdFVudGlsUmVhZHkodGltZW91dCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2Ugbm90IHJlYWR5LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5kYjtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSwgTmJuUGxhY2UsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBpc1BsYWNlRlRUUCxcclxuICAgIGlzUGxhY2VGVFRDLFxyXG4gICAgaXNQbGFjZUZUVFBBdmFpbCxcclxuICAgIGlzUGxhY2VGVFRQU29vbixcclxuICAgIGlzUGxhY2VGVFRQRmFyLFxyXG4gICAgaXNGd3RvRlRUQyxcclxuICAgIGlzRnd0b0ZUVE4sXHJcbiAgICBpc1NhdFRvRlcsXHJcbiAgICBpc0RlYnVnTW9kZVxyXG59IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgQ09MX1RFQ0hfQ09NUExFVEUgICAgICAgICA9ICcjMUQ3MDQ0JztcclxuY29uc3QgQ09MX1RFQ0hfQVZBSUwgICAgICAgICAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQgICA9ICcjRkZCRTAwJztcclxuY29uc3QgQ09MX1RFQ0hfREVTSUdOICAgICAgICAgICA9ICcjRkY3RTAxJztcclxuY29uc3QgQ09MX1RFQ0hfQ09NTUlUVEVEICAgICAgICA9ICcjRTMwNzFEJztcclxuY29uc3QgQ09MX1RFQ0hfTURVX0lOQlVJTEQgICAgICA9ICcjMDIyQkUzJztcclxuY29uc3QgQ09MX1RFQ0hfTURVX0VMSUdJQkxFICAgICA9ICcjNkIwMkUzJztcclxuY29uc3QgQ09MX1VOS05PV04gICAgICAgICAgICAgICA9ICcjODg4ODg4JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlY2hVcGdyYWRlTW9kZSBpbXBsZW1lbnRzIElNb2RlIHtcclxuXHJcbiAgICBmaWx0ZXIocGxhY2U6IE5iblBsYWNlKSA6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBpZiAocGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnTm90IFBsYW5uZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwb2ludENvbG91cihwb2ludDogUG9pbnRBbmRQbGFjZXMpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGFjZUNvbG91cihwb2ludC5wbGFjZXNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkgOiBzdHJpbmcge1xyXG5cclxuICAgICAgICBzd2l0Y2gocGxhY2UudGVjaENoYW5nZVN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdQcmV2aW91cyBUZWNoIERpc2Nvbm5lY3RlZCc6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgY2FzZSAnTmV3IFRlY2ggQ29ubmVjdGVkJyA6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgY2FzZSAnSW4gRGVzaWduJzogcmV0dXJuIENPTF9URUNIX0RFU0lHTjtcclxuICAgICAgICAgICAgY2FzZSAnQnVpbGQgRmluYWxpc2VkJzogcmV0dXJuIENPTF9URUNIX0JVSUxERklOQUxJU0VEO1xyXG4gICAgICAgICAgICBjYXNlICdDb21taXR0ZWQnOiByZXR1cm4gQ09MX1RFQ0hfQ09NTUlUVEVEO1xyXG4gICAgICAgICAgICBjYXNlICdFbGlnaWJsZSBUbyBPcmRlcic6IHJldHVybiBDT0xfVEVDSF9BVkFJTDtcclxuICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggRWxpZ2libGUgVG8gQXBwbHknOiByZXR1cm4gQ09MX1RFQ0hfTURVX0VMSUdJQkxFO1xyXG4gICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBQcmVtaXNlcyBJbiBCdWlsZCc6IHJldHVybiBDT0xfVEVDSF9NRFVfSU5CVUlMRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIENPTF9VTktOT1dOO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQb3B1cENvbnRlbnQocGxhY2U6IE5iblBsYWNlKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxiPicrcGxhY2UuaWQrJzwvYj48L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMSArICc8L2JyPidcclxuICAgICAgICAgICAgKyBwbGFjZS5hZGRyZXNzMiArICc8L2JyPidcclxuICAgICAgICAgICAgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJzxiPlRlY2hub2xvZ3kgUGxhbjwvYj48L2JyPic7XHJcblxyXG4gICAgICAgIC8qKiBUZWNobm9sb2d5IFBsYW4gRmluYWwgU3RhdGUgKi9cclxuICAgICAgICBpZiAocGxhY2UudGVjaFR5cGUgPT0gJ0ZUVFAnXHJcbiAgICAgICAgICAgIHx8ICFwbGFjZS5hbHRSZWFzb25Db2RlXHJcbiAgICAgICAgICAgIHx8IHBsYWNlLmFsdFJlYXNvbkNvZGUgPT0gJ05VTExfTkEnXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUZWNobm9sb2d5OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlICE9ICdGVFRQJykge1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ05vIHRlY2ggdXBncmFkZSBwbGFubmVkPGJyIC8+JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0N1cnJlbnQ6ICcgKyBwbGFjZS50ZWNoVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ2hhbmdlOiAnICsgcGxhY2UuYWx0UmVhc29uQ29kZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnU3RhdHVzOiAnICsgcGxhY2UudGVjaENoYW5nZVN0YXR1cyArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnUHJvZ3JhbTogJyArIHBsYWNlLnByb2dyYW1UeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUYXJnZXQgUXRyOiAnICsgcGxhY2UudGFyZ2V0RWxpZ2liaWxpdHlRdWFydGVyICsgJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnPGJyIC8+JzsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgaHIgPSBMLkRvbVV0aWwuY3JlYXRlKCdocicpO1xyXG4gICAgICAgICAgICBjb25zdCBwcmUgPSBMLkRvbVV0aWwuY3JlYXRlKCdwcmUnKTtcclxuICAgICAgICAgICAgcHJlLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHBsYWNlLCBudWxsLCAyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChocik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRvb2x0aXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxhYmVsID0gcGxhY2VzWzBdLmFkZHJlc3MxO1xyXG5cclxuICAgICAgICBpZiAocGxhY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgbGFiZWwgKz0gJyAoICsgJyArIChwbGFjZXMubGVuZ3RoIC0gMSkgKyAnIG1vcmUpJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGVnZW5kSXRlbXMoKTogTGVnZW5kSXRlbVtdIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1ByZXZpb3VzIFRlY2ggRGlzY29ubmVjdGVkJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfQ09NUExFVEVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOZXcgVGVjaCBDb25uZWN0ZWQnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVEVDSF9DT01QTEVURVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0VsaWdpYmxlIFRvIE9yZGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfQVZBSUxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdCdWlsZCBGaW5hbGlzZWQnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVEVDSF9CVUlMREZJTkFMSVNFRFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0luIERlc2lnbicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9URUNIX0RFU0lHTlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbW1pdHRlZCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9URUNIX0NPTU1JVFRFRFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ01EVSBDb21wbGV4IEVsaWdpYmxlIFRvIEFwcGx5JyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX1RFQ0hfTURVX0VMSUdJQkxFXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVEVDSF9NRFVfSU5CVUlMRFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVU5LTk9XTlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTGVnZW5kSXRlbSwgTmJuUGxhY2UsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgICBpc1BsYWNlRlRUUCxcclxuICAgIGlzUGxhY2VGVFRDLFxyXG4gICAgaXNQbGFjZUZUVFBBdmFpbCxcclxuICAgIGlzUGxhY2VGVFRQU29vbixcclxuICAgIGlzUGxhY2VGVFRQRmFyLFxyXG4gICAgaXNGd3RvRlRUQyxcclxuICAgIGlzRnd0b0ZUVE4sXHJcbiAgICBpc1NhdFRvRlcsXHJcbiAgICBpc0RlYnVnTW9kZVxyXG59IGZyb20gXCIuLi91dGlsc1wiO1xyXG5cclxuY29uc3QgQ09MX0VFX0NCRF9aQkMgICAgPSAnIzFENzA0NCc7XHJcbmNvbnN0IENPTF9FRV9DQkRfQkMgICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBDT0xfRUVfWjEyM19aQkMgICA9ICcjRkY3RTAxJztcclxuY29uc3QgQ09MX0VFX1oxMjNfQkMgICAgPSAnI0UzMDcxRCc7XHJcbmNvbnN0IENPTF9VTktOT1dOICAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRUVNb2RlIGltcGxlbWVudHMgSU1vZGUge1xyXG5cclxuICAgIGZpbHRlcihwbGFjZTogTmJuUGxhY2UpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHBsYWNlLmVlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvaW50Q29sb3VyKHBvaW50OiBQb2ludEFuZFBsYWNlcykgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlQ29sb3VyKHBvaW50LnBsYWNlc1swXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxhY2VDb2xvdXIocGxhY2U6IE5iblBsYWNlKSA6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGlmKHBsYWNlLmNiZHByaWNpbmcgJiYgcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ09MX0VFX0NCRF9aQkM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDT0xfRUVfQ0JEX0JDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIXBsYWNlLmNiZHByaWNpbmcgJiYgcGxhY2UuemVyb0J1aWxkQ29zdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ09MX0VFX1oxMjNfWkJDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIXBsYWNlLmNiZHByaWNpbmcgJiYgIXBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENPTF9FRV9aMTIzX0JDO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gQ09MX1VOS05PV047XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBvcHVwQ29udGVudChwbGFjZTogTmJuUGxhY2UpIDogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnKTtcclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSAnPGI+JytwbGFjZS5pZCsnPC9iPjwvYnI+J1xyXG4gICAgICAgICAgICArIHBsYWNlLmFkZHJlc3MxICsgJzwvYnI+J1xyXG4gICAgICAgICAgICArIHBsYWNlLmFkZHJlc3MyICsgJzwvYnI+J1xyXG4gICAgICAgICAgICArICc8YnIgLz4nO1xyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiPkVudGVycHJpc2UgRXRoZXJuZXQ8L2I+PC9icj4nO1xyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnUHJpY2UgWm9uZTogJyArICggcGxhY2UuY2JkcHJpY2luZyA/ICdDQkQnIDogJ1pvbmUgMS8yLzMnICkgKyAnPGJyIC8+J1xyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnQnVpbGQgQ29zdDogJyArICggcGxhY2UuemVyb0J1aWxkQ29zdCA/ICckMCcgOiAnUE9BJyApICsgJzxiciAvPidcclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJzxiciAvPic7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgaHIgPSBMLkRvbVV0aWwuY3JlYXRlKCdocicpO1xyXG4gICAgICAgICAgICBjb25zdCBwcmUgPSBMLkRvbVV0aWwuY3JlYXRlKCdwcmUnKTtcclxuICAgICAgICAgICAgcHJlLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHBsYWNlLCBudWxsLCAyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChocik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRvb2x0aXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxhYmVsID0gcGxhY2VzWzBdLmFkZHJlc3MxO1xyXG5cclxuICAgICAgICBpZiAocGxhY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgbGFiZWwgKz0gJyAoICsgJyArIChwbGFjZXMubGVuZ3RoIC0gMSkgKyAnIG1vcmUpJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGVnZW5kSXRlbXMoKTogTGVnZW5kSXRlbVtdIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0VFIENCRCAkMCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9FRV9DQkRfWkJDXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRUUgQ0JEIFBPQScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IENPTF9FRV9DQkRfQkNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFRSBaMTIzICQwJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogQ09MX0VFX1oxMjNfWkJDXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRUUgWm9uZSAxLzIvMyBQT0EnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfRUVfWjEyM19CQ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1Vua25vd24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBDT0xfVU5LTk9XTlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbn0iLCIvKipcclxuICogQGZpbGUgTWFpbiBlbnRyeSBwb2ludCBmb3IgbWFwIHNjcmlwdHMuXHJcbiAqIEBtb2R1bGUgaW5kZXgudHNcclxuICogQHZlcnNpb24gMS4wLjBcclxuICogQGF1dGhvciBLb2FsYUdcclxuICogQGxpY2Vuc2UgTUlUXHJcbiAqL1xyXG5cclxuaW1wb3J0IExpcEFwaSBmcm9tIFwiLi9hcGkvbGlwX2FwaS5jbGFzc1wiO1xyXG5pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IENvbnRyb0Rpc3BsYXlNb2RlIGZyb20gXCIuL2NvbnRyb2xzL2NvbnRyb2xfZGlzcGxheV9tb2RlLmNsYXNzXCI7XHJcbmltcG9ydCB7IE1lbW9yeURhdGFzdG9yZSB9IGZyb20gXCIuL2RhdGFzdG9yZS9kYXRhc3RvcmUubWVtb3J5LmNsYXNzXCI7XHJcbmltcG9ydCBBbGxNb2RlIGZyb20gXCIuL21vZGVzL21vZGUuYWxsXCI7XHJcbmltcG9ydCBDb250cm9sTGVnZW5kIGZyb20gXCIuL2NvbnRyb2xzL2NvbnRyb2xfbGVnZW5kLmNsYXNzXCI7XHJcblxyXG5pbXBvcnQgJy4vYXNzZXRzL1NjcmVlbnNob3QxLnBuZyc7XHJcbmltcG9ydCAnLi9hc3NldHMvU2NyZWVuc2hvdDIucG5nJztcclxuaW1wb3J0ICcuL2Fzc2V0cy9TY3JlZW5zaG90My5wbmcnO1xyXG5cclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgTmJuUGxhY2UgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBJbmRleERCUGxhY2VTdG9yZSB9IGZyb20gXCIuL3BsYWNlc3RvcmUvaW5kZXhkYi5wbGFjZXN0b3JlXCI7XHJcbmltcG9ydCBUZWNoVXBncmFkZU1vZGUgZnJvbSBcIi4vbW9kZXMvdGVjaHVwZ3JhZGUubW9kZVwiO1xyXG5pbXBvcnQgRUVNb2RlIGZyb20gXCIuL21vZGVzL2VlLm1vZGVcIjtcclxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignaW5kZXgudHMnKTtcclxuXHJcbmNvbnN0IGlzRGV2ZWxvcG1lbnQgPSAoKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgcHJvY2Vzcy5hcmd2LmluY2x1ZGVzKCdkZXZlbG9wbWVudCcpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSkoKTtcclxubG9nZ2VyLmRlYnVnKCdpc0RldmVsb3BtZW50JywgaXNEZXZlbG9wbWVudCk7XHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvciAmJiAhaXNEZXZlbG9wbWVudCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc2VydmljZS13b3JrZXIuanMnKS50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdTVyByZWdpc3RlcmVkOiAnLCByZWdpc3RyYXRpb24pO1xyXG4gICAgICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1NXIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIHJlZ2lzdHJhdGlvbkVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByZWFkeVxyXG4gKiBAZGVzY3JpcHRpb24gRXhlY3V0ZXMgYSBmdW5jdGlvbiB3aGVuIHRoZSBET00gaXMgcmVhZHkuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS85ODk5NzAxLzEyOTMyNTZ9XHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkeShmbjogKCkgPT4gdm9pZCkge1xyXG4gICAgLy8gc2VlIGlmIERPTSBpcyBhbHJlYWR5IGF2YWlsYWJsZVxyXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIpIHtcclxuICAgICAgICAvLyBjYWxsIG9uIG5leHQgYXZhaWxhYmxlIHRpY2tcclxuICAgICAgICBzZXRUaW1lb3V0KGZuLCAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZm4pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBFeGVjdXRlIHdoZW4gRE9NIGlzIHJlYWR5LlxyXG5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICBjb25zdCBtYXBBcGkgPSBuZXcgTGlwQXBpKCk7XHJcbiAgICAvL2NvbnN0IGRhdGFzdG9yZSA9IG5ldyBJbmRleERCRGF0YXN0b3JlKCk7XHJcbiAgICAvLyBjb25zdCBkYXRhc3RvcmUgPSBuZXcgTWVtb3J5RGF0YXN0b3JlKCk7XHJcbiAgICAvL2NvbnN0IG1hcmtlckxheWVyID0gbmV3IE1hcmtlckxheWVyQ2x1c3RlcigpO1xyXG5cclxuICAgIGNvbnN0IG1vZGVBbGwgPSBuZXcgQWxsTW9kZSgpO1xyXG4gICAgY29uc3QgbW9kZVRlY2hVcGdyYWRlID0gbmV3IFRlY2hVcGdyYWRlTW9kZSgpO1xyXG4gICAgY29uc3QgbW9kZUVFID0gbmV3IEVFTW9kZSgpO1xyXG5cclxuICAgIGNvbnN0IGdldERlZmF1bHRNb2RlU3RyaW5nID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgY29uc3QgbW9kZUZyb21VcmwgPSB1cmxQYXJhbXMuZ2V0KCdtb2RlJyk7XHJcblxyXG4gICAgICAgIGlmIChtb2RlRnJvbVVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kZUZyb21Vcmw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtb2RlRnJvbVN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbW9kZScpO1xyXG4gICAgICAgIGlmIChtb2RlRnJvbVN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZGVGcm9tU3RvcmFnZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAnYWxsJztcclxuICAgIH07XHJcbiAgICBjb25zdCBnZXRNb2RlID0gKG1vZGU/OiBzdHJpbmcpID0+IHtcclxuXHJcbiAgICAgICAgaWYgKCFtb2RlKSB7XHJcbiAgICAgICAgICAgIG1vZGUgPSBnZXREZWZhdWx0TW9kZVN0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FsbCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZUFsbDtcclxuICAgICAgICAgICAgY2FzZSAndXBncmFkZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZVRlY2hVcGdyYWRlO1xyXG4gICAgICAgICAgICBjYXNlICdlZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZUVFO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVBbGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlZmF1bHRNb2RlID0gZ2V0TW9kZSgpO1xyXG5cclxuICAgIGNvbnN0IHBsYWNlU3RvcmUgPSBuZXcgSW5kZXhEQlBsYWNlU3RvcmUoKTtcclxuXHJcbiAgICBjb25zdCBuYm5UZWNoTWFwID0gbmV3IE5iblRlY2hNYXAoe1xyXG4gICAgICAgIG1hcENvbnRhaW5lcklkOiAnbWFwJyxcclxuICAgICAgICBhcGk6IG1hcEFwaSxcclxuICAgICAgICAvL2RhdGFzdG9yZTogZGF0YXN0b3JlLFxyXG4gICAgICAgIC8vbWFya2VyTGF5ZXI6IG1hcmtlckxheWVyLFxyXG4gICAgICAgIGRlZmF1bHRNb2RlSGFuZGxlcjogZGVmYXVsdE1vZGUsXHJcbiAgICAgICAgcGxhY2VzdG9yZTogcGxhY2VTdG9yZSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIENvbnRyb2xzIHRvIE1hcFxyXG4gICAgICovXHJcblxyXG4gICAgLy8gRGlzcGxheSBNb2RlIENvbnRyb2xcclxuICAgIGNvbnN0IGNEaXNwbGF5TW9kZSA9IG5ldyBDb250cm9EaXNwbGF5TW9kZSgpO1xyXG4gICAgbmJuVGVjaE1hcC5hZGRDb250cm9sKCdkaXNwbGF5bW9kZScsIGNEaXNwbGF5TW9kZSk7XHJcblxyXG4gICAgLy8gTGVnZW5kIENvbnRyb2xcclxuICAgIGNvbnN0IGNMZWdlbmQgPSBuZXcgQ29udHJvbExlZ2VuZCgpO1xyXG4gICAgY0xlZ2VuZC51cGRhdGVMZWdlbmQoZGVmYXVsdE1vZGUuZ2V0TGVnZW5kSXRlbXMoKSk7XHJcbiAgICBuYm5UZWNoTWFwLmFkZENvbnRyb2woJ2xlZ2VuZCcsIGNMZWdlbmQpO1xyXG5cclxuICAgIC8vIFNlYXJjaCBDb250cm9sXHJcblxyXG4gICAgLy8gUHJvZ3Jlc3MgQ29udHJvbFxyXG5cclxuICAgIC8vIEFkZCBldmVudCBMaXN0ZW5lcnNcclxuICAgIGNEaXNwbGF5TW9kZS5vbignY2hhbmdlJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBtb2RlID0gZ2V0TW9kZShlLnN0YXRlKTtcclxuICAgICAgICBpZiAoIW1vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBuYm5UZWNoTWFwLnNldE1vZGVIYW5kbGVyKG1vZGUpO1xyXG4gICAgICAgIGNMZWdlbmQudXBkYXRlTGVnZW5kKG1vZGUuZ2V0TGVnZW5kSXRlbXMoKSk7XHJcblxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtb2RlJywgZS5zdGF0ZSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBtb2RlIHBhcmFtIHRvIGV4aXN0aW5nIHVybFxyXG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdtb2RlJywgZS5zdGF0ZSk7XHJcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIFxyXG4gICAgfSk7XHJcblxyXG59KSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICFzY3JpcHRVcmwpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNDM6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzU3OF0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOSkpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsImZldGNoUGFnZSIsImJvdW5kcyIsInBhZ2UiLCJwcm9jZWVkIiwibm9ydGgiLCJnZXROb3J0aCIsInRvRml4ZWQiLCJ3ZXN0IiwiZ2V0V2VzdCIsIkVycm9yIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJhcGlTZXJ2ZXIiLCJnZXQiLCJNYXRoIiwibWF4IiwiTnVtYmVyIiwicGFnZVVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZmV0Y2giLCJtZXRob2QiLCJyZWRpcmVjdCIsInRoZW4iLCJyZXNwb25zZSIsInRleHQiLCJyZXN1bHQiLCJwYXJzZWRSZXN1bHQiLCJKU09OIiwicGFyc2UiLCJjYXRjaCIsIm5hbWUiLCJzdWIiLCJMb2dnZXIiLCJ0aGlzIiwiZXJyb3IiLCJjb25zb2xlIiwiYXJncyIsIndhcm4iLCJkZWJ1ZyIsImlzRGVidWdNb2RlIiwiaW5mbyIsImxvZyIsImhyZWYiLCJpbmNsdWRlcyIsIm1hcCIsIm1vZGVIYW5kbGVyIiwicGxhY2VTdG9yZSIsImxvZ2dlciIsInBvaW50TWFwIiwiTWFwIiwibWFya2VycyIsIm1heENsdXN0ZXJSYWRpdXMiLCJtYXJrZXJDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlPbk1heFpvb20iLCJkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbSIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJ6b29tVG9Cb3VuZHNPbkNsaWNrIiwicmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHMiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJjaHVua2VkTG9hZGluZyIsImNodW5rSW50ZXJ2YWwiLCJjaHVua0RlbGF5IiwiY2h1bmtQcm9ncmVzcyIsInByb2Nlc3NlZCIsInRvdGFsIiwiZWxhcHNlZCIsImFkZFRvIiwib24iLCJldmVudCIsInRhcmdldCIsImdldFpvb20iLCJhZGRQb2ludHMiLCJwb2ludHMiLCJuZXdMYXllcnMiLCJmb3JFYWNoIiwicG9pbnQiLCJsYXRMbmdTdHJpbmciLCJsYXQiLCJsbmciLCJuZXdMYXllciIsInJlbmRlclBvaW50IiwicHVzaCIsInNldCIsImxheWVyIiwibGVuZ3RoIiwiYWRkTGF5ZXJzIiwicmVtb3ZlQWxsUG9pbnRzIiwiY2xlYXJMYXllcnMiLCJjbGVhciIsInJlbW92ZUFsbE1hcmtlcnMiLCJ6b29tIiwidXBkYXRlUG9pbnRTdHlsZSIsInBsYWNlcyIsInNldFN0eWxlIiwiZmlsbENvbG9yIiwicGxhY2VDb2xvdXIiLCJzZXRUb29sdGlwQ29udGVudCIsInJlbmRlclRvb2x0aXAiLCJyZWRyYXciLCJzZXRNb2RlSGFuZGxlciIsInBsYWNlc3RvcmUiLCJERVBfcmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMiLCJtRmlsdGVyIiwicmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMiLCJjaXJjbGVNYXJrZXJMYXllciIsInJhZGl1cyIsImNvbCIsInVuZGVmaW5lZCIsImNvbG9yIiwid2VpZ2h0Iiwib3BhY2l0eSIsImZpbGxPcGFjaXR5IiwiYmluZFBvcHVwIiwiZ2V0UGxhY2VzIiwiaWRzIiwicG9wdXAiLCJyZW5kZXJQb3B1cCIsInNldFBvcHVwQ29udGVudCIsImxvYWRpbmdQb3B1cCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImF1dG9QYW4iLCJhdXRvQ2xvc2UiLCJiaW5kVG9vbHRpcCIsImxhYmVsIiwiYWRkIiwicmVuZGVyUG9wdXBDb250ZW50IiwicmVuZG9yUG9wdXBNdWx0aSIsImdyb3VwRGl2IiwicGxhY2VDb250YWluZXJzIiwic29ydCIsImEiLCJiIiwiYWRkcmVzczEiLCJwbGFjZSIsInBsYWNlQ29udGFpbmVyIiwiYnV0dG9uIiwiY2xhc3NMaXN0IiwidHlwZSIsInBhbmVsIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY3VycmVudGx5QWN0aXZlIiwiY29udGFpbnMiLCJyZW1vdmUiLCJjbHVzdGVyIiwiY29sb3JBcnJheSIsImdldEFsbENoaWxkTWFya2VycyIsIm1hcmtlciIsIm9wdGlvbnMiLCJjb2xvckNvdW50cyIsImNvbG9yQXJyYXlTb3J0ZWQiLCJPYmplY3QiLCJrZXlzIiwiYmFja2dyb3VuZCIsImxhc3RDb2xvdXJQZXJjZW50IiwiaW5kZXgiLCJ0aGlzQ29sb3VyUGVyY2VudCIsInJhbmRvbUlkIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJodG1sIiwiZ2V0Q2hpbGRDb3VudCIsImNsYXNzTmFtZSIsIk1BWF9VTkZFVENIRURfQk9YRVMiLCJpbml0aWFsVmlld1NldCIsImRlYnVnQm94ZXMiLCJmZXRjaGVkQm94ZXMiLCJTZXQiLCJwcm9ncmVzc0NvbnRyb2wiLCJwb3NpdGlvbiIsInByb2dyZXNzSXRlbXMiLCJjb250cm9scyIsIk5iblRlY2hNYXAiLCJERUZBVUxUX09QVElPTlMiLCJhcGkiLCJkZWZhdWx0TW9kZUhhbmRsZXIiLCJtYXBDb250YWluZXJJZCIsInByZWZlckNhbnZhcyIsIm1hcmtlckxheWVyIiwibWFwVGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJzdWJkb21haW5zIiwiY3Jvc3NPcmlnaW4iLCJtaW5ab29tIiwibWF4Wm9vbSIsIkwiLCJHZW9jb2RlciIsImdlb2NvZGVyIiwibWFwR2VvY29kZXIiLCJBcmNHaXMiLCJhcGlLZXkiLCJnZW9jb2RpbmdRdWVyeVBhcmFtcyIsImNvdW50cnlDb2RlIiwiY2F0ZWdvcnkiLCJtYXBTZWFyY2giLCJjb2xsYXBzZWQiLCJkZWZhdWx0TWFya0dlb2NvZGUiLCJzdWdnZXN0TWluTGVuZ3RoIiwic3VnZ2VzdFRpbWVvdXQiLCJiYm94IiwiZ2VvY29kZSIsImZpdEJvdW5kcyIsIm1hcExvY2F0ZSIsImxvY2F0ZSIsImxvY2F0ZU9wdGlvbnMiLCJzZXRWaWV3Iiwia2VlcEN1cnJlbnRab29tTGV2ZWwiLCJpbml0aWFsWm9vbUxldmVsIiwiY2FjaGVMb2NhdGlvbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2V0SW5pdGlhbE1hcFZpZXciLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJzdHJpbmdpZnkiLCJwdXNoQnJvd3Nlckhpc3RvcnkiLCJmZXRjaERhdGFGb3JDdXJyZW50VmlldyIsInBhcnNlSW50IiwibmV3VXJsIiwicGF0aG5hbWUiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZ2V0U3RhcnRQb3MiLCJzdGFydFBvc1N0cmluZyIsImdldEl0ZW0iLCJnZW9GbGFnIiwic3RhcnRQb3MiLCJzdGFydCIsInNldFpvb20iLCJnZXRCb3hlc0luQm91bmRzIiwibm9ydGhtb3N0IiwiY2VpbCIsIndlc3RtbW9zdCIsImZsb29yIiwiYm94ZXMiLCJsYXRpdHVkZSIsImdldFNvdXRoIiwibG9uZ2l0dWRlIiwiZ2V0RWFzdCIsImJveEJvdW5kcyIsImJveCIsInNvdXRoIiwiZWFzdCIsInJlbW92ZUxheWVyIiwiZ2V0Q3VycmVudFZpZXdCb3hlcyIsImdldEJvdW5kcyIsImhpZGVNYXJrZXJzT3V0c2lkZUN1cnJlbnRWaWV3IiwibWFwQm91bmRzIiwicGFkIiwiREVQX2Rpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyIsImF0dGVtcHQiLCJzaG93Wm9vbUluV2FybmluZyIsInpvb21Jbldhcm5pbmdDb250cm9sIiwib25BZGQiLCJkaXYiLCJjcmVhdGUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJzZXRUaW1lb3V0IiwiYWRkQ29udHJvbCIsImhpZGVab29tSW5XYXJuaW5nIiwicmVtb3ZlQ29udHJvbCIsInVuZmV0Y2hlZEJveGVzIiwiZmlsdGVyIiwiaGFzIiwidXBkYXRlS2V5IiwicHJvZ3Jlc3NJdGVtIiwiY3JlYXRlUHJvZ3Jlc3MiLCJyZW5kZXJQcm9ncmVzcyIsImJveGVzUHJvY2Vzc2VkIiwidXBkYXRlUHJvZ3Jlc3MiLCJmZXRjaERhdGEiLCJrZXkiLCJzdGFydGVkIiwiRGF0ZSIsImZpbmlzaGVkIiwiY29tcGxldGUiLCJwcm9ncmVzcyIsIm5vdyIsImkiLCJnZXRUaW1lIiwiaXRlbXMiLCJ2YWx1ZXMiLCJpdGVtIiwicHJvZ3Jlc3NUZXh0IiwiZXZlcnkiLCJoaWRlUHJvZ3Jlc3MiLCJpbnRlcnNlY3RzIiwiZGF0YSIsInByb2Nlc3NGZXRjaFJlc3VsdCIsImN1cnJlbnRQYWdlIiwidG90YWxQYWdlcyIsIm1lc3NhZ2UiLCJzdG9yZVBsYWNlcyIsImxhdExuZyIsImV4aXN0aW5nUG9pbnQiLCJpZCIsIkRFUFJfcmVmcmVzaFBvaW50c0Zyb21TdG9yZSIsInJvdW5kQm91bmRzIiwiY29udHJvbCIsImdldENvbnRyb2wiLCJldmVudEhhbmRsZXJzIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJlbWl0IiwiaGFuZGxlcnMiLCJzdGF0ZSIsImdldFN0YXRlIiwiZGlzcGxheU1vZGUiLCJlbENvbnRyb2xEaXYiLCJlbERyb3Bkb3duIiwiYWxsTGFiZWwiLCJhbGxSYWRpbyIsImFsbFRleHQiLCJ1cGdyYWRlTGFiZWwiLCJ1cGdyYWRlUmFkaW8iLCJ1cGdyYWRlVGV4dCIsImVlTGFiZWwiLCJlZVJhZGlvIiwiZWVUZXh0IiwiZ2VuZXJhdGVDb250cm9sRGl2IiwiZ2VuZXJhdGVEcm9wZG93biIsImNoYW5nZU1vZGUiLCJtb2RlIiwiYm9yZGVyUmFkaXVzIiwiZHJvcGRvd24iLCJhbGxPcHRpb24iLCJ2YWx1ZSIsImlubmVyVGV4dCIsInVwZ3JhZGVPcHRpb24iLCJlZU9wdGlvbiIsImUiLCJnZXRUZWNoQ29sb3VyIiwidGVjaFR5cGUiLCJwb2ludENvbG91ciIsImlzUGxhY2VGVFRQIiwiYWx0UmVhc29uQ29kZSIsIm1hdGNoIiwidGVjaENoYW5nZVN0YXR1cyIsImlzUGxhY2VGVFRQQXZhaWwiLCJpc1BsYWNlRlRUUFNvb24iLCJpc1BsYWNlRlRUUEZhciIsInJlYXNvbkNvZGUiLCJpc1BsYWNlRlRUQyIsImlzRnd0b0ZUVEMiLCJpc0Z3dG9GVFROIiwiaXNTYXRUb0ZXIiwiY29udGVudCIsImFkZHJlc3MyIiwicHJvZ3JhbVR5cGUiLCJ0YXJnZXRFbGlnaWJpbGl0eVF1YXJ0ZXIiLCJlZSIsImNiZHByaWNpbmciLCJ6ZXJvQnVpbGRDb3N0IiwiaHIiLCJwcmUiLCJnZXRMZWdlbmRJdGVtcyIsImNvbG91ciIsInNldFBvc2l0aW9uIiwidXBkYXRlTGVnZW5kIiwiY291bnQiLCJEQl9OQU1FIiwidXBncmFkZSIsImRiIiwib2xkVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlTmFtZXMiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJibG9ja2VkIiwiY3VycmVudFZlcnNpb24iLCJibG9ja2VkVmVyc2lvbiIsImJsb2NraW5nIiwidGVybWluYXRlZCIsImVyciIsImZpbmFsbHkiLCJpc1JlYWR5Iiwid2FpdFVudGlsUmVhZHkiLCJ0aW1lb3V0U2Vjb25kcyIsInN0YXJ0VGltZSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ0aW1lRWxhcHNlZCIsImNsZWFySW50ZXJ2YWwiLCJzdG9yZVBsYWNlIiwiZ2V0RGIiLCJwdXQiLCJ0eCIsIm9iamVjdFN0b3JlIiwicHV0UHJvbWlzZXMiLCJhbGwiLCJkb25lIiwiZ2V0UGxhY2UiLCJsb2NpZCIsImxvY2lkcyIsInRpbWVvdXQiLCJDT0xfVU5LTk9XTiIsIkNPTF9FRV9DQkRfWkJDIiwiQ09MX0VFX0NCRF9CQyIsIkNPTF9FRV9aMTIzX1pCQyIsIkNPTF9FRV9aMTIzX0JDIiwiZm4iLCJpc0RldmVsb3BtZW50IiwicHJvY2VzcyIsImFyZ3YiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciIsIm1hcEFwaSIsIm1vZGVBbGwiLCJtb2RlVGVjaFVwZ3JhZGUiLCJtb2RlRUUiLCJnZXRNb2RlIiwiZGVmYXVsdE1vZGUiLCJJbmRleERCUGxhY2VTdG9yZSIsIm5iblRlY2hNYXAiLCJjRGlzcGxheU1vZGUiLCJjTGVnZW5kIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwicmVhZHlTdGF0ZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJPIiwiY2h1bmtJZHMiLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiZnVsZmlsbGVkIiwiaiIsInNwbGljZSIsInIiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiLCJwIiwiYmFzZVVSSSIsInNlbGYiLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInNvbWUiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJiaW5kIiwibmMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==