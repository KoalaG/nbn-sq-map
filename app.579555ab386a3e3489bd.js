/*! For license information please see app.579555ab386a3e3489bd.js.LICENSE.txt */
(()=>{"use strict";var t,e={611:(t,e,n)=>{const r=function(){function t(){}return t.prototype.fetchPage=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=function(){return!0}),r=this,o=void 0,a=function(){var r,o,i,a;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(s){switch(s.label){case 0:if(r=t.getNorth().toFixed(2),o=t.getEast().toFixed(2),i=t.getSouth().toFixed(2),a=t.getWest().toFixed(2),!n())throw new Error("Proceed function returned false. Stopping fetch.");return e=Math.max(1,Number(e)),"https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(e),[4,new Promise((function(t,n){fetch("https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(i,"/").concat(a,"?page=").concat(e),{method:"GET",redirect:"follow"}).then((function(t){return t.text()})).then((function(e){var n=JSON.parse(e);t(n.data)})).catch(n)}))];case 1:return[2,s.sent()]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{l(a.next(t))}catch(t){e(t)}}function s(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,s)}l((a=a.apply(r,o||[])).next())}));var r,o,i,a},t}();n(623);var o=n(243),i=(n(664),n(687),n(69),n(672),n(732),n(256),function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}),a=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const s=function(){function t(t,e,n){this.points={},this.map=t,this.datastore=e,this.modeHandler=n,this.markers=new o.MarkerClusterGroup({maxClusterRadius:this.markerClusterRadius,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:18,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,iconCreateFunction:this.iconCreateFunction,chunkedLoading:!0,chunkInterval:150,chunkDelay:150,chunkProgress:function(t,e,n){console.log("chunkProgress",{processed:t,total:e,elapsed:n})}}),this.markers.addTo(this.map),this.map.on("zoomend",(function(t){console.log("zoomend",t.target.getZoom())}))}return t.prototype.iconCreateFunction=function(t){var e=t.getAllChildMarkers().map((function(t){return t.options.fillColor})),n={};e.forEach((function(t){n[t]||(n[t]=0),n[t]++}));var r=Object.keys(n).sort((function(t,e){return n[e]-n[t]})),i="background: conic-gradient(",a=0;r.forEach((function(t,r){0==r&&(i+="\n"+t+" 0%");var o=n[t]/e.length*100;i+=", \n"+t+" "+a+"%",i+=", \n"+t+" "+(a+o)+"%",a+=o})),i+="\n);";var s=Math.random().toString(36).substring(7);return o.divIcon({html:"<style>#cluster_".concat(s,"::before { ").concat(i," }</style> <div id='cluster_").concat(s,"'><span>")+t.getChildCount()+"</span></div>",className:"marker-cluster"})},t.prototype.markerClusterRadius=function(t){switch(t){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:return 150;case 14:return 100;default:return 0}},t.prototype.setModeHandler=function(t){return this.modeHandler=t,Object.values(this.points).forEach((function(e){var n=e.layer,r=e.point;n.setStyle({fillColor:t.pointColour(r)}),n.redraw()})),console.error(this.markers),this.markers&&this.markers.getLayers().length&&this.markers.refreshClusters(),this},t.prototype.refreshMarkersInsideBounds=function(t,e){var n,r,o;return i(this,void 0,void 0,(function(){var i,s,l=this;return a(this,(function(a){switch(a.label){case 0:if(!this.datastore)throw new Error("Datastore not set");return[4,this.datastore.getFullPointsWithinBounds(t)];case 1:return a.sent().forEach((function(t){var e=t.latlng;l.points[e]?l.points[e].point=t:l.points[e]={layer:l.renderPoint(t),point:t}})),e?(i=[],s=Object.values(this.points).filter((function(t){var n=t.layer,r=t.point.places.filter(e).length>0;return r||i.push(n),r})),i.length&&(null===(n=this.markers)||void 0===n||n.removeLayers(i)),null===(r=this.markers)||void 0===r||r.addLayers(s.map((function(t){return t.layer})))):null===(o=this.markers)||void 0===o||o.addLayers(Object.values(this.points).map((function(t){return t.layer}))),[2]}}))}))},t.prototype.removeMarkersOutsideBounds=function(t){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2]}))}))},t.prototype.removeAllMarkers=function(){var t;return i(this,void 0,void 0,(function(){return a(this,(function(e){return null===(t=this.markers)||void 0===t||t.clearLayers(),[2]}))}))},t.prototype.renderPoint=function(t){var e,n=this,r=o.circleMarker([t.latitude,t.longitude],{radius:5,fillColor:null===(e=this.modeHandler)||void 0===e?void 0:e.pointColour(t),color:"#000000",weight:1,opacity:1,fillOpacity:.8});return r.bindPopup((function(e){return n.renderPopup(t.places)||""}),{autoPan:!0,autoClose:!1}),r.bindTooltip((function(e){return n.modeHandler.renderTooltip(t.places)||""}),{}),r},t.prototype.renderPopup=function(t){return 1==t.length?this.modeHandler.renderPopupContent(t[0]):this.rendorPopupMulti(t)},t.prototype.rendorPopupMulti=function(t){var e,n,r=document.createElement("div"),o=[];t.sort((function(t,e){return t.address1<e.address1?-1:t.address1>e.address1?1:0}));var i=function(t){var e=document.createElement("div"),n=a.modeHandler.placeColour(t),i=document.createElement("button");i.classList.add("accordion"),i.type="button",i.innerHTML='<svg height="15" width="15" style="margin-right:3px">'+'<circle class="circle" cx="7.5" cy="9" r="5" stroke="#000" stroke-width="1" fill="'.concat(n,'" />')+"</svg>"+"<span>".concat(t.address1,"</span>");var s=document.createElement("div");s.classList.add("panel"),s.appendChild(a.modeHandler.renderPopupContent(t)),i.addEventListener("click",(function(){var t=e.classList.contains("active");o.forEach((function(t){t.classList.remove("active")})),t||e.classList.add("active")})),e.appendChild(i),e.appendChild(s),r.appendChild(e),o.push(e)},a=this;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),l=s.next();!l.done;l=s.next())i(l.value)}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},t}();var l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},u=function(){function t(t){this.name=t}return t.prototype.sub=function(e){return new t("".concat(this.name,".").concat(e))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,c(["[".concat(this.name,"]")],l(t),!1))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.warn.apply(console,c(["[".concat(this.name,"]")],l(t),!1))},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];p()&&console.debug.apply(console,c(["[".concat(this.name,"]")],l(t),!1))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.info.apply(console,c(["[".concat(this.name,"]")],l(t),!1))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,c(["[".concat(this.name,"]")],l(t),!1))},t}();function p(){return window.location.href.includes("localhost")||window.location.href.includes("debug=true")}var d=function(){return d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},d.apply(this,arguments)},h=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},f=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function g(t){var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=Math.floor(50*t.getSouth())/50,i=Math.ceil(25*t.getEast())/25;return o.latLngBounds([r,n],[e,i])}var v=function(){function t(e){var n=this;this.logger=new u("NbnTechMap"),this.markerFilter=function(t){return!0},this.initialViewSet=!1,this.controls={},e=d(d({},t.DEFAULT_OPTIONS),e),this.api=e.api,this.datastore=e.datastore,this.modeHandler=e.defaultModeHandler,this.map=o.map(e.mapContainerId,{preferCanvas:!0}),this.markerLayer=new s(this.map,this.datastore,this.modeHandler),this.mapTileLayer=o.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",crossOrigin:!0,minZoom:5,maxZoom:20}),this.mapTileLayer.addTo(this.map),this.mapLocate=o.control.locate({position:"topleft",locateOptions:{maxZoom:16},setView:"untilPan",keepCurrentZoomLevel:!0,initialZoomLevel:17,cacheLocation:!0}),this.mapLocate.addTo(this.map),this.map.on("locateactivate",(function(){localStorage.setItem("geolocate","1")})),this.map.on("locatedeactivate",(function(){localStorage.removeItem("geolocate")})),this.setInitialMapView(),this.map.on("moveend",(function(){return h(n,void 0,void 0,(function(){var t,e;return f(this,(function(n){return t=this.map.getCenter(),e=this.map.getZoom(),localStorage.setItem("startpos",JSON.stringify({lat:t.lat,lng:t.lng,zoom:e})),this.fetchDataForCurrentView(),[2]}))}))}))}return t.prototype.getStartPos=function(){var t=localStorage.getItem("startpos");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}},t.prototype.setInitialMapView=function(){var t=this.logger.sub("setInitialMapView");if(this.initialViewSet)t.warn("Initial map view already set");else{var e=localStorage.getItem("geolocate"),n=this.getStartPos();n&&(this.map.setView([n.lat,n.lng],n.zoom),this.initialViewSet=!0),n||(this.map.setView([-26.1772288,133.4170119],10),this.initialViewSet=!0),!e&&n||(this.mapLocate.start(),this.map.setZoom(17),this.initialViewSet=!0),this.initialViewSet||t.error("Could not set initial map view")}},t.prototype.getBoxesInBounds=function(t){for(var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=[],i=e;i>t.getSouth();i-=.02)for(var a=n;a<t.getEast();a+=.04)r.push([i,a]);return r.map((function(t){var e=t[0],n=t[1],r=e-.02,i=n+.04;return o.latLngBounds([r,n],[e,i])}))},t.prototype.getCurrentViewBoxes=function(){return this.getBoxesInBounds(this.map.getBounds())},t.prototype.hideMarkersOutsideCurrentView=function(){var t=this.map.getBounds().pad(.5);this.markerLayer.removeMarkersOutsideBounds(t)},t.prototype.displayMarkersInCurrentView=function(t){return void 0===t&&(t=1),h(this,void 0,void 0,(function(){var e,n=this;return f(this,(function(r){return!1===this.datastore.isReady()?t>10?(console.error("Could not get datastore ready. Giving up."),[2]):(console.warn("Datastore is not ready. Delaying displayMarkersInCurrentView()"),setTimeout((function(){return n.displayMarkersInCurrentView(t+1)}),1e3),[2]):(console.log("Displaying markers in current view"),e=g(this.map.getBounds()),console.log("Fetching from Datastore",e),this.refreshPointsFromStore(e),[2])}))}))},t.prototype.fetchDataForCurrentView=function(){return h(this,void 0,void 0,(function(){var t,e,n,r,o,i=this;return f(this,(function(a){switch(a.label){case 0:if(t=this.logger.sub("fetchDataForCurrentView"),this.hideMarkersOutsideCurrentView(),this.displayMarkersInCurrentView(),this.map.getZoom()<11)return t.warn("Zoom level too low. Skipping."),[2];if(e=this.getCurrentViewBoxes(),t.debug("Current view boxes",e),e.length>1e3)return t.warn("Too many boxes to fetch. Skipping."),[2];t.debug("Fetching boxes",e.length),n=function(t,e){for(var n=[];t.length;)n.push(t.splice(0,10));return n}(e),t.debug("Box chunks",n.length,n),r=0,a.label=1;case 1:return r<n.length?(o=n[r].map((function(t){return i.fetchData(t)})),t.debug("Fetch promises",o.length,o),[4,Promise.all(o)]):[3,4];case 2:a.sent(),this.refreshPointsFromStore(this.map.getBounds().pad(.5)),a.label=3;case 3:return r++,[3,1];case 4:return t.debug("All boxes fetched"),[2]}}))}))},t.prototype.fetchData=function(t,e){return void 0===e&&(e=1),h(this,void 0,void 0,(function(){var n,r,o=this;return f(this,(function(i){switch(i.label){case 0:p()&&console.log("Fetching Box",t.getCenter().toString(),e),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,this.api.fetchPage(t,e,(function(){return o.map.getBounds().intersects(t)}))];case 2:return n=i.sent(),[4,this.processFetchResult(n,t)];case 3:return i.sent(),n.next?[4,this.fetchData(t,n.next)]:[3,5];case 4:return[2,i.sent()];case 5:return[2];case 6:return"Page already loaded this session."==(r=i.sent()).message?[2]:(console.error(r),[3,7]);case 7:return[2]}}))}))},t.prototype.processFetchResult=function(t,e){return h(this,void 0,void 0,(function(){var e;return f(this,(function(n){switch(n.label){case 0:return console.log("Storing places."),e=this.datastore.storePlaces(t.places),console.log("Waiting for place storing to finish"),[4,e];case 1:return n.sent(),[2]}}))}))},t.prototype.refreshPointsFromStore=function(t){return h(this,void 0,void 0,(function(){return f(this,(function(e){if(!this.markerLayer)throw new Error("Marker Layer not set");return t||(console.log("Bounds not passed. Using map bounds."),t=this.map.getBounds()),t=g(t),this.markerLayer.refreshMarkersInsideBounds(t,this.markerFilter),[2]}))}))},t.prototype.addControl=function(t,e){if(this.controls[t])throw new Error("Control with key ".concat(t," already exists"));this.controls[t]=e,this.map.addControl(e.getControl()),console.log("Added control",t)},t.prototype.setMarkerFilter=function(t){if(!this.markerLayer)throw new Error("Marker Layer not set");this.markerFilter=t,this.markerLayer.refreshMarkersInsideBounds(this.map.getBounds(),this.markerFilter)},t.prototype.setModeHandler=function(t){var e;this.modeHandler=t,null===(e=this.markerLayer)||void 0===e||e.setModeHandler(t)},t.DEFAULT_OPTIONS={mapContainerId:"map"},t}();const y=v,m=function(){function t(){this.eventHandlers={},this.control=new o.Control}return t.prototype.on=function(t,e){this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},t.prototype.emit=function(t,e){var n=this;console.debug("Emitting event: ".concat(t),{data:e,handlers:this.eventHandlers[t]}),this.eventHandlers[t]&&this.eventHandlers[t].forEach((function(r){return r({name:t,state:n.getState(),data:e})}))},t.prototype.getControl=function(){return this.control},t}();var b,w=(b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},b(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const C=function(t){function e(){var e=t.call(this)||this;return e.displayMode="all",e.elControlDiv=document.createElement("div"),e.elDropdown=document.createElement("select"),e.allLabel=null,e.allRadio=null,e.allText=null,e.upgradeLabel=null,e.upgradeRadio=null,e.upgradeText=null,e.eeLabel=null,e.eeRadio=null,e.eeText=null,e.generateControlDiv(),e.control.onAdd=function(t){return e.generateDropdown(),e.elControlDiv},e}return w(e,t),e.prototype.getState=function(){return this.displayMode},e.prototype.changeMode=function(t){this.displayMode=t,this.emit("change",t)},e.prototype.generateControlDiv=function(){this.elControlDiv&&console.warn("ControlDiv already exists"),this.elControlDiv.classList.add("info","legend"),this.elControlDiv.style.backgroundColor="#ffffff",this.elControlDiv.style.opacity="0.8",this.elControlDiv.style.padding="5px",this.elControlDiv.style.borderRadius="5px"},e.prototype.generateDropdown=function(){var t=this;this.elDropdown&&console.warn("Dropdown already exists");var e=this.elDropdown;e.classList.add("control-select");var n=document.createElement("option");n.value="all",n.innerText="Show All Locations",e.appendChild(n),e.addEventListener("change",(function(e){return t.changeMode(e.target.value)})),this.elDropdown=e,this.elControlDiv.appendChild(e)},e}(m);var T=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},x=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},k=function(){function t(){this.latLngIndex={},this.nbnPlaceStore={}}return t.prototype.isReady=function(){return!0},t.prototype.storePlace=function(t){return T(this,void 0,void 0,(function(){var e,n,r,o;return x(this,(function(i){return e=t.latitude,n=t.longitude,r="".concat(e,",").concat(n),o=t.locid,this.latLngIndex[r]?this.latLngIndex[r].includes(o)||this.latLngIndex[r].push(o):this.latLngIndex[r]=[o],this.nbnPlaceStore[o]=t,[2]}))}))},t.prototype.storePlaces=function(t){return T(this,void 0,void 0,(function(){var e=this;return x(this,(function(n){return t.forEach((function(t){return e.storePlace(t)})),[2]}))}))},t.prototype.getPlace=function(t){return T(this,void 0,void 0,(function(){return x(this,(function(e){return[2,this.nbnPlaceStore[t]]}))}))},t.prototype.getPlaces=function(){return T(this,void 0,void 0,(function(){var t=this;return x(this,(function(e){return[2,Object.keys(this.nbnPlaceStore).map((function(e){return t.nbnPlaceStore[e]}))]}))}))},t.prototype.getPoints=function(){return T(this,void 0,void 0,(function(){var t=this;return x(this,(function(e){return[2,Object.keys(this.latLngIndex).map((function(e){var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e.split(",").map(Number),2);return{latlng:e,latitude:n[0],longitude:n[1],locids:t.latLngIndex[e]}}))]}))}))},t.prototype.getPointsWithinBounds=function(t){return T(this,void 0,void 0,(function(){var e=this;return x(this,(function(n){switch(n.label){case 0:return[4,this.getPoints()];case 1:return[2,n.sent().filter((function(n){var r=n.latitude,o=n.longitude;return e.isLatLngWithinBounds(r,o,t)}))]}}))}))},t.prototype.getFullPointsWithinBounds=function(t){return T(this,void 0,void 0,(function(){var e,n=this;return x(this,(function(r){switch(r.label){case 0:return[4,this.getPoints()];case 1:return e=r.sent().filter((function(e){var r=e.latitude,o=e.longitude;return n.isLatLngWithinBounds(r,o,t)})).map((function(t){return{latlng:t.latlng,latitude:t.latitude,longitude:t.longitude,places:t.locids.map((function(t){return n.nbnPlaceStore[t]}))}})),[2,e]}}))}))},t.prototype.getPlacesAtLatLng=function(t,e){return T(this,void 0,void 0,(function(){var n,r=this;return x(this,(function(o){return n="".concat(t,",").concat(e),[2,this.latLngIndex[n].map((function(t){return r.nbnPlaceStore[t]}))]}))}))},t.prototype.isLatLngWithinBounds=function(t,e,n){return t>n.getSouth()&&t<n.getNorth()&&e>n.getWest()&&e<n.getEast()},t}(),L="#1D7044",S="#75AD6F",P="#C8E3C5",M="#FFBE00",F="#FF7E01",E="#E3071D",O="#02B9E3",D="#022BE3",B="#6B02E3",H="#888888";function I(t){switch(t){case"FTTP":return L;case"FTTC":return F;case"FTTN":case"FTTB":return E;case"HFC":return M;case"WIRELESS":return O;case"SATELLITE":return B}return H}const R=function(){function t(){}return t.prototype.filter=function(t){return!0},t.prototype.pointColour=function(t){return this.placeColour(t.places[0])},t.prototype.placeColour=function(t){return function(t){return"FTTP"===t.techType}(t)?L:function(t){return!(!t.altReasonCode||!t.altReasonCode.match(/^FTTP/)||"Eligible To Order"!==t.techChangeStatus)}(t)?S:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/))switch(t.techChangeStatus){case"In Design":case"Build Finalised":case"Planned":case"MDU Complex Eligible To Apply":case"MDU Complex Premises In Build":return!0}return!1}(t)?P:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/)&&"Committed"===t.techChangeStatus)return!0}(t)?I(t.techType):function(t){return!("FTTC"!=t.techType||!t.reasonCode||!t.reasonCode.match(/^FTTC/)||"New Tech Connected"!=t.techChangeStatus)}(t)?F:function(t){return"FTTC"==t.techType&&"FTTC_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?"#FF7E01":function(t){return"FTTN"==t.techType&&"FTTN_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?E:function(t){return"WIRELESS"==t.techType&&"FW_SA"==t.reasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?D:(t.altReasonCode&&"NULL_NA"!=t.altReasonCode&&console.log(t),I(t.techType))},t.prototype.renderPopupContent=function(t){var e=o.DomUtil.create("div");if(e.innerHTML="<b>"+t.locid+"</b></br>"+t.address1+"</br>"+t.address2+"</br><br />",e.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=t.techType&&t.altReasonCode&&"NULL_NA"!=t.altReasonCode?(t.altReasonCode&&t.altReasonCode.match(/^FTTP/),e.innerHTML+="Current: "+t.techType+"<br />",e.innerHTML+="Change: "+t.altReasonCode+"<br />",e.innerHTML+="Status: "+t.techChangeStatus+"<br />",e.innerHTML+="Program: "+t.programType+"<br />",e.innerHTML+="Target Qtr: "+t.targetEligibilityQuarter+"<br />"):(e.innerHTML+="Technology: "+t.techType+"<br />","FTTP"!=t.techType&&(e.innerHTML+="No tech upgrade planned<br />")),e.innerHTML+="<br />",t.ee&&(e.innerHTML+="<b>Enterprise Ethernet</b></br>",e.innerHTML+="Price Zone: "+(t.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",e.innerHTML+="Build Cost: "+(t.zeroBuildCost?"$0":"POA")+"<br />",e.innerHTML+="<br />"),p()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(t,null,2),e.appendChild(n),e.appendChild(r)}return e},t.prototype.renderTooltip=function(t){var e=t[0].address1;return t.length>1&&(e+=" ( + "+(t.length-1)+" more)"),e},t.prototype.getLegendItems=function(){return[{label:"FTTP",colour:L},{label:"FTTP Upgrade",colour:S},{label:"FTTP Upgrade Soon",colour:P},{label:"HFC",colour:M},{label:"FTTC",colour:F},{label:"FTTN/FTTB",colour:E},{label:"FW",colour:O},{label:"FW Upgrade",colour:D},{label:"Satellite",colour:B},{label:"Unknown",colour:H}]},t}();var _=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const A=function(t){function e(){var e=t.call(this)||this;return e.elControlDiv=document.createElement("div"),e.control.setPosition("bottomright"),e.elControlDiv.classList.add("info","legend"),e.elControlDiv.style.backgroundColor="#ffffff",e.elControlDiv.style.opacity="0.8",e.elControlDiv.style.padding="5px",e.elControlDiv.style.borderRadius="5px",e.control.onAdd=function(t){return e.elControlDiv},e}return _(e,t),e.prototype.getState=function(){},e.prototype.updateLegend=function(t){var e="";t.forEach((function(t){e+='<svg height="10" width="10"><circle cx="5" cy="5" r="5" fill="'+t.colour+'" stroke="#000000" stroke-width="1" opacity="1" fill-opacity="0.8" /></svg> '+t.label,t.count&&(e+=" ("+t.count+")"),e+="<br>"})),this.elControlDiv.innerHTML=e},e}(m);n.p,n.p,n.p;var N,j=new u("index.ts"),V=function(){try{return process.argv.includes("development")}catch(t){return!1}}();j.debug("isDevelopment",V),"serviceWorker"in navigator&&!V&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(t){j.info("SW registered: ",t)})).catch((function(t){j.warn("SW registration failed: ",t)}))})),N=function(){var t=new r,e=new k,n=new R,o=new y({mapContainerId:"map",api:t,datastore:e,defaultModeHandler:n}),i=new C;o.addControl("displaymode",i);var a=new A;a.updateLegend(n.getLegendItems()),o.addControl("legend",a),i.on("change",(function(t){"all"===t.state&&o.setModeHandler(n)}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(N,1):document.addEventListener("DOMContentLoaded",N)},539:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M304 48a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48 368a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm208-208a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM96 256a48 48 0 1 0-96 0 48 48 0 0 0 96 0zm13 99a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm294 0a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM109 61a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"/></svg>'},141:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},478:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%28252, 132, 40%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},38:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%2832, 116, 182%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,o,i]=t[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!t;)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{r.b=document.baseURI||self.location.href;var t={143:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[a,s,l]=n,c=0;if(a.some((e=>0!==t[e]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(e&&e(n);c<a.length;c++)i=a[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.nc=void 0;var o=r.O(void 0,[155],(()=>r(611)));o=r.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aER2RnJELEVBQW9CdUQsUUFBS3BELEVDR3pCLElBQUlxRCxFQUFzQnhELEVBQW9CVSxPQUFFUCxFQUFXLENBQUMsTUFBTSxJQUFPSCxFQUFvQixPQUM3RndELEVBQXNCeEQsRUFBb0JVLEVBQUU4QyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovLy8uL3NyYy9hcGkvbGlwX2FwaS5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFya2VybGF5ZXIvbWFya2VybGF5ZXIuY2x1c3Rlci5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25ibl90ZWNoX21hcC5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbC5hYnN0cmFjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9kaXNwbGF5X21vZGUuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFzdG9yZS9kYXRhc3RvcmUubWVtb3J5LmNsYXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2Rlcy9tb2RlLmFsbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9sZWdlbmQuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgSUFwaSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE5iblBsYWNlQXBpUmVzcG9uc2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgaXNEZWJ1Z01vZGUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpcEFwaSBpbXBsZW1lbnRzIElBcGkge1xyXG5cclxuICAgIGFzeW5jIGZldGNoUGFnZShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLFxyXG4gICAgICAgIHBhZ2U6IG51bWJlciA9IDEsXHJcbiAgICAgICAgcHJvY2VlZDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHRydWUsXHJcbiAgICApIDogUHJvbWlzZTxOYm5QbGFjZUFwaVJlc3BvbnNlPlxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBub3J0aCA9IGJvdW5kcy5nZXROb3J0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3QgZWFzdCA9IGJvdW5kcy5nZXRFYXN0KCkudG9GaXhlZCgyKTtcclxuICAgICAgICBjb25zdCBzb3V0aCA9IGJvdW5kcy5nZXRTb3V0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3Qgd2VzdCA9IGJvdW5kcy5nZXRXZXN0KCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcm9jZWVkKCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9jZWVkIGZ1bmN0aW9uIHJldHVybmVkIGZhbHNlLiBTdG9wcGluZyBmZXRjaC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGFnZSA9IE1hdGgubWF4KDEsIE51bWJlcihwYWdlKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2VVcmwgPSBgaHR0cHM6Ly9hcGkubGlwLm5ldC5hdS9uYm4tYnVsay9tYXAvJHtub3J0aH0vJHtlYXN0fS8ke3NvdXRofS8ke3dlc3R9P3BhZ2U9JHtwYWdlfWA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHBhZ2UgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQgdGhpcyBzZXNzaW9uLlxyXG4gICAgICAgIC8vY29uc3QgY2FjaGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHBhZ2VVcmwpO1xyXG4gICAgICAgIC8vY29uc3QgY2FjaGVkVGltZSA9IGNhY2hlID8gbmV3IERhdGUoY2FjaGUpIDogbnVsbDtcclxuICAgICAgICAvL2lmIChjYWNoZWRUaW1lICYmIGNhY2hlZFRpbWUuZ2V0VGltZSgpID4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAxMDAwICogNjAgKiA2MCAqIDI0KSB7XHJcbiAgICAgICAgLy8gICAgdGhyb3cgbmV3IEVycm9yKCdQYWdlIGFscmVhZHkgbG9hZGVkIHRoaXMgc2Vzc2lvbi4nKTtcclxuICAgICAgICAvL31cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmxpcC5uZXQuYXUvbmJuLWJ1bGsvbWFwLyR7bm9ydGh9LyR7ZWFzdH0vJHtzb3V0aH0vJHt3ZXN0fT9wYWdlPSR7cGFnZX1gLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCkgYXMgeyBkYXRhOiBOYm5QbGFjZUFwaVJlc3BvbnNlfTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocGFyc2VkUmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy9zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHBhZ2VVcmwsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBJRGF0YXN0b3JlIGZyb20gXCIuLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IElNYXJrZXJMYXllciBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2VcIjtcclxuaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXInO1xyXG5pbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuY3NzJztcclxuLy9pbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MnO1xyXG5cclxuaW1wb3J0ICogYXMgTCBmcm9tIFwibGVhZmxldFwiO1xyXG5pbXBvcnQgeyBOYm5QbGFjZSwgUG9pbnRBbmRMb2NpZHMsIFBvaW50QW5kUGxhY2VzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcblxyXG4vLyBDb25zdGFudCBDb2xvdXJzXHJcbmNvbnN0IGNvbG91ckZUVFAgXHRcdD0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJGVFRQQXZhaWwgICA9ICcjNzVBRDZGJztcclxuY29uc3QgY29sb3VyRlRUUFNvb24gICAgPSAnI0M4RTNDNSc7XHJcbmNvbnN0IGNvbG91ckhGQyBcdFx0PSAnI0ZGQkUwMCc7XHJcbmNvbnN0IGNvbG91ckZUVEMgXHRcdD0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFRDQXZhaWwgICA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUTkIgXHRcdD0gJyNFMzA3MUQnO1xyXG5jb25zdCBjb2xvdXJGVyBcdFx0ICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJGV0F2YWlsIFx0PSAnIzAyMkJFMyc7XHJcbmNvbnN0IGNvbG91clNhdCBcdCAgICA9ICcjNkIwMkUzJztcclxuXHJcbmNvbnN0IGNvbG91ckVFX0NCRF9aQkMgID0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJFRV9DQkRfQkMgICA9ICcjMDJCOUUzJztcclxuY29uc3QgY29sb3VyRUVfWjEyM19aQkMgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckVFX1oxMjNfQkMgID0gJyNFMzA3MUQnO1xyXG5cclxuY29uc3QgQ09MX1RFQ0hfQ09NUExFVEUgICAgICAgICA9ICcjMUQ3MDQ0JztcclxuY29uc3QgQ09MX1RFQ0hfQVZBSUwgICAgICAgICAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQgICA9ICcjRkZCRTAwJztcclxuY29uc3QgQ09MX1RFQ0hfREVTSUdOICAgICAgICAgICA9ICcjRkY3RTAxJztcclxuY29uc3QgQ09MX1RFQ0hfQ09NTUlUVEVEICAgICAgICA9ICcjRTMwNzFEJztcclxuXHJcbmNvbnN0IENPTF9URUNIX01EVV9JTkJVSUxEICAgICAgPSAnIzAyMkJFMyc7XHJcbmNvbnN0IENPTF9URUNIX01EVV9FTElHSUJMRSAgICAgPSAnIzZCMDJFMyc7XHJcblxyXG5jb25zdCBjb2xvdXJVbmtub3duICAgICAgPSAnIzg4ODg4OCc7XHJcblxyXG5pbXBvcnQgSU1vZGUgZnJvbSBcIi4uL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlckxheWVyQ2x1c3RlciBpbXBsZW1lbnRzIElNYXJrZXJMYXllciB7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXA6IEwuTWFwO1xyXG4gICAgcHJpdmF0ZSBkYXRhc3RvcmU6IElEYXRhc3RvcmU7XHJcbiAgICBwcml2YXRlIG1vZGVIYW5kbGVyOiBJTW9kZTtcclxuXHJcbiAgICBwcml2YXRlIG1hcmtlcnM6IEwuTWFya2VyQ2x1c3Rlckdyb3VwO1xyXG5cclxuICAgIHByaXZhdGUgcG9pbnRzOiB7XHJcbiAgICAgICAgW2xhdExuZ1N0cmluZzogc3RyaW5nXToge1xyXG4gICAgICAgICAgICBsYXllcjogTC5DaXJjbGVNYXJrZXIsXHJcbiAgICAgICAgICAgIHBvaW50OiBQb2ludEFuZFBsYWNlcyxcclxuICAgICAgICB9XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgY29uc3RydWN0b3IobWFwOiBMLk1hcCwgZGF0YXN0b3JlOiBJRGF0YXN0b3JlLCBtb2RlSGFuZGxlcjogSU1vZGUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgICAgdGhpcy5kYXRhc3RvcmUgPSBkYXRhc3RvcmU7XHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG1vZGVIYW5kbGVyO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlcnMgPSBuZXcgTC5NYXJrZXJDbHVzdGVyR3JvdXAoe1xyXG4gICAgICAgICAgICBtYXhDbHVzdGVyUmFkaXVzOiB0aGlzLm1hcmtlckNsdXN0ZXJSYWRpdXMsXHJcbiAgICAgICAgICAgIHNwaWRlcmZ5T25NYXhab29tOiBmYWxzZSxcclxuICAgICAgICAgICAgZGlzYWJsZUNsdXN0ZXJpbmdBdFpvb206IDE4LFxyXG4gICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyOiB0cnVlLFxyXG4gICAgICAgICAgICB6b29tVG9Cb3VuZHNPbkNsaWNrOiB0cnVlLFxyXG4gICAgICAgICAgICByZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kczogdHJ1ZSxcclxuICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiB0aGlzLmljb25DcmVhdGVGdW5jdGlvbixcclxuICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGNodW5rSW50ZXJ2YWw6IDE1MCxcclxuICAgICAgICAgICAgY2h1bmtEZWxheTogMTUwLFxyXG4gICAgICAgICAgICBjaHVua1Byb2dyZXNzOiAocHJvY2Vzc2VkLCB0b3RhbCwgZWxhcHNlZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NodW5rUHJvZ3Jlc3MnLCB7IHByb2Nlc3NlZCwgdG90YWwsIGVsYXBzZWQgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubWFya2Vycy5hZGRUbyh0aGlzLm1hcCk7XHJcblxyXG4gICAgICAgIHRoaXMubWFwLm9uKCd6b29tZW5kJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd6b29tZW5kJywgZXZlbnQudGFyZ2V0LmdldFpvb20oKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGljb25DcmVhdGVGdW5jdGlvbihjbHVzdGVyOiBMLk1hcmtlckNsdXN0ZXIpIDogTC5EaXZJY29uXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheSA9IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkubWFwKChtYXJrZXIpID0+IChtYXJrZXIgYXMgYW55KS5vcHRpb25zLmZpbGxDb2xvcilcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JDb3VudHM6IHtbY29sb3I6IHN0cmluZ106IG51bWJlcn0gPSB7fTtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheS5mb3JFYWNoKChjb2xvcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNvbG9yQ291bnRzW2NvbG9yXSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckNvdW50c1tjb2xvcl0rKztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheVNvcnRlZCA9IE9iamVjdC5rZXlzKGNvbG9yQ291bnRzKVxyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gY29sb3JDb3VudHNbYl0gLSBjb2xvckNvdW50c1thXSlcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQ6IGNvbmljLWdyYWRpZW50KCdcclxuXHJcbiAgICAgICAgbGV0IGxhc3RDb2xvdXJQZXJjZW50ID0gMDtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheVNvcnRlZC5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQgKz0gXCJcXG5cIiArIGNvbG9yICsgJyAwJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdGhpc0NvbG91clBlcmNlbnQgPSAoY29sb3JDb3VudHNbY29sb3JdIC8gY29sb3JBcnJheS5sZW5ndGggKiAxMDApO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kICs9IFwiLCBcXG5cIiArIGNvbG9yICsgJyAnICsgKGxhc3RDb2xvdXJQZXJjZW50KSArICclJztcclxuICAgICAgICAgICAgYmFja2dyb3VuZCArPSBcIiwgXFxuXCIgKyBjb2xvciArICcgJyArIChsYXN0Q29sb3VyUGVyY2VudCt0aGlzQ29sb3VyUGVyY2VudCkgKyAnJSc7XHJcbiAgICAgICAgICAgIGxhc3RDb2xvdXJQZXJjZW50ICs9IHRoaXNDb2xvdXJQZXJjZW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrZ3JvdW5kICs9IFwiXFxuKTtcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9tSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XHJcblxyXG4gICAgICAgIHJldHVybiBMLmRpdkljb24oe1xyXG4gICAgICAgICAgICBodG1sOiBgPHN0eWxlPiNjbHVzdGVyXyR7cmFuZG9tSWR9OjpiZWZvcmUgeyAke2JhY2tncm91bmR9IH08L3N0eWxlPiA8ZGl2IGlkPSdjbHVzdGVyXyR7cmFuZG9tSWR9Jz48c3Bhbj5gICsgY2x1c3Rlci5nZXRDaGlsZENvdW50KCkgKyAnPC9zcGFuPjwvZGl2PicsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1jbHVzdGVyJyxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG1hcmtlckNsdXN0ZXJSYWRpdXMoem9vbTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3dpdGNoKHpvb20pIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICBjYXNlIDEzOiByZXR1cm4gMTUwO1xyXG4gICAgICAgICAgICBjYXNlIDE0OiByZXR1cm4gMTAwO1xyXG4gICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXI6IElNb2RlKSB7XHJcblxyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb2xvdXIgb2YgdGhlIHBvaW50c1xyXG4gICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5wb2ludHMpLmZvckVhY2goKHtsYXllciwgcG9pbnR9KSA9PiB7XHJcbiAgICAgICAgICAgIGxheWVyLnNldFN0eWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogbW9kZUhhbmRsZXIucG9pbnRDb2xvdXIocG9pbnQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGF5ZXIucmVkcmF3KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5tYXJrZXJzKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFya2VycyAmJiB0aGlzLm1hcmtlcnMuZ2V0TGF5ZXJzKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5yZWZyZXNoQ2x1c3RlcnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMsIG1GaWx0ZXI/OiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kYXRhc3RvcmUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhc3RvcmUgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbmV3UG9pbnRzID0gYXdhaXQgdGhpcy5kYXRhc3RvcmUuZ2V0RnVsbFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG5ld1BvaW50c1xyXG4gICAgICAgICAgICAuZm9yRWFjaChwb2ludCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRMbmdTdHJpbmcgPSBwb2ludC5sYXRsbmc7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1tsYXRMbmdTdHJpbmddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogdGhpcy5yZW5kZXJQb2ludChwb2ludCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10ucG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGlmIChtRmlsdGVyKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMYXllcnM6IEwuTGF5ZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRQb2ludHMgPSBPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoe2xheWVyLCBwb2ludH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG93UG9pbnQgPSBwb2ludC5wbGFjZXMuZmlsdGVyKG1GaWx0ZXIpLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93UG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvd1BvaW50O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVtb3ZlTGF5ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5yZW1vdmVMYXllcnMocmVtb3ZlTGF5ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5hZGRMYXllcnMoZmlsdGVyZWRQb2ludHMubWFwKHAgPT4gcC5sYXllcikpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnM/LmFkZExheWVycyhPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKS5tYXAocCA9PiBwLmxheWVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZU1hcmtlcnNPdXRzaWRlQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIHtcclxuICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nIGhlcmUsIGFzIHRoZSBtYXJrZXIgY2x1c3RlciBwbHVnaW4gaGFuZGxlcyB0aGlzIGZvciB1c1xyXG4gICAgICAgIC8vY29uc3QgcmVtb3ZlTWFya2VycyA9IHRoaXMubWFya2Vycy5nZXRMYXllcnMoKVxyXG4gICAgICAgIC8vICAgIC5maWx0ZXIoKGxheWVyOiBMLkNpcmNsZU1hcmtlcikgPT4gIWJvdW5kcy5jb250YWlucyhsYXllci5nZXRMYXRMbmcoKSkpXHJcbiAgICAgICAgLy87XHJcbiAgICAgICAgLy90aGlzLm1hcmtlcnMucmVtb3ZlTGF5ZXJzKHJlbW92ZU1hcmtlcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZUFsbE1hcmtlcnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJzPy5jbGVhckxheWVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVycyBhIHBvaW50IHVzaW5nIHRoZSBjdXJyZW50IG1vZGUgaGFuZGxlci5cclxuICAgICAqIEBwYXJhbSBwb2ludFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHJlbmRlclBvaW50KHBvaW50OiBQb2ludEFuZFBsYWNlcyk6IEwuQ2lyY2xlTWFya2VyIHtcclxuXHJcbiAgICAgICAgY29uc3QgY2lyY2xlTWFya2VyTGF5ZXIgPSBMLmNpcmNsZU1hcmtlcihbIHBvaW50LmxhdGl0dWRlLCBwb2ludC5sb25naXR1ZGUgXSwge1xyXG4gICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogdGhpcy5tb2RlSGFuZGxlcj8ucG9pbnRDb2xvdXIocG9pbnQpLCAvL3RoaXMuZ2V0UGxhY2VDb2xvdXIocGxhY2UpLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFBvcHVwKFxyXG4gICAgICAgICAgICAobGF5ZXIpID0+IHRoaXMucmVuZGVyUG9wdXAocG9pbnQucGxhY2VzKSB8fCAnJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYXV0b1BhbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGF1dG9DbG9zZTogZmFsc2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjaXJjbGVNYXJrZXJMYXllci5iaW5kVG9vbHRpcChcclxuICAgICAgICAgICAgKGxheWVyKSA9PiB0aGlzLm1vZGVIYW5kbGVyLnJlbmRlclRvb2x0aXAocG9pbnQucGxhY2VzKSB8fCAnJyxcclxuICAgICAgICAgICAge31cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjaXJjbGVNYXJrZXJMYXllcjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2VzWzBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRvclBvcHVwTXVsdGkocGxhY2VzKTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbmRvclBvcHVwTXVsdGkocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBncm91cERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lcnM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgcGxhY2VzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPCBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPiBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcGxhY2Ugb2YgcGxhY2VzKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb2xvdXIgPSB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBBY2NvcmRpb24gQnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWNjb3JkaW9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPHN2ZyBoZWlnaHQ9XCIxNVwiIHdpZHRoPVwiMTVcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDozcHhcIj5gXHJcbiAgICAgICAgICAgICAgICArIGA8Y2lyY2xlIGNsYXNzPVwiY2lyY2xlXCIgY3g9XCI3LjVcIiBjeT1cIjlcIiByPVwiNVwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIiR7cGxhY2VDb2xvdXJ9XCIgLz5gXHJcbiAgICAgICAgICAgICAgICArIGA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICArIGA8c3Bhbj4ke3BsYWNlLmFkZHJlc3MxfTwvc3Bhbj5gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgUGFuZWxcclxuICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncGFuZWwnKTtcclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2UpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBFdmVudHNcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRseUFjdGl2ZSA9IHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgYnV0dG9ucyBhbmQgcGFuZWxzXHJcbiAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lcnMuZm9yRWFjaCgocGxhY2VDb250YWluZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudGx5QWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBET01cclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xyXG4gICAgICAgICAgICBncm91cERpdi5hcHBlbmRDaGlsZChwbGFjZUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVycy5wdXNoKHBsYWNlQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIGdldFBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG5cclxuICAgICAgICAvKiogRUUgRGlzcGxheSBNb2RlICovXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodGhpcy5jb250cm9scy5kaXNwbGF5TW9kZS5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmIHBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvdXJFRV9DQkRfWkJDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfQ0JEX0JDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19aQkM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCFwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19CQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHMuZGlzcGxheU1vZGUuZGlzcGxheU1vZGUgPT0gJ3VwZ3JhZGUnKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1ByZXZpb3VzIFRlY2ggRGlzY29ubmVjdGVkJzogcmV0dXJuIENPTF9URUNIX0NPTVBMRVRFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTmV3IFRlY2ggQ29ubmVjdGVkJyA6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6IHJldHVybiBDT0xfVEVDSF9ERVNJR047XHJcbiAgICAgICAgICAgICAgICBjYXNlICdCdWlsZCBGaW5hbGlzZWQnOiByZXR1cm4gQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb21taXR0ZWQnOiByZXR1cm4gQ09MX1RFQ0hfQ09NTUlUVEVEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOiByZXR1cm4gQ09MX1RFQ0hfQVZBSUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6IHJldHVybiBDT0xfVEVDSF9NRFVfRUxJR0lCTEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBQcmVtaXNlcyBJbiBCdWlsZCc6IHJldHVybiBDT0xfVEVDSF9NRFVfSU5CVUlMRDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbiAgICAgICAgfSovXHJcbi8qXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEF2YWlsKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUEF2YWlsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNQbGFjZUZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRld0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgIT0gJ05VTExfTkEnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgfVxyXG4qL1xyXG5cclxufSIsImltcG9ydCB7IE5iblBsYWNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuXHJcbiAgICBzdWIobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dnZXIoYCR7dGhpcy5uYW1lfS4ke25hbWV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBuYW1lOiBzdHJpbmcpIHtcclxuICAgIH1cclxuXHJcbiAgICBlcnJvciguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FybiguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWJ1ZyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpbmZvKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2h1bmtBcnJheTxUPihhcnJheTogVFtdLCBzaXplOiBudW1iZXIpOiBUW11bXSB7XHJcbiAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICB3aGlsZSAoYXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKGFycmF5LnNwbGljZSgwLCBzaXplKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVidWdNb2RlKCkge1xyXG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnXHJcbiAgICAgICAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2xvY2FsaG9zdCcpXHJcbiAgICAgICAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2RlYnVnPXRydWUnKVxyXG4gICAgO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFAocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdGVFRQJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFROKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUTic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlSEZDKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnSEZDJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRCKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUQic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUQyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIGlmKHBsYWNlLnRlY2hUeXBlID09IFwiRlRUQ1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSAmJiBwbGFjZS5yZWFzb25Db2RlLm1hdGNoKC9eRlRUQy8pXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnTmV3IFRlY2ggQ29ubmVjdGVkJ1xyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRml4ZWRXaXJlbGVzcyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZpeGVkIFdpcmVsZXNzJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VTYXRlbGxpdGUocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdTYXRlbGxpdGUnO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBBdmFpbChwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUubWF0Y2goL15GVFRQLykpIHtcclxuICAgICAgICBzd2l0Y2gocGxhY2UudGVjaENoYW5nZVN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdFbGlnaWJsZSBUbyBPcmRlcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUUFNvb24ocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnSW4gRGVzaWduJzpcclxuICAgICAgICAgICAgY2FzZSAnQnVpbGQgRmluYWxpc2VkJzpcclxuICAgICAgICAgICAgY2FzZSAnUGxhbm5lZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IEVsaWdpYmxlIFRvIEFwcGx5JzpcclxuICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBGYXIocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnQ29tbWl0dGVkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnd0b0ZUVE4ocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJGVFROXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRlRUTl9TQVwiXHJcbiAgICAgICAgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSBcIkZXX0NUXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnd0b0ZUVEMocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJGVFRDXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRlRUQ19TQVwiXHJcbiAgICAgICAgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSBcIkZXX0NUXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU2F0VG9GVyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PSBcIldJUkVMRVNTXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRldfU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ0VsaWdpYmxlIFRvIE9yZGVyJ1xyXG4gICAgO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcblxyXG5pbXBvcnQgJ2xlYWZsZXQubG9jYXRlY29udHJvbC9kaXN0L0wuQ29udHJvbC5Mb2NhdGUubWluLmNzcydcclxuaW1wb3J0ICdsZWFmbGV0LmxvY2F0ZWNvbnRyb2wnO1xyXG5cclxuaW1wb3J0IFwiZXNyaS1sZWFmbGV0LWdlb2NvZGVyL2Rpc3QvZXNyaS1sZWFmbGV0LWdlb2NvZGVyLmNzc1wiO1xyXG5pbXBvcnQgXCJlc3JpLWxlYWZsZXQtZ2VvY29kZXIvZGlzdC9lc3JpLWxlYWZsZXQtZ2VvY29kZXJcIjtcclxuaW1wb3J0ICogYXMgRUxHIGZyb20gXCJlc3JpLWxlYWZsZXQtZ2VvY29kZXJcIjtcclxuXHJcblxyXG5pbXBvcnQgeyBOYm5QbGFjZSwgTmJuUGxhY2VBcGlSZXNwb25zZSwgTmJuVGVjaE1hcE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcclxuLy9pbXBvcnQgTWFya2VyR3JvdXAgZnJvbSAnLi9tYXJrZXJfZ3JvdXAuY2xhc3MudHMuZGV2JztcclxuLy9pbXBvcnQgQ29udHJvbFpvb21XYXJuaW5nIGZyb20gJy4vY29udHJvbF96b29tX3dhcm5pbmcuY2xhc3MnO1xyXG4vL2ltcG9ydCBDb250cm9sRmlsdGVyIGZyb20gJy4vY29udHJvbF9maWx0ZXIuY2xhc3MnO1xyXG5cclxuLy9pbXBvcnQgJ2xlYWZsZXQtZ29vZ2xlLXBsYWNlcy1hdXRvY29tcGxldGUnO1xyXG4vL2ltcG9ydCAqIGFzIE1hcmtlckNsdXN0ZXIgZnJvbSAnbGVhZmxldC5tYXJrZXJjbHVzdGVyJztcclxuXHJcbmltcG9ydCBJQXBpIGZyb20gJy4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlJztcclxuaW1wb3J0IElEYXRhc3RvcmUgZnJvbSAnLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgSU1hcmtlckxheWVyIGZyb20gJy4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgTWFya2VyTGF5ZXJDbHVzdGVyIGZyb20gJy4vbWFya2VybGF5ZXIvbWFya2VybGF5ZXIuY2x1c3Rlci5jbGFzcyc7XHJcbmltcG9ydCBJQ29udHJvbCBmcm9tICcuL2ludGVyZmFjZXMvY29udHJvbC5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBjaHVua0FycmF5LCBpc0RlYnVnTW9kZSB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgSU1vZGUgZnJvbSAnLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlJztcclxuXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91bmRCb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcyk6IEwuTGF0TG5nQm91bmRzIHtcclxuICAgIGNvbnN0IG5vcnRoID0gTWF0aC5jZWlsKGJvdW5kcy5nZXROb3J0aCgpICogNTApIC8gNTA7XHJcbiAgICBjb25zdCB3ZXN0ID0gTWF0aC5mbG9vcihib3VuZHMuZ2V0V2VzdCgpICogMjUpIC8gMjU7XHJcbiAgICBjb25zdCBzb3V0aCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFNvdXRoKCkgKiA1MCkgLyA1MDtcclxuICAgIGNvbnN0IGVhc3QgPSBNYXRoLmNlaWwoYm91bmRzLmdldEVhc3QoKSAqIDI1KSAvIDI1O1xyXG4gICAgcmV0dXJuIEwubGF0TG5nQm91bmRzKFtzb3V0aCwgd2VzdF0sIFtub3J0aCwgZWFzdF0pO1xyXG59XHJcblxyXG5jb25zdCBNQVhfQk9YRVNfSU5fVklFVyA9IDEwMDA7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYm5UZWNoTWFwIHtcclxuXHJcbiAgICBwcml2YXRlIGxvZ2dlciA9IG5ldyBMb2dnZXIoJ05iblRlY2hNYXAnKTtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgREVGQVVMVF9PUFRJT05TOiBQYXJ0aWFsPE5iblRlY2hNYXBPcHRpb25zPiA9IHtcclxuICAgICAgICBtYXBDb250YWluZXJJZDogJ21hcCcsXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcH0gLSBMZWFmbGV0IG1hcCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFwOiBMLk1hcDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFwVGlsZUxheWVyfSAtIExlYWZsZXQgbWFwIHRpbGUgbGF5ZXIuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbWFwVGlsZUxheWVyOiBMLlRpbGVMYXllcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7YXBpfSAtIEFQSSBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXBpOiBJQXBpO1xyXG5cclxuXHJcbiAgICBwcml2YXRlIG1hcExvY2F0ZTogTC5Db250cm9sLkxvY2F0ZTtcclxuICAgIC8vcHJpdmF0ZSBtYXBTZWFyY2g6IEwuZXNyaS5HZW9jb2RpbmcuR2Vvc2VhcmNoO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHtkYXRhc3RvcmV9IC0gRGF0YXN0b3JlIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkYXRhc3RvcmU6IElEYXRhc3RvcmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcmtlckxheWVyfSAtIExheWVyIHRvIGhvbGQgbWFya2Vyc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcmtlckxheWVyOiBJTWFya2VyTGF5ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcmtlckZpbHRlcn0gLSBGdW5jdGlvbiB0byBmaWx0ZXIgbWFya2Vyc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcmtlckZpbHRlcjogKHBsYWNlOiBOYm5QbGFjZSkgPT4gYm9vbGVhbiA9IChwbGFjZTogTmJuUGxhY2UpID0+IHRydWU7XHJcblxyXG4gICAgcHJpdmF0ZSBtb2RlSGFuZGxlcjogSU1vZGU7XHJcblxyXG4gICAgLy8gU3RvcmVzIG1hcCBjb250cm9sc1xyXG4gICAgLypjb250cm9sczoge1trZXk6IHN0cmluZ106IGFueX0gPSB7XHJcbiAgICAgICAgem9vbVdhcm5pbmc6IG51bGwsXHJcbiAgICAgICAgbGVnZW5kOiBudWxsLFxyXG4gICAgICAgIGRpc3BsYXlNb2RlOiBudWxsLFxyXG4gICAgICAgIGZpbHRlcjogbnVsbCxcclxuICAgIH0qL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE5iblRlY2hNYXBPcHRpb25zKSB7XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSB7IC4uLk5iblRlY2hNYXAuREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBpID0gb3B0aW9ucy5hcGk7XHJcbiAgICAgICAgdGhpcy5kYXRhc3RvcmUgPSBvcHRpb25zLmRhdGFzdG9yZTtcclxuICAgICAgICB0aGlzLm1vZGVIYW5kbGVyID0gb3B0aW9ucy5kZWZhdWx0TW9kZUhhbmRsZXI7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgbWFwXHJcbiAgICAgICAgdGhpcy5tYXAgPSBMLm1hcChvcHRpb25zLm1hcENvbnRhaW5lcklkLCB7IHByZWZlckNhbnZhczogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIHRoZSBtYXJrZXIgbGF5ZXJcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyID0gbmV3IE1hcmtlckxheWVyQ2x1c3RlcihcclxuICAgICAgICAgICAgdGhpcy5tYXAsIHRoaXMuZGF0YXN0b3JlLCB0aGlzLm1vZGVIYW5kbGVyXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIE9TTSBsYXllclxyXG4gICAgICAgIHRoaXMubWFwVGlsZUxheWVyID0gTC50aWxlTGF5ZXIoJ2h0dHBzOi8ve3N9LmJhc2VtYXBzLmNhcnRvY2RuLmNvbS9yYXN0ZXJ0aWxlcy92b3lhZ2VyL3t6fS97eH0ve3l9e3J9LnBuZycsIHtcclxuICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycyAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vY2FydG8uY29tL2F0dHJpYnV0aW9uc1wiPkNBUlRPPC9hPicsXHJcbiAgICAgICAgICAgIHN1YmRvbWFpbnM6ICdhYmNkJyxcclxuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHRydWUsXHJcbiAgICAgICAgICAgIG1pblpvb206IDUsXHJcbiAgICAgICAgICAgIG1heFpvb206IDIwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgbGF5ZXIgdG8gdGhlIG1hcFxyXG4gICAgICAgIHRoaXMubWFwVGlsZUxheWVyLmFkZFRvKHRoaXMubWFwKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHNlYXJjaCBjb250cm9sXHJcbiAgICAgICAgLy90aGlzLm1hcFNlYXJjaCA9IG5ldyBFTEcuXHJcbiAgICAgICAgLypcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm1hcFNlYXJjaCA9IEwuZXNyaS5HZW9jb2RpbmcuZ2Vvc2VhcmNoKHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcclxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXHJcbiAgICAgICAgICAgICAgICBMLmVzcmkuR2VvY29kaW5nLmFyY2dpc09ubGluZVByb3ZpZGVyKHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudHJpZXM6IFsnQVUnXSxcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogJ0FBUEthOTdiOGE1Mzc0ZGI0ZmE5YjBmZGQ4ZTU1MzYxY2JhNFo5ZkV1dzNja0FPSUZISzFDUF9WYnpUdjNPVGVVejNnZ3JGQXpWUHpqeW4zUTdiUUZ6YndrRE12RHhhSi1KekcnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBTZWFyY2guYWRkVG8odGhpcy5tYXApXHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgLy8gQWRkIGxvY2F0ZSBjb250cm9sXHJcbiAgICAgICAgdGhpcy5tYXBMb2NhdGUgPSBMLmNvbnRyb2wubG9jYXRlKHtcclxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JyxcclxuICAgICAgICAgICAgbG9jYXRlT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogMTZcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0VmlldzogJ3VudGlsUGFuJyxcclxuICAgICAgICAgICAga2VlcEN1cnJlbnRab29tTGV2ZWw6IHRydWUsXHJcbiAgICAgICAgICAgIGluaXRpYWxab29tTGV2ZWw6IDE3LFxyXG4gICAgICAgICAgICBjYWNoZUxvY2F0aW9uOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWFwTG9jYXRlLmFkZFRvKHRoaXMubWFwKTtcclxuICAgICAgICB0aGlzLm1hcC5vbignbG9jYXRlYWN0aXZhdGUnLCAoKSA9PiB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW9sb2NhdGUnLCAnMScpOyB9KTtcclxuICAgICAgICB0aGlzLm1hcC5vbignbG9jYXRlZGVhY3RpdmF0ZScsICgpID0+IHsgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2dlb2xvY2F0ZScpOyB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRJbml0aWFsTWFwVmlldygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHN0b3JlIG1hcCBwb3NpdGlvbiB3aGVuIG1vdmVkIG9yIHpvb21lZFxyXG4gICAgICAgIHRoaXMubWFwLm9uKCdtb3ZlZW5kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMubWFwLmdldFpvb20oKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0YXJ0cG9zJywgSlNPTi5zdHJpbmdpZnkoeyBsYXQ6IGNlbnRlci5sYXQsIGxuZzogY2VudGVyLmxuZywgem9vbSB9KSk7XHJcblxyXG4gICAgICAgICAgICAvL2F3YWl0IHRoaXMuZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy90aGlzLmZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCk7XHJcbiAgICAgICAgLyp0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldygpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKSkqL1xyXG5cclxuICAgICAgICAvL3RoaXMuY3JlYXRlTWFwKG9wdGlvbnMubWFwQ29udGFpbmVySWQpO1xyXG4gICAgICAgIC8vdGhpcy5kYXRhc3RvcmUgPSBuZXcgTWVtb3J5RGF0YXN0b3JlKHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5tYXJrZXJHcm91cCA9IG5ldyBNYXJrZXJHcm91cCh0aGlzKTtcclxuICAgICAgICAvL3RoaXMuY29udHJvbHMuem9vbVdhcm5pbmcgPSBuZXcgQ29udHJvbFpvb21XYXJuaW5nKHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5jb250cm9scy5kaXNwbGF5TW9kZSA9IG5ldyBDb250cm9EaXNwbGF5TW9kZSh0aGlzKTtcclxuICAgICAgICAvL3RoaXMuY29udHJvbHMubGVnZW5kID0gbmV3IENvbnRyb2xMZWdlbmQodGhpcyk7XHJcbiAgICAgICAgLy90aGlzLmNvbnRyb2xzLmZpbHRlciA9IG5ldyBDb250cm9sRmlsdGVyKHRoaXMpO1xyXG5cclxuICAgICAgICAvL3RoaXMuaW5pdE1hcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0U3RhcnRQb3MoKSA6IHsgbGF0OiBudW1iZXIsIGxuZzogbnVtYmVyLCB6b29tOiBudW1iZXIgfSB8IG51bGwge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0YXJ0cG9zJyk7XHJcbiAgICAgICAgaWYgKCFzdGFydFBvc1N0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RhcnRQb3NTdHJpbmcpIGFzIHsgbGF0OiBudW1iZXIsIGxuZzogbnVtYmVyLCB6b29tOiBudW1iZXIgfTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0aWFsVmlld1NldCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBzZXRJbml0aWFsTWFwVmlldygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuc3ViKCdzZXRJbml0aWFsTWFwVmlldycpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pbml0aWFsVmlld1NldCkge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybignSW5pdGlhbCBtYXAgdmlldyBhbHJlYWR5IHNldCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBnZW9GbGFnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dlb2xvY2F0ZScpO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0UG9zID0gdGhpcy5nZXRTdGFydFBvcygpO1xyXG5cclxuICAgICAgICAvLyBJZiBsb2NhbCBzdG9yYWdlIGNvbnRhaW5zIGxhc3QgbWFwIHBvc2l0aW9uLCBzZXQgbWFwIHRvIHRoYXRcclxuICAgICAgICBpZiAoc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAuc2V0VmlldyhbIHN0YXJ0UG9zLmxhdCwgc3RhcnRQb3MubG5nIF0sIHN0YXJ0UG9zLnpvb20pO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCB0byBBdXN0cmFsaWEgaWYgbm8gc3RhcnQgcG9zaXRpb25cclxuICAgICAgICBpZiAoIXN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyAtMjYuMTc3MjI4OCwgMTMzLjQxNzAxMTkgXSwgMTApO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGxvY2FsIHN0b3JhZ2UgY29udGFpbnMgZ2VvbG9jYXRlIGZsYWdcclxuICAgICAgICAvLyBvciwgaWYgbm8gc3RhcnQgcG9zaXRpb24sIHN0YXJ0IGdlb2xvY2F0aW9uXHJcbiAgICAgICAgaWYgKGdlb0ZsYWcgfHwgIXN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwTG9jYXRlLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFpvb20oMTcpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsVmlld1NldCkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0NvdWxkIG5vdCBzZXQgaW5pdGlhbCBtYXAgdmlldycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Qm94ZXNJbkJvdW5kcyhib3VuZHM6IEwuTGF0TG5nQm91bmRzKTogTC5MYXRMbmdCb3VuZHNbXSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIFN0YXJ0aW5nIHBvaW50IHNob3VsZCBiZSB0aGUgbm9ydGgtd2VzdCBjb3JuZXIgb2YgdGhlIG1hcCByb3VuZGVkIGJleW9uZCB0aGUgbWFwIGJvdW5kc1xyXG4gICAgICAgIC8vIExhdGl0dWRlIGlzIHJvdW5kZWQgdG8gMiBkZWNpbWFsIHBsYWNlcyBtdWx0aXBsZSBvZiAwLjAyXHJcbiAgICAgICAgLy8gTG9uZ2l0dWRlIGlzIHJvdW5kZWQgdG8gMiBkZWNpbWFsIHBsYWNlcyBtdWx0aXBsZSBvZiAwLjA0XHJcbiAgICAgICAgY29uc3Qgbm9ydGhtb3N0ID0gTWF0aC5jZWlsKGJvdW5kcy5nZXROb3J0aCgpICogNTApIC8gNTA7XHJcbiAgICAgICAgY29uc3Qgd2VzdG1tb3N0ID0gTWF0aC5mbG9vcihib3VuZHMuZ2V0V2VzdCgpICogMjUpIC8gMjU7XHJcblxyXG4gICAgICAgIC8vIHNwbGl0IG1hcCBpbnRvIGJveGVzIHN0YXJ0aW5nIGZyb20gbm9ydGgtd2VzdCBjb3JuZXJcclxuICAgICAgICAvLyBlYWNoIGJveCBzaG91bGQgYmUgMC4wMiBkZWdyZWVzIGxhdGl0dWRlIGJ5IDAuMDQgZGVncmVlcyBsb25naXR1ZGVcclxuICAgICAgICBjb25zdCBib3hlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGxhdGl0dWRlID0gbm9ydGhtb3N0OyBsYXRpdHVkZSA+IGJvdW5kcy5nZXRTb3V0aCgpOyBsYXRpdHVkZSAtPSAwLjAyKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGxvbmdpdHVkZSA9IHdlc3RtbW9zdDsgbG9uZ2l0dWRlIDwgYm91bmRzLmdldEVhc3QoKTsgbG9uZ2l0dWRlICs9IDAuMDQpIHtcclxuICAgICAgICAgICAgICAgIGJveGVzLnB1c2goW2xhdGl0dWRlLCBsb25naXR1ZGVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTWFwIGVhY2ggYm94IGludG8gYSBib3VuZHMgb2JqZWN0XHJcbiAgICAgICAgY29uc3QgYm94Qm91bmRzID0gYm94ZXMubWFwKGJveCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vcnRoID0gYm94WzBdO1xyXG4gICAgICAgICAgICBjb25zdCB3ZXN0ID0gYm94WzFdO1xyXG4gICAgICAgICAgICBjb25zdCBzb3V0aCA9IG5vcnRoIC0gMC4wMjtcclxuICAgICAgICAgICAgY29uc3QgZWFzdCA9IHdlc3QgKyAwLjA0O1xyXG4gICAgICAgICAgICByZXR1cm4gTC5sYXRMbmdCb3VuZHMoW3NvdXRoLCB3ZXN0XSwgW25vcnRoLCBlYXN0XSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBib3hCb3VuZHM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggYm94ZXMgdGhhdCBhcmUgdmlzaWJsZSBvbiB0aGUgbWFwXHJcbiAgICAgKi9cclxuICAgIGdldEN1cnJlbnRWaWV3Qm94ZXMoKTogTC5MYXRMbmdCb3VuZHNbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEJveGVzSW5Cb3VuZHModGhpcy5tYXAuZ2V0Qm91bmRzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGlkZSBtYXJrZXJzIHRoYXQgYXJlIG91dHNpZGUgdGhlIG1hcCBib3VuZHNcclxuICAgICAqL1xyXG4gICAgaGlkZU1hcmtlcnNPdXRzaWRlQ3VycmVudFZpZXcoKSB7XHJcbiAgICAgICAgY29uc3QgbWFwQm91bmRzID0gdGhpcy5tYXAuZ2V0Qm91bmRzKCkucGFkKDAuNSk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5yZW1vdmVNYXJrZXJzT3V0c2lkZUJvdW5kcyhtYXBCb3VuZHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzcGxheSBtYXJrZXJzIHRoYXQgYXJlIGluc2lkZSB0aGUgbWFwIGJvdW5kc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBkaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoYXR0ZW1wdDogbnVtYmVyID0gMSkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kYXRhc3RvcmUuaXNSZWFkeSgpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGF0dGVtcHQgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ291bGQgbm90IGdldCBkYXRhc3RvcmUgcmVhZHkuIEdpdmluZyB1cC4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEYXRhc3RvcmUgaXMgbm90IHJlYWR5LiBEZWxheWluZyBkaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKScpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KGF0dGVtcHQrMSksIDEwMDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnRGlzcGxheWluZyBtYXJrZXJzIGluIGN1cnJlbnQgdmlldycpO1xyXG4gICAgICAgIGNvbnN0IG1hcEJvdW5kcyA9IHJvdW5kQm91bmRzKHRoaXMubWFwLmdldEJvdW5kcygpKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgZnJvbSBEYXRhc3RvcmUnLCBtYXBCb3VuZHMpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvaW50c0Zyb21TdG9yZShtYXBCb3VuZHMpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggZGF0YSBmb3IgY3VycmVudCBtYXAgdmlld1xyXG4gICAgICovXHJcbiAgICBhc3luYyBmZXRjaERhdGFGb3JDdXJyZW50VmlldygpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuc3ViKCdmZXRjaERhdGFGb3JDdXJyZW50VmlldycpO1xyXG5cclxuICAgICAgICB0aGlzLmhpZGVNYXJrZXJzT3V0c2lkZUN1cnJlbnRWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFwLmdldFpvb20oKSA8IDExKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdab29tIGxldmVsIHRvbyBsb3cuIFNraXBwaW5nLicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgYm94ZXMgdGhhdCBhcmUgY3VycmVudGx5IHZpc2libGVcclxuICAgICAgICBjb25zdCBib3hlcyA9IHRoaXMuZ2V0Q3VycmVudFZpZXdCb3hlcygpO1xyXG5cclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0N1cnJlbnQgdmlldyBib3hlcycsIGJveGVzKTtcclxuXHJcbiAgICAgICAgLy8gRG9uJ3QgZmV0Y2ggYm94ZXMgaWYgbW9yZSB0aGFuIDgwXHJcbiAgICAgICAgaWYgKGJveGVzLmxlbmd0aCA+IE1BWF9CT1hFU19JTl9WSUVXKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdUb28gbWFueSBib3hlcyB0byBmZXRjaC4gU2tpcHBpbmcuJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnRmV0Y2hpbmcgYm94ZXMnLCBib3hlcy5sZW5ndGgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENodW5rIGJveGVzIGludG8gZ3JvdXBzIG9mIDEwXHJcbiAgICAgICAgY29uc3QgYm94Q2h1bmtzID0gY2h1bmtBcnJheShib3hlcywgMTApO1xyXG5cclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0JveCBjaHVua3MnLCBib3hDaHVua3MubGVuZ3RoLCBib3hDaHVua3MpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJveENodW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBmZXRjaFByb21pc2VzID0gYm94Q2h1bmtzW2ldLm1hcChib3ggPT4gdGhpcy5mZXRjaERhdGEoYm94KSk7XHJcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnRmV0Y2ggcHJvbWlzZXMnLCBmZXRjaFByb21pc2VzLmxlbmd0aCwgZmV0Y2hQcm9taXNlcyk7XHJcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGZldGNoUHJvbWlzZXMpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hQb2ludHNGcm9tU3RvcmUodGhpcy5tYXAuZ2V0Qm91bmRzKCkucGFkKDAuNSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdBbGwgYm94ZXMgZmV0Y2hlZCcpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBmZXRjaERhdGEoXHJcbiAgICAgICAgYm91bmRzOiBMLkxhdExuZ0JvdW5kcywgcGFnZTogbnVtYmVyID0gMVxyXG4gICAgKSA6IFByb21pc2U8dm9pZD5cclxuICAgIHtcclxuXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIEJveCcsIGJvdW5kcy5nZXRDZW50ZXIoKS50b1N0cmluZygpLCBwYWdlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5hcGkuZmV0Y2hQYWdlKGJvdW5kcywgcGFnZSwgKCkgPT4gdGhpcy5tYXAuZ2V0Qm91bmRzKCkuaW50ZXJzZWN0cyhib3VuZHMpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc0ZldGNoUmVzdWx0KGRhdGEsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5uZXh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaERhdGEoYm91bmRzLCBkYXRhLm5leHQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT0gJ1BhZ2UgYWxyZWFkeSBsb2FkZWQgdGhpcyBzZXNzaW9uLicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcHJvY2Vzc0ZldGNoUmVzdWx0KHJlc3VsdDogTmJuUGxhY2VBcGlSZXNwb25zZSwgYm91bmRzOiBMLkxhdExuZ0JvdW5kcykge1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdQcm9jZXNzaW5nIHBhZ2UnLCAocmVzdWx0Lm5leHQgfHwgMiktMSwgJ29mJywgcmVzdWx0LnRvdGFsLCAnd2l0aCcsIHJlc3VsdC5wbGFjZXMubGVuZ3RoLCAncGxhY2VzLicpO1xyXG5cclxuICAgICAgICAvLyBJZiBtb3JlIHBhZ2VzLCBzdGFydCBmZXRjaGluZyBuZXh0IHBhZ2VcclxuICAgICAgICAvKmlmIChyZXN1bHQubmV4dCkge1xyXG4gICAgICAgICAgICB0aGlzLmZldGNoRGF0YShib3VuZHMsIHJlc3VsdC5uZXh0KTtcclxuICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgLy8gUHJvY2VzcyBwbGFjZXNcclxuICAgICAgICBjb25zb2xlLmxvZygnU3RvcmluZyBwbGFjZXMuJylcclxuICAgICAgICBjb25zdCBwcm9jZXNzUHJvbWlzZSA9IHRoaXMuZGF0YXN0b3JlLnN0b3JlUGxhY2VzKHJlc3VsdC5wbGFjZXMpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXYWl0aW5nIGZvciBwbGFjZSBzdG9yaW5nIHRvIGZpbmlzaCcpO1xyXG4gICAgICAgIGF3YWl0IHByb2Nlc3NQcm9taXNlO1xyXG5cclxuICAgICAgICAvLyBSZWZyZXNoIHBvaW50cyBpbnNpZGUgYm91bmRzXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnUmVmcmVzaGluZyBwb2ludHMgaW5zaWRlIGJvdW5kcy4nKTtcclxuICAgICAgICAvL2F3YWl0IHRoaXMucmVmcmVzaFBvaW50c0Zyb21TdG9yZShib3VuZHMpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZWZyZXNoUG9pbnRzRnJvbVN0b3JlKGJvdW5kcz86IEwuTGF0TG5nQm91bmRzKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5tYXJrZXJMYXllcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcmtlciBMYXllciBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBib3VuZHMgYXJlIG5vdCBwYXNzZWQsIHVzZSBtYXAgYm91bmRzXHJcbiAgICAgICAgaWYgKCFib3VuZHMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0JvdW5kcyBub3QgcGFzc2VkLiBVc2luZyBtYXAgYm91bmRzLicpO1xyXG4gICAgICAgICAgICBib3VuZHMgPSB0aGlzLm1hcC5nZXRCb3VuZHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJvdW5kcyA9IHJvdW5kQm91bmRzKGJvdW5kcyk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5yZWZyZXNoTWFya2Vyc0luc2lkZUJvdW5kcyhib3VuZHMsIHRoaXMubWFya2VyRmlsdGVyKTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAvLyBHZXQgdGhlIGJveGVzXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgcG9pbnRzIHdpdGhpbiBib3VuZHMnLCBib3VuZHMudG9CQm94U3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGF3YWl0IHRoaXMuZGF0YXN0b3JlLmdldFBvaW50c1dpdGhpbkJvdW5kcyhib3VuZHMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAvLyBhZGQgcG9pbnRzIHRvIG1hcCB0aGF0IGRvbid0IGFscmVhZHkgZXhpc3QgaW4gbGF5ZXJcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IEwuY2lyY2xlTWFya2VyKFtwb2ludC5sYXRpdHVkZSwgcG9pbnQubG9uZ2l0dWRlXSwge1xyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiA1LFxyXG4gICAgICAgICAgICAgICAgLy9maWxsQ29sb3I6IHRoaXMuZ2V0UGxhY2VDb2xvdXIocGxhY2UpLFxyXG4gICAgICAgICAgICAgICAgLy9jb2xvcjogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgcG9wdXBcclxuICAgICAgICAgICAgbWFya2VyLmJpbmRQb3B1cChwb2ludC5sb2NpZHMuam9pbignPGJyIC8+JykpO1xyXG4gICAgICAgICAgICBtYXJrZXIub24oJ3BvcHVwb3BlbicsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQb3B1cENvbnRlbnQocG9pbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oY29udGVudCA9PiBldmVudC5wb3B1cC5zZXRDb250ZW50KGNvbnRlbnQpKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFya2VyTGF5ZXIuYWRkTGF5ZXIobWFya2VyKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29udHJvbHM6IHtcclxuICAgICAgICBba2V5OiBzdHJpbmddOiBJQ29udHJvbDtcclxuICAgIH0gPSB7fTtcclxuXHJcbiAgICBhZGRDb250cm9sKGtleTogc3RyaW5nLCBjb250cm9sOiBJQ29udHJvbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xzW2tleV0pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250cm9sIHdpdGgga2V5ICR7a2V5fSBhbHJlYWR5IGV4aXN0c2ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sc1trZXldID0gY29udHJvbDtcclxuXHJcbiAgICAgICAgdGhpcy5tYXAuYWRkQ29udHJvbChjb250cm9sLmdldENvbnRyb2woKSlcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0FkZGVkIGNvbnRyb2wnLCBrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE1hcmtlckZpbHRlcihmaWx0ZXI6IChwbGFjZTogTmJuUGxhY2UpID0+IGJvb2xlYW4pIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcmtlckxheWVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWFya2VyIExheWVyIG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubWFya2VyRmlsdGVyID0gZmlsdGVyO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIucmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHModGhpcy5tYXAuZ2V0Qm91bmRzKCksIHRoaXMubWFya2VyRmlsdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKnByaXZhdGUgc2V0TWFya2VyTGF5ZXIobWFya2VyTGF5ZXI6IElNYXJrZXJMYXllcikge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tYXJrZXJMYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlckxheWVyLnJlbW92ZUFsbE1hcmtlcnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIgPSBtYXJrZXJMYXllcjtcclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyLnNldE1hcCh0aGlzLm1hcCk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5zZXREYXRhc3RvcmUodGhpcy5kYXRhc3RvcmUpO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlckxheWVyLnJlZnJlc2hNYXJrZXJzSW5zaWRlQm91bmRzKFxyXG4gICAgICAgICAgICB0aGlzLm1hcC5nZXRCb3VuZHMoKSwgdGhpcy5tYXJrZXJGaWx0ZXJcclxuICAgICAgICApO1xyXG4gICAgfSovXHJcblxyXG4gICAgc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXI6IElNb2RlKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlSGFuZGxlciA9IG1vZGVIYW5kbGVyO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXI/LnNldE1vZGVIYW5kbGVyKG1vZGVIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG5pbXBvcnQgSUNvbnRyb2wgZnJvbSBcIi4uL2ludGVyZmFjZXMvY29udHJvbC5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IE5iblRlY2hNYXAgZnJvbSBcIi4uL25ibl90ZWNoX21hcC5jbGFzc1wiO1xyXG5pbXBvcnQgeyBDb250cm9sRXZlbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBBQ29udHJvbCBpbXBsZW1lbnRzIElDb250cm9sIHtcclxuXHJcbiAgICAvL3Byb3RlY3RlZCBtYXA6IE5iblRlY2hNYXA7XHJcbiAgICBwcm90ZWN0ZWQgY29udHJvbDogTC5Db250cm9sO1xyXG4gICAgLy9wcm90ZWN0ZWQga2V5OiBzdHJpbmc7XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBldmVudEhhbmRsZXJzOiB7XHJcbiAgICAgICAgW2V2ZW50TmFtZTogc3RyaW5nXTogKChlOiBDb250cm9sRXZlbnQpID0+IHZvaWQpW11cclxuICAgIH0gPSB7fTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigvKmtleTogc3RyaW5nLyosIG5iblRlY2hNYXA6IE5iblRlY2hNYXAqLykge1xyXG4gICAgICAgIC8vdGhpcy5rZXkgPSBrZXk7XHJcbiAgICAgICAgLy90aGlzLm1hcCA9IG5iblRlY2hNYXA7XHJcbiAgICAgICAgdGhpcy5jb250cm9sID0gbmV3IEwuQ29udHJvbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogKGU6IENvbnRyb2xFdmVudCkgPT4gdm9pZCkgOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBlbWl0KGV2ZW50TmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpIDogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgRW1pdHRpbmcgZXZlbnQ6ICR7ZXZlbnROYW1lfWAsIHtcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgaGFuZGxlcnM6IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZXZlbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuZ2V0U3RhdGUoKSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBnZXRTdGF0ZSgpIDogYW55O1xyXG5cclxuICAgIHB1YmxpYyBnZXRDb250cm9sKCkgOiBMLkNvbnRyb2wge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2w7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICogYXMgTCBmcm9tICdsZWFmbGV0JztcclxuLy9pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi4vbmJuX3RlY2hfbWFwLmNsYXNzXCI7XHJcbmltcG9ydCBBQ29udHJvbCBmcm9tIFwiLi9jb250cm9sLmFic3RyYWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9EaXNwbGF5TW9kZSBleHRlbmRzIEFDb250cm9sIHtcclxuXHJcbiAgICBwcml2YXRlIGRpc3BsYXlNb2RlID0gJ2FsbCc7XHJcbiAgICBwcml2YXRlIGVsQ29udHJvbERpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHByaXZhdGUgZWxEcm9wZG93bjogSFRNTFNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUNvbnRyb2xEaXYoKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2wub25BZGQgPSAobWFwOiBMLk1hcCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlRHJvcGRvd24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxDb250cm9sRGl2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy90aGlzLmNvbnRyb2wub25BZGQgPSAoKSA9PiB0aGlzLmFkZENvbnRyb2xEaXYoKTtcclxuICAgICAgICAvL3RoaXMuc2hvdygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKCkgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlNb2RlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGFsbExhYmVsOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBhbGxSYWRpbzogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgYWxsVGV4dDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgdXBncmFkZUxhYmVsOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB1cGdyYWRlUmFkaW86IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHVwZ3JhZGVUZXh0OiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBlZUxhYmVsOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBlZVJhZGlvOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBlZVRleHQ6IGFueSA9IG51bGw7XHJcbiAgICBcclxuICAgIGNoYW5nZU1vZGUobW9kZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5TW9kZSA9IG1vZGU7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCBtb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlQ29udHJvbERpdigpIDogdm9pZCB7XHJcbiAgICAgICAgaWYodGhpcy5lbENvbnRyb2xEaXYpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb250cm9sRGl2IGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5jbGFzc0xpc3QuYWRkKCdpbmZvJywgJ2xlZ2VuZCcpO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLm9wYWNpdHkgPSBcIjAuOFwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVEcm9wZG93bigpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWxEcm9wZG93bikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Ryb3Bkb3duIGFscmVhZHkgZXhpc3RzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkcm9wZG93biA9IHRoaXMuZWxEcm9wZG93bjtcclxuICAgICAgICBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKCdjb250cm9sLXNlbGVjdCcpO1xyXG5cclxuICAgICAgICBjb25zdCBhbGxPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBhbGxPcHRpb24udmFsdWUgPSAnYWxsJztcclxuICAgICAgICBhbGxPcHRpb24uaW5uZXJUZXh0ID0gJ1Nob3cgQWxsIExvY2F0aW9ucyc7XHJcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQoYWxsT3B0aW9uKTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBjb25zdCB1cGdyYWRlT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgdXBncmFkZU9wdGlvbi52YWx1ZSA9ICd1cGdyYWRlJztcclxuICAgICAgICB1cGdyYWRlT3B0aW9uLmlubmVyVGV4dCA9ICdUZWNoIFVwZ3JhZGVzJztcclxuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZCh1cGdyYWRlT3B0aW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgZWVPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgICAgICBlZU9wdGlvbi52YWx1ZSA9ICdlZSc7XHJcbiAgICAgICAgZWVPcHRpb24uaW5uZXJUZXh0ID0gJ0VudGVycHJpc2UgRXRoZXJuZXQnO1xyXG4gICAgICAgIGRyb3Bkb3duLmFwcGVuZENoaWxkKGVlT3B0aW9uKTtcclxuICAgICAgICAqL1xyXG5cclxuICAgICAgICBkcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gdGhpcy5jaGFuZ2VNb2RlKChlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWUpKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbERyb3Bkb3duID0gZHJvcGRvd247XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuYXBwZW5kQ2hpbGQoZHJvcGRvd24pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKmFkZENvbnRyb2xEaXYoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYWxsTGFiZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdsYWJlbCcsICdjb250cm9sLWxhYmVsJywgdGhpcy5jb250cm9sRGl2KTtcclxuICAgICAgICB0aGlzLmFsbFJhZGlvID0gTC5Eb21VdGlsLmNyZWF0ZSgnaW5wdXQnLCAnY29udHJvbC1pbnB1dCcsIHRoaXMuYWxsTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8udHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpby5uYW1lID0gJ2Rpc3BsYXktbW9kZSc7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpby52YWx1ZSA9ICdhbGwnO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8uY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmFsbFJhZGlvLCAnY2hhbmdlJywgKGUpID0+IHRoaXMuY2hhbmdlTW9kZSgnYWxsJykpO1xyXG4gICAgICAgIHRoaXMuYWxsVGV4dCA9IEwuRG9tVXRpbC5jcmVhdGUoJ3NwYW4nLCAnY29udHJvbC10ZXh0JywgdGhpcy5hbGxMYWJlbCk7XHJcbiAgICAgICAgdGhpcy5hbGxUZXh0LmlubmVyVGV4dCA9ICdBbGwnO1xyXG5cclxuICAgICAgICB0aGlzLnVwZ3JhZGVMYWJlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2xhYmVsJywgJ2NvbnRyb2wtbGFiZWwnLCB0aGlzLmNvbnRyb2xEaXYpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvID0gTC5Eb21VdGlsLmNyZWF0ZSgnaW5wdXQnLCAnY29udHJvbC1pbnB1dCcsIHRoaXMudXBncmFkZUxhYmVsKTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpby50eXBlID0gJ3JhZGlvJztcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpby5uYW1lID0gJ2Rpc3BsYXktbW9kZSc7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8udmFsdWUgPSAndXBncmFkZSc7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLnVwZ3JhZGVSYWRpbywgJ2NoYW5nZScsICgpID0+IHRoaXMuY2hhbmdlTW9kZSgndXBncmFkZScpKTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVUZXh0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnc3BhbicsICdjb250cm9sLXRleHQnLCB0aGlzLnVwZ3JhZGVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlVGV4dC5pbm5lclRleHQgPSAnVGVjaCBVcGdyYWRlJztcclxuXHJcbiAgICAgICAgdGhpcy5lZUxhYmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGFiZWwnLCAnY29udHJvbC1sYWJlbCcsIHRoaXMuY29udHJvbERpdik7XHJcbiAgICAgICAgdGhpcy5lZVJhZGlvID0gTC5Eb21VdGlsLmNyZWF0ZSgnaW5wdXQnLCAnY29udHJvbC1pbnB1dCcsIHRoaXMuZWVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy5lZVJhZGlvLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby5uYW1lID0gJ2Rpc3BsYXktbW9kZSc7XHJcbiAgICAgICAgdGhpcy5lZVJhZGlvLnZhbHVlID0gJ2VlJztcclxuICAgICAgICBMLkRvbUV2ZW50Lm9uKHRoaXMuZWVSYWRpbywgJ2NoYW5nZScsICgpID0+IHRoaXMuY2hhbmdlTW9kZSgnZWUnKSk7XHJcbiAgICAgICAgdGhpcy5lZVRleHQgPSBMLkRvbVV0aWwuY3JlYXRlKCdzcGFuJywgJ2NvbnRyb2wtdGV4dCcsIHRoaXMuZWVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy5lZVRleHQuaW5uZXJUZXh0ID0gJ0VFJztcclxuXHJcbiAgICB9Ki9cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBMIGZyb20gJ2xlYWZsZXQnO1xyXG5pbXBvcnQgeyBMYXRMbmdMb2NpZFN0b3JhZ2UsIE5iblBsYWNlLCBOYm5QbGFjZVN0b3JlLCBQb2ludEFuZExvY2lkcywgUG9pbnRBbmRQbGFjZXMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IElEYXRhc3RvcmUgZnJvbSAnLi4vaW50ZXJmYWNlcy9kYXRhc3RvcmUuaW50ZXJmYWNlJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWVtb3J5RGF0YXN0b3JlIGltcGxlbWVudHMgSURhdGFzdG9yZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXRMbmdJbmRleDogTGF0TG5nTG9jaWRTdG9yYWdlID0ge307XHJcbiAgICBwcml2YXRlIG5iblBsYWNlU3RvcmU6IE5iblBsYWNlU3RvcmUgPSB7fTtcclxuXHJcbiAgICBpc1JlYWR5KCkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlIHBsYWNlIG1hcmtlcnMgXHJcbiAgICAgKiBAcGFyYW0gcGxhY2VNYXJrZXIgXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN0b3JlUGxhY2UocGxhY2U6IE5iblBsYWNlKSA6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuICAgICAgICBjb25zdCBsYXRpdHVkZSA9IHBsYWNlLmxhdGl0dWRlO1xyXG4gICAgICAgIGNvbnN0IGxvbmdpdHVkZSA9IHBsYWNlLmxvbmdpdHVkZTtcclxuICAgICAgICBjb25zdCBsYXRMbmcgPSBgJHtsYXRpdHVkZX0sJHtsb25naXR1ZGV9YDtcclxuICAgICAgICBjb25zdCBsb2NpZCA9IHBsYWNlLmxvY2lkO1xyXG5cclxuICAgICAgICAvLyBTdG9yZSBMT0NJRCBpbnRvIGluZGV4XHJcbiAgICAgICAgaWYgKCF0aGlzLmxhdExuZ0luZGV4W2xhdExuZ10pIHtcclxuICAgICAgICAgICAgdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddID0gWyBsb2NpZCBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmxhdExuZ0luZGV4W2xhdExuZ10uaW5jbHVkZXMobG9jaWQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhdExuZ0luZGV4W2xhdExuZ10ucHVzaChsb2NpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0b3JlIHBsYWNlXHJcbiAgICAgICAgdGhpcy5uYm5QbGFjZVN0b3JlW2xvY2lkXSA9IHBsYWNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzdG9yZVBsYWNlcyhwbGFjZXM6IE5iblBsYWNlW10pIDogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcGxhY2VzLmZvckVhY2gocGxhY2UgPT4gdGhpcy5zdG9yZVBsYWNlKHBsYWNlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0UGxhY2UobG9jaWQ6IHN0cmluZykgOiBQcm9taXNlPE5iblBsYWNlPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmJuUGxhY2VTdG9yZVtsb2NpZF07XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0UGxhY2VzKCk6IFByb21pc2U8TmJuUGxhY2VbXT4ge1xyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLm5iblBsYWNlU3RvcmUpXHJcbiAgICAgICAgICAgIC5tYXAobG9jaWQgPT4gdGhpcy5uYm5QbGFjZVN0b3JlW2xvY2lkXSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0UG9pbnRzKCkgOiBQcm9taXNlPFBvaW50QW5kTG9jaWRzW10+IHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5sYXRMbmdJbmRleClcclxuICAgICAgICAgICAgLm1hcCgobGF0TG5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbIGxhdGl0dWRlLCBsb25naXR1ZGUgXSA9IGxhdExuZy5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXRsbmc6IGxhdExuZyxcclxuICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZSwgbG9uZ2l0dWRlLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2lkczogdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICA7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0UG9pbnRzV2l0aGluQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIDogUHJvbWlzZTxQb2ludEFuZExvY2lkc1tdPiB7XHJcbiAgICAgICAgY29uc3QgcG9pbnRzID0gKGF3YWl0IHRoaXMuZ2V0UG9pbnRzKCkpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSB9KSA9PiB0aGlzLmlzTGF0TG5nV2l0aGluQm91bmRzKGxhdGl0dWRlLCBsb25naXR1ZGUsIGJvdW5kcykpXHJcbiAgICAgICAgcmV0dXJuIHBvaW50cztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRGdWxsUG9pbnRzV2l0aGluQm91bmRzKGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIDogUHJvbWlzZTxQb2ludEFuZFBsYWNlc1tdPiB7XHJcbiAgICAgICAgY29uc3QgcG9pbnRzID0gKGF3YWl0IHRoaXMuZ2V0UG9pbnRzKCkpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSB9KSA9PiB0aGlzLmlzTGF0TG5nV2l0aGluQm91bmRzKGxhdGl0dWRlLCBsb25naXR1ZGUsIGJvdW5kcykpXHJcbiAgICAgICAgICAgIC5tYXAoKHsgbGF0bG5nLCBsYXRpdHVkZSwgbG9uZ2l0dWRlLCBsb2NpZHMgfSkgPT4gKHtcclxuICAgICAgICAgICAgICAgIGxhdGxuZywgbGF0aXR1ZGUsIGxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgIHBsYWNlczogbG9jaWRzLm1hcChsb2NpZCA9PiB0aGlzLm5iblBsYWNlU3RvcmVbbG9jaWRdKSxcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgcmV0dXJuIHBvaW50cztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQbGFjZXNBdExhdExuZyhsYXRpdHVkZTogbnVtYmVyLCBsb25naXR1ZGU6IG51bWJlcikgOiBQcm9taXNlPE5iblBsYWNlW10+IHtcclxuICAgICAgICBjb25zdCBsYXRMbmcgPSBgJHtsYXRpdHVkZX0sJHtsb25naXR1ZGV9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5sYXRMbmdJbmRleFtsYXRMbmddXHJcbiAgICAgICAgICAgIC5tYXAobG9jaWQgPT4gdGhpcy5uYm5QbGFjZVN0b3JlW2xvY2lkXSlcclxuICAgICAgICA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0xhdExuZ1dpdGhpbkJvdW5kcyhsYXRpdHVkZTogbnVtYmVyLCBsb25naXR1ZGU6IG51bWJlciwgYm91bmRzOiBMLkxhdExuZ0JvdW5kcykge1xyXG4gICAgICAgIHJldHVybiBsYXRpdHVkZSA+IGJvdW5kcy5nZXRTb3V0aCgpXHJcbiAgICAgICAgICAgICYmIGxhdGl0dWRlIDwgYm91bmRzLmdldE5vcnRoKClcclxuICAgICAgICAgICAgJiYgbG9uZ2l0dWRlID4gYm91bmRzLmdldFdlc3QoKVxyXG4gICAgICAgICAgICAmJiBsb25naXR1ZGUgPCBib3VuZHMuZ2V0RWFzdCgpXHJcbiAgICAgICAgO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBJTW9kZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tb2RlLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBMZWdlbmRJdGVtLCBOYm5QbGFjZSwgUG9pbnRBbmRQbGFjZXMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0ICogYXMgTCBmcm9tIFwibGVhZmxldFwiO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIGlzUGxhY2VGVFRQLFxyXG4gICAgaXNQbGFjZUZUVEMsXHJcbiAgICBpc1BsYWNlRlRUUEF2YWlsLFxyXG4gICAgaXNQbGFjZUZUVFBTb29uLFxyXG4gICAgaXNQbGFjZUZUVFBGYXIsXHJcbiAgICBpc0Z3dG9GVFRDLFxyXG4gICAgaXNGd3RvRlRUTixcclxuICAgIGlzU2F0VG9GVyxcclxuICAgIGlzRGVidWdNb2RlXHJcbn0gZnJvbSBcIi4uL3V0aWxzXCI7XHJcblxyXG5jb25zdCBjb2xvdXJGVFRQIFx0XHQ9ICcjMUQ3MDQ0JztcclxuY29uc3QgY29sb3VyRlRUUEF2YWlsICAgPSAnIzc1QUQ2Ric7XHJcbmNvbnN0IGNvbG91ckZUVFBTb29uICAgID0gJyNDOEUzQzUnO1xyXG5jb25zdCBjb2xvdXJIRkMgXHRcdD0gJyNGRkJFMDAnO1xyXG5jb25zdCBjb2xvdXJGVFRDIFx0XHQ9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUQ0F2YWlsICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVE5CIFx0XHQ9ICcjRTMwNzFEJztcclxuY29uc3QgY29sb3VyRlcgXHRcdCAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgY29sb3VyRldBdmFpbCBcdD0gJyMwMjJCRTMnO1xyXG5jb25zdCBjb2xvdXJTYXQgXHQgICAgPSAnIzZCMDJFMyc7XHJcbmNvbnN0IGNvbG91clVua25vd24gICAgICA9ICcjODg4ODg4JztcclxuXHJcbmZ1bmN0aW9uIGdldFRlY2hDb2xvdXIodGVjaFR5cGU6IHN0cmluZykge1xyXG4gICAgc3dpdGNoKHRlY2hUeXBlKSB7XHJcbiAgICAgICAgY2FzZSAnRlRUUCc6IHJldHVybiBjb2xvdXJGVFRQO1xyXG4gICAgICAgIGNhc2UgJ0ZUVEMnOiByZXR1cm4gY29sb3VyRlRUQztcclxuICAgICAgICBjYXNlICdGVFROJzpcclxuICAgICAgICBjYXNlICdGVFRCJzogcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIGNhc2UgJ0hGQyc6IHJldHVybiBjb2xvdXJIRkM7XHJcbiAgICAgICAgY2FzZSAnV0lSRUxFU1MnOiByZXR1cm4gY29sb3VyRlc7XHJcbiAgICAgICAgY2FzZSAnU0FURUxMSVRFJzogcmV0dXJuIGNvbG91clNhdDtcclxuICAgIH1cclxuICAgIHJldHVybiBjb2xvdXJVbmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbGxNb2RlIGltcGxlbWVudHMgSU1vZGUge1xyXG5cclxuICAgIGZpbHRlcihwbGFjZTogTmJuUGxhY2UpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcG9pbnRDb2xvdXIocG9pbnQ6IFBvaW50QW5kUGxhY2VzKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VDb2xvdXIocG9pbnQucGxhY2VzWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZUNvbG91cihwbGFjZTogTmJuUGxhY2UpIDogc3RyaW5nIHtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFAocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRQO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEF2YWlsKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUEF2YWlsO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUFNvb24ocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRQU29vbjtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVFBGYXIocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRUZWNoQ29sb3VyKHBsYWNlLnRlY2hUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAoaXNQbGFjZUZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc0Z3dG9GVFRDKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUQ0F2YWlsO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc0Z3dG9GVFROKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUTkI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc1NhdFRvRlcocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGV0F2YWlsO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgIT0gJ05VTExfTkEnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBvcHVwQ29udGVudChwbGFjZTogTmJuUGxhY2UpIDogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnKTtcclxuXHJcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSAnPGI+JytwbGFjZS5sb2NpZCsnPC9iPjwvYnI+J1xyXG4gICAgICAgICAgICArIHBsYWNlLmFkZHJlc3MxICsgJzwvYnI+J1xyXG4gICAgICAgICAgICArIHBsYWNlLmFkZHJlc3MyICsgJzwvYnI+J1xyXG4gICAgICAgICAgICArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnPGI+VGVjaG5vbG9neSBQbGFuPC9iPjwvYnI+JztcclxuXHJcbiAgICAgICAgLyoqIFRlY2hub2xvZ3kgUGxhbiBGaW5hbCBTdGF0ZSAqL1xyXG4gICAgICAgIGlmIChwbGFjZS50ZWNoVHlwZSA9PSAnRlRUUCdcclxuICAgICAgICAgICAgfHwgIXBsYWNlLmFsdFJlYXNvbkNvZGVcclxuICAgICAgICAgICAgfHwgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSAnTlVMTF9OQSdcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1RlY2hub2xvZ3k6ICcgKyBwbGFjZS50ZWNoVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBpZiAocGxhY2UudGVjaFR5cGUgIT0gJ0ZUVFAnKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnTm8gdGVjaCB1cGdyYWRlIHBsYW5uZWQ8YnIgLz4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBcclxuICAgICAgICBcclxuICAgICAgICBlbHNlIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUubWF0Y2goL15GVFRQLykpIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0N1cnJlbnQ6ICcgKyBwbGFjZS50ZWNoVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ2hhbmdlOiAnICsgcGxhY2UuYWx0UmVhc29uQ29kZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnU3RhdHVzOiAnICsgcGxhY2UudGVjaENoYW5nZVN0YXR1cyArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnUHJvZ3JhbTogJyArIHBsYWNlLnByb2dyYW1UeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdUYXJnZXQgUXRyOiAnICsgcGxhY2UudGFyZ2V0RWxpZ2liaWxpdHlRdWFydGVyICsgJzxiciAvPic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ3VycmVudDogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDaGFuZ2U6ICcgKyBwbGFjZS5hbHRSZWFzb25Db2RlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdTdGF0dXM6ICcgKyBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdQcm9ncmFtOiAnICsgcGxhY2UucHJvZ3JhbVR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1RhcmdldCBRdHI6ICcgKyBwbGFjZS50YXJnZXRFbGlnaWJpbGl0eVF1YXJ0ZXIgKyAnPGJyIC8+JztcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnPGJyIC8+JzsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHBsYWNlLmVlKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnPGI+RW50ZXJwcmlzZSBFdGhlcm5ldDwvYj48L2JyPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnUHJpY2UgWm9uZTogJyArICggcGxhY2UuY2JkcHJpY2luZyA/ICdDQkQnIDogJ1pvbmUgMS8yLzMnICkgKyAnPGJyIC8+J1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCAgKz0gJ0J1aWxkIENvc3Q6ICcgKyAoIHBsYWNlLnplcm9CdWlsZENvc3QgPyAnJDAnIDogJ1BPQScgKSArICc8YnIgLz4nXHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnPGJyIC8+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhyID0gTC5Eb21VdGlsLmNyZWF0ZSgnaHInKTtcclxuICAgICAgICAgICAgY29uc3QgcHJlID0gTC5Eb21VdGlsLmNyZWF0ZSgncHJlJyk7XHJcbiAgICAgICAgICAgIHByZS5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeShwbGFjZSwgbnVsbCwgMik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaHIpO1xyXG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHByZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJUb29sdGlwKHBsYWNlczogTmJuUGxhY2VbXSkgOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBsYWJlbCA9IHBsYWNlc1swXS5hZGRyZXNzMTtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGxhYmVsICs9ICcgKCArICcgKyAocGxhY2VzLmxlbmd0aCAtIDEpICsgJyBtb3JlKSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExlZ2VuZEl0ZW1zKCk6IExlZ2VuZEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFRQJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUUCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFRQIFVwZ3JhZGUnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRQQXZhaWwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUUCBVcGdyYWRlIFNvb24nLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRQU29vbixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdIRkMnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJIRkMsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUQycsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVEMsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlRUTi9GVFRCJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUTkIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRlcnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVyBVcGdyYWRlJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRldBdmFpbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTYXRlbGxpdGUnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJTYXQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnVW5rbm93bicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91clVua25vd24sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBJTW9kZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tb2RlLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBMZWdlbmRJdGVtIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCBBQ29udHJvbCBmcm9tIFwiLi9jb250cm9sLmFic3RyYWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sTGVnZW5kIGV4dGVuZHMgQUNvbnRyb2wge1xyXG5cclxuICAgIHByaXZhdGUgZWxDb250cm9sRGl2OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sLnNldFBvc2l0aW9uKCdib3R0b21yaWdodCcpO1xyXG5cclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5jbGFzc0xpc3QuYWRkKCdpbmZvJywgJ2xlZ2VuZCcpO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLm9wYWNpdHkgPSBcIjAuOFwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbC5vbkFkZCA9IChtYXA6IEwuTWFwKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsQ29udHJvbERpdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMZWdlbmQoaXRlbXM6IExlZ2VuZEl0ZW1bXSkge1xyXG5cclxuICAgICAgICBsZXQgaHRtbCA9ICcnO1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBpdGVtLmNvbG91ciArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiAnICsgaXRlbS5sYWJlbDtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY291bnQpIHtcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJyAoJyArIGl0ZW0uY291bnQgKyAnKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHRtbCArPSAnPGJyPic7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmlubmVySFRNTCA9IGh0bWw7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qXHJcblxyXG4gICAgZ2V0TGVnZW5kSFRNTCgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubmJuVGVjaE1hcC5jb250cm9scy5kaXNwbGF5TW9kZT8uZGlzcGxheU1vZGUgPT0gJ2VlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX0NCRF9aQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIENCRCAoJDAgQnVpbGQpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfQ0JEX0JDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSBDQkQgKEJ1aWxkIFBPQSk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9aMTIzX1pCQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgMS8yLzMgKCQwIEJ1aWxkKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX1oxMjNfQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIDEvMi8zIChCdWlsZCBQT0EpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyVW5rbm93bisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFVua25vd24nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubmJuVGVjaE1hcC5jb250cm9scy5kaXNwbGF5TW9kZT8uZGlzcGxheU1vZGUgPT0gJ3VwZ3JhZGUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0NPTVBMRVRFICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IENvbXBsZXRlZDxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9BVkFJTCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBBdmFpbGFibGU8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQnVpbGQgRmluYWxpc2VkPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0RFU0lHTiArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBJbiBEZXNpZ248YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQ09NTUlUVEVEICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IENvbW1pdHRlZDxicj4nXHJcbiAgICAgICAgICAgICsgJzxiPk11bHRpIER3ZWxsaW5nIFVuaXRzPC9iPjxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9NRFVfSU5CVUlMRCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBJbiBCdWlsZDxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9NRFVfRUxJR0lCTEUgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRWxsaWdpYmxlPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyVW5rbm93bisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFVua25vd24nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFRQKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUUDxicj4nICsgXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFRQQXZhaWwrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRQIFVwZ3JhZGU8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFRQU29vbisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVFAgVXBncmFkZSBTb29uPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VySEZDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gSEZDPGJyPicgKyBcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVEMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRDPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUTkIrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFROL0ZUVEI8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZXPGJyPicgK1xyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRldBdmFpbCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZXIFVwZ3JhZGU8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJTYXQrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBTYXRlbGxpdGU8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJVbmtub3duKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gVW5rbm93bic7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29udHJvbERpdihtYXApIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRyb2xEaXYpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250cm9sRGl2ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2luZm8gbGVnZW5kJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLm9wYWNpdHkgPSBcIjAuOFwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5wYWRkaW5nID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUud2lkdGggPSBcIjE1MHB4XCI7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5pbm5lckhUTUwgPSB0aGlzLmdldExlZ2VuZEhUTUwoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbERpdjtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoKCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5pbm5lckhUTUwgPSB0aGlzLmdldExlZ2VuZEhUTUwoKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5hZGRUbyh0aGlzLm5iblRlY2hNYXAubWFwKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUoKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgICovXHJcbn0iLCIvKipcclxuICogQGZpbGUgTWFpbiBlbnRyeSBwb2ludCBmb3IgbWFwIHNjcmlwdHMuXHJcbiAqIEBtb2R1bGUgaW5kZXgudHNcclxuICogQHZlcnNpb24gMS4wLjBcclxuICogQGF1dGhvciBLb2FsYUdcclxuICogQGxpY2Vuc2UgTUlUXHJcbiAqL1xyXG5cclxuaW1wb3J0IExpcEFwaSBmcm9tIFwiLi9hcGkvbGlwX2FwaS5jbGFzc1wiO1xyXG5pbXBvcnQgTmJuVGVjaE1hcCBmcm9tIFwiLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IENvbnRyb0Rpc3BsYXlNb2RlIGZyb20gXCIuL2NvbnRyb2xzL2NvbnRyb2xfZGlzcGxheV9tb2RlLmNsYXNzXCI7XHJcbmltcG9ydCB7IE1lbW9yeURhdGFzdG9yZSB9IGZyb20gXCIuL2RhdGFzdG9yZS9kYXRhc3RvcmUubWVtb3J5LmNsYXNzXCI7XHJcbmltcG9ydCBBbGxNb2RlIGZyb20gXCIuL21vZGVzL21vZGUuYWxsXCI7XHJcbmltcG9ydCBDb250cm9sTGVnZW5kIGZyb20gXCIuL2NvbnRyb2xzL2NvbnRyb2xfbGVnZW5kLmNsYXNzXCI7XHJcblxyXG5pbXBvcnQgJy4vYXNzZXRzL1NjcmVlbnNob3QxLnBuZyc7XHJcbmltcG9ydCAnLi9hc3NldHMvU2NyZWVuc2hvdDIucG5nJztcclxuaW1wb3J0ICcuL2Fzc2V0cy9TY3JlZW5zaG90My5wbmcnO1xyXG5cclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgTmJuUGxhY2UgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCdpbmRleC50cycpO1xyXG5cclxuY29uc3QgaXNEZXZlbG9wbWVudCA9ICgoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyB8fCBwcm9jZXNzLmFyZ3YuaW5jbHVkZXMoJ2RldmVsb3BtZW50Jyk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59KSgpO1xyXG5sb2dnZXIuZGVidWcoJ2lzRGV2ZWxvcG1lbnQnLCBpc0RldmVsb3BtZW50KTtcclxuXHJcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yICYmICFpc0RldmVsb3BtZW50KSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcignLi9zZXJ2aWNlLXdvcmtlci5qcycpLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcclxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ1NXIHJlZ2lzdGVyZWQ6ICcsIHJlZ2lzdHJhdGlvbik7XHJcbiAgICAgICAgfSkuY2F0Y2gocmVnaXN0cmF0aW9uRXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybignU1cgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgcmVnaXN0cmF0aW9uRXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHJlYWR5XHJcbiAqIEBkZXNjcmlwdGlvbiBFeGVjdXRlcyBhIGZ1bmN0aW9uIHdoZW4gdGhlIERPTSBpcyByZWFkeS5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW5jdGlvbiB0byBleGVjdXRlLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzk4OTk3MDEvMTI5MzI1Nn1cclxuICovXHJcbmZ1bmN0aW9uIHJlYWR5KGZuOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAvLyBzZWUgaWYgRE9NIGlzIGFscmVhZHkgYXZhaWxhYmxlXHJcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIikge1xyXG4gICAgICAgIC8vIGNhbGwgb24gbmV4dCBhdmFpbGFibGUgdGlja1xyXG4gICAgICAgIHNldFRpbWVvdXQoZm4sIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEV4ZWN1dGUgd2hlbiBET00gaXMgcmVhZHkuXHJcbnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGNvbnN0IG1hcEFwaSA9IG5ldyBMaXBBcGkoKTtcclxuICAgIC8vY29uc3QgZGF0YXN0b3JlID0gbmV3IEluZGV4REJEYXRhc3RvcmUoKTtcclxuICAgIGNvbnN0IGRhdGFzdG9yZSA9IG5ldyBNZW1vcnlEYXRhc3RvcmUoKTtcclxuICAgIC8vY29uc3QgbWFya2VyTGF5ZXIgPSBuZXcgTWFya2VyTGF5ZXJDbHVzdGVyKCk7XHJcblxyXG4gICAgY29uc3QgbW9kZUFsbCA9IG5ldyBBbGxNb2RlKCk7XHJcblxyXG4gICAgY29uc3QgbmJuVGVjaE1hcCA9IG5ldyBOYm5UZWNoTWFwKHtcclxuICAgICAgICBtYXBDb250YWluZXJJZDogJ21hcCcsXHJcbiAgICAgICAgYXBpOiBtYXBBcGksXHJcbiAgICAgICAgZGF0YXN0b3JlOiBkYXRhc3RvcmUsXHJcbiAgICAgICAgLy9tYXJrZXJMYXllcjogbWFya2VyTGF5ZXIsXHJcbiAgICAgICAgZGVmYXVsdE1vZGVIYW5kbGVyOiBtb2RlQWxsXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgQ29udHJvbHMgdG8gTWFwXHJcbiAgICAgKi9cclxuXHJcbiAgICAvLyBEaXNwbGF5IE1vZGUgQ29udHJvbFxyXG4gICAgY29uc3QgY0Rpc3BsYXlNb2RlID0gbmV3IENvbnRyb0Rpc3BsYXlNb2RlKCk7XHJcbiAgICBuYm5UZWNoTWFwLmFkZENvbnRyb2woJ2Rpc3BsYXltb2RlJywgY0Rpc3BsYXlNb2RlKTtcclxuXHJcbiAgICAvLyBMZWdlbmQgQ29udHJvbFxyXG4gICAgY29uc3QgY0xlZ2VuZCA9IG5ldyBDb250cm9sTGVnZW5kKCk7XHJcbiAgICBjTGVnZW5kLnVwZGF0ZUxlZ2VuZChtb2RlQWxsLmdldExlZ2VuZEl0ZW1zKCkpO1xyXG4gICAgbmJuVGVjaE1hcC5hZGRDb250cm9sKCdsZWdlbmQnLCBjTGVnZW5kKTtcclxuXHJcbiAgICAvLyBTZWFyY2ggQ29udHJvbFxyXG5cclxuICAgIC8vIFByb2dyZXNzIENvbnRyb2xcclxuXHJcbiAgICAvLyBBZGQgZXZlbnQgTGlzdGVuZXJzXHJcbiAgICBjRGlzcGxheU1vZGUub24oJ2NoYW5nZScsIChlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChlLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FsbCc6XHJcbiAgICAgICAgICAgICAgICBuYm5UZWNoTWFwLnNldE1vZGVIYW5kbGVyKG1vZGVBbGwpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VwZ3JhZGUnOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2VlJzpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59KSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICFzY3JpcHRVcmwpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNDM6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzE1NV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMSkpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsImZldGNoUGFnZSIsImJvdW5kcyIsInBhZ2UiLCJwcm9jZWVkIiwibm9ydGgiLCJnZXROb3J0aCIsInRvRml4ZWQiLCJlYXN0IiwiZ2V0RWFzdCIsInNvdXRoIiwiZ2V0U291dGgiLCJ3ZXN0IiwiZ2V0V2VzdCIsIkVycm9yIiwiTWF0aCIsIm1heCIsIk51bWJlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZmV0Y2giLCJtZXRob2QiLCJyZWRpcmVjdCIsInRoZW4iLCJyZXNwb25zZSIsInRleHQiLCJyZXN1bHQiLCJwYXJzZWRSZXN1bHQiLCJKU09OIiwicGFyc2UiLCJkYXRhIiwiY2F0Y2giLCJtYXAiLCJkYXRhc3RvcmUiLCJtb2RlSGFuZGxlciIsInBvaW50cyIsInRoaXMiLCJtYXJrZXJzIiwibWF4Q2x1c3RlclJhZGl1cyIsIm1hcmtlckNsdXN0ZXJSYWRpdXMiLCJzcGlkZXJmeU9uTWF4Wm9vbSIsImRpc2FibGVDbHVzdGVyaW5nQXRab29tIiwic2hvd0NvdmVyYWdlT25Ib3ZlciIsInpvb21Ub0JvdW5kc09uQ2xpY2siLCJyZW1vdmVPdXRzaWRlVmlzaWJsZUJvdW5kcyIsImljb25DcmVhdGVGdW5jdGlvbiIsImNodW5rZWRMb2FkaW5nIiwiY2h1bmtJbnRlcnZhbCIsImNodW5rRGVsYXkiLCJjaHVua1Byb2dyZXNzIiwicHJvY2Vzc2VkIiwidG90YWwiLCJlbGFwc2VkIiwiY29uc29sZSIsImxvZyIsImFkZFRvIiwib24iLCJldmVudCIsInRhcmdldCIsImdldFpvb20iLCJjbHVzdGVyIiwiY29sb3JBcnJheSIsImdldEFsbENoaWxkTWFya2VycyIsIm1hcmtlciIsIm9wdGlvbnMiLCJmaWxsQ29sb3IiLCJjb2xvckNvdW50cyIsImZvckVhY2giLCJjb2xvciIsImNvbG9yQXJyYXlTb3J0ZWQiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsImEiLCJiIiwiYmFja2dyb3VuZCIsImxhc3RDb2xvdXJQZXJjZW50IiwiaW5kZXgiLCJ0aGlzQ29sb3VyUGVyY2VudCIsImxlbmd0aCIsInJhbmRvbUlkIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJodG1sIiwiZ2V0Q2hpbGRDb3VudCIsImNsYXNzTmFtZSIsInpvb20iLCJzZXRNb2RlSGFuZGxlciIsInZhbHVlcyIsImxheWVyIiwicG9pbnQiLCJzZXRTdHlsZSIsInBvaW50Q29sb3VyIiwicmVkcmF3IiwiZXJyb3IiLCJnZXRMYXllcnMiLCJyZWZyZXNoQ2x1c3RlcnMiLCJyZWZyZXNoTWFya2Vyc0luc2lkZUJvdW5kcyIsIm1GaWx0ZXIiLCJnZXRGdWxsUG9pbnRzV2l0aGluQm91bmRzIiwibGF0TG5nU3RyaW5nIiwibGF0bG5nIiwicmVuZGVyUG9pbnQiLCJmaWx0ZXJlZFBvaW50cyIsImZpbHRlciIsInNob3dQb2ludCIsInBsYWNlcyIsInB1c2giLCJyZW1vdmVMYXllcnMiLCJhZGRMYXllcnMiLCJwIiwicmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMiLCJyZW1vdmVBbGxNYXJrZXJzIiwiY2xlYXJMYXllcnMiLCJjaXJjbGVNYXJrZXJMYXllciIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwicmFkaXVzIiwid2VpZ2h0Iiwib3BhY2l0eSIsImZpbGxPcGFjaXR5IiwiYmluZFBvcHVwIiwicmVuZGVyUG9wdXAiLCJhdXRvUGFuIiwiYXV0b0Nsb3NlIiwiYmluZFRvb2x0aXAiLCJyZW5kZXJUb29sdGlwIiwicmVuZGVyUG9wdXBDb250ZW50IiwicmVuZG9yUG9wdXBNdWx0aSIsImdyb3VwRGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGxhY2VDb250YWluZXJzIiwiYWRkcmVzczEiLCJwbGFjZSIsInBsYWNlQ29udGFpbmVyIiwicGxhY2VDb2xvdXIiLCJidXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJ0eXBlIiwiaW5uZXJIVE1MIiwicGFuZWwiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjdXJyZW50bHlBY3RpdmUiLCJjb250YWlucyIsInJlbW92ZSIsIm5hbWUiLCJzdWIiLCJMb2dnZXIiLCJhcmdzIiwid2FybiIsImRlYnVnIiwiaXNEZWJ1Z01vZGUiLCJpbmZvIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJyb3VuZEJvdW5kcyIsImNlaWwiLCJmbG9vciIsImxvZ2dlciIsIm1hcmtlckZpbHRlciIsImluaXRpYWxWaWV3U2V0IiwiY29udHJvbHMiLCJOYm5UZWNoTWFwIiwiREVGQVVMVF9PUFRJT05TIiwiYXBpIiwiZGVmYXVsdE1vZGVIYW5kbGVyIiwibWFwQ29udGFpbmVySWQiLCJwcmVmZXJDYW52YXMiLCJtYXJrZXJMYXllciIsIm1hcFRpbGVMYXllciIsImF0dHJpYnV0aW9uIiwic3ViZG9tYWlucyIsImNyb3NzT3JpZ2luIiwibWluWm9vbSIsIm1heFpvb20iLCJtYXBMb2NhdGUiLCJsb2NhdGUiLCJwb3NpdGlvbiIsImxvY2F0ZU9wdGlvbnMiLCJzZXRWaWV3Iiwia2VlcEN1cnJlbnRab29tTGV2ZWwiLCJpbml0aWFsWm9vbUxldmVsIiwiY2FjaGVMb2NhdGlvbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2V0SW5pdGlhbE1hcFZpZXciLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJzdHJpbmdpZnkiLCJsYXQiLCJsbmciLCJmZXRjaERhdGFGb3JDdXJyZW50VmlldyIsImdldFN0YXJ0UG9zIiwic3RhcnRQb3NTdHJpbmciLCJnZXRJdGVtIiwiZ2VvRmxhZyIsInN0YXJ0UG9zIiwic3RhcnQiLCJzZXRab29tIiwiZ2V0Qm94ZXNJbkJvdW5kcyIsIm5vcnRobW9zdCIsIndlc3RtbW9zdCIsImJveGVzIiwiYm94IiwiZ2V0Q3VycmVudFZpZXdCb3hlcyIsImdldEJvdW5kcyIsImhpZGVNYXJrZXJzT3V0c2lkZUN1cnJlbnRWaWV3IiwibWFwQm91bmRzIiwicGFkIiwiZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3IiwiYXR0ZW1wdCIsImlzUmVhZHkiLCJzZXRUaW1lb3V0IiwicmVmcmVzaFBvaW50c0Zyb21TdG9yZSIsImJveENodW5rcyIsImFycmF5Iiwic2l6ZSIsInJlc3VsdHMiLCJzcGxpY2UiLCJjaHVua0FycmF5IiwiaSIsImZldGNoUHJvbWlzZXMiLCJmZXRjaERhdGEiLCJhbGwiLCJpbnRlcnNlY3RzIiwicHJvY2Vzc0ZldGNoUmVzdWx0IiwibmV4dCIsIm1lc3NhZ2UiLCJwcm9jZXNzUHJvbWlzZSIsInN0b3JlUGxhY2VzIiwiYWRkQ29udHJvbCIsImtleSIsImNvbnRyb2wiLCJnZXRDb250cm9sIiwic2V0TWFya2VyRmlsdGVyIiwiZXZlbnRIYW5kbGVycyIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiZW1pdCIsImhhbmRsZXJzIiwic3RhdGUiLCJnZXRTdGF0ZSIsImRpc3BsYXlNb2RlIiwiZWxDb250cm9sRGl2IiwiZWxEcm9wZG93biIsImFsbExhYmVsIiwiYWxsUmFkaW8iLCJhbGxUZXh0IiwidXBncmFkZUxhYmVsIiwidXBncmFkZVJhZGlvIiwidXBncmFkZVRleHQiLCJlZUxhYmVsIiwiZWVSYWRpbyIsImVlVGV4dCIsImdlbmVyYXRlQ29udHJvbERpdiIsIm9uQWRkIiwiZ2VuZXJhdGVEcm9wZG93biIsImNoYW5nZU1vZGUiLCJtb2RlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiZHJvcGRvd24iLCJhbGxPcHRpb24iLCJ2YWx1ZSIsImlubmVyVGV4dCIsImUiLCJsYXRMbmdJbmRleCIsIm5iblBsYWNlU3RvcmUiLCJzdG9yZVBsYWNlIiwibGF0TG5nIiwibG9jaWQiLCJnZXRQbGFjZSIsImdldFBsYWNlcyIsImdldFBvaW50cyIsInNwbGl0IiwibG9jaWRzIiwiZ2V0UG9pbnRzV2l0aGluQm91bmRzIiwiaXNMYXRMbmdXaXRoaW5Cb3VuZHMiLCJnZXRQbGFjZXNBdExhdExuZyIsImdldFRlY2hDb2xvdXIiLCJ0ZWNoVHlwZSIsImlzUGxhY2VGVFRQIiwiYWx0UmVhc29uQ29kZSIsIm1hdGNoIiwidGVjaENoYW5nZVN0YXR1cyIsImlzUGxhY2VGVFRQQXZhaWwiLCJpc1BsYWNlRlRUUFNvb24iLCJpc1BsYWNlRlRUUEZhciIsInJlYXNvbkNvZGUiLCJpc1BsYWNlRlRUQyIsImlzRnd0b0ZUVEMiLCJpc0Z3dG9GVFROIiwiaXNTYXRUb0ZXIiwiY29udGVudCIsImNyZWF0ZSIsImFkZHJlc3MyIiwicHJvZ3JhbVR5cGUiLCJ0YXJnZXRFbGlnaWJpbGl0eVF1YXJ0ZXIiLCJlZSIsImNiZHByaWNpbmciLCJ6ZXJvQnVpbGRDb3N0IiwiaHIiLCJwcmUiLCJsYWJlbCIsImdldExlZ2VuZEl0ZW1zIiwiY29sb3VyIiwic2V0UG9zaXRpb24iLCJ1cGRhdGVMZWdlbmQiLCJpdGVtcyIsIml0ZW0iLCJjb3VudCIsImZuIiwiaXNEZXZlbG9wbWVudCIsInByb2Nlc3MiLCJhcmd2IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwicmVnaXN0cmF0aW9uIiwicmVnaXN0cmF0aW9uRXJyb3IiLCJtYXBBcGkiLCJNZW1vcnlEYXRhc3RvcmUiLCJtb2RlQWxsIiwibmJuVGVjaE1hcCIsImNEaXNwbGF5TW9kZSIsImNMZWdlbmQiLCJyZWFkeVN0YXRlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJtIiwiTyIsImNodW5rSWRzIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImZ1bGZpbGxlZCIsImoiLCJldmVyeSIsInIiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVwbGFjZSIsImJhc2VVUkkiLCJzZWxmIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwiYmluZCIsIm5jIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=