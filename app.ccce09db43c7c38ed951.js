(()=>{"use strict";var t,e={224:(t,e,n)=>{const r=function(){function t(){}return t.prototype.fetchPage=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=function(){return!0}),r=this,o=void 0,i=function(){var r,o,a,i;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(s){switch(s.label){case 0:if(r=t.getNorth().toFixed(2),o=t.getEast().toFixed(2),a=t.getSouth().toFixed(2),i=t.getWest().toFixed(2),!n())throw new Error("Proceed function returned false. Stopping fetch.");return e=Math.max(1,Number(e)),"https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(a,"/").concat(i,"?page=").concat(e),[4,new Promise((function(t,n){fetch("https://api.lip.net.au/nbn-bulk/map/".concat(r,"/").concat(o,"/").concat(a,"/").concat(i,"?page=").concat(e),{method:"GET",redirect:"follow"}).then((function(t){return t.text()})).then((function(e){var n=JSON.parse(e);t(n.data)})).catch(n)}))];case 1:return[2,s.sent()]}}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{c(i.next(t))}catch(t){e(t)}}function s(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof a?r:new a((function(t){t(r)}))).then(n,s)}c((i=i.apply(r,o||[])).next())}));var r,o,a,i},t}();n(623);var o=n(243),a=(n(664),n(687),n(634),n(817)),i=(n(732),n(256),function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))}),s=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};const c=function(){function t(t,e,n){this.pointMap=new Map,this.map=t,this.placeStore=n,this.modeHandler=e,this.markers=new o.MarkerClusterGroup({maxClusterRadius:this.markerClusterRadius,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:18,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,iconCreateFunction:this.iconCreateFunction,chunkedLoading:!0,chunkInterval:150,chunkDelay:150,chunkProgress:function(t,e,n){console.log("chunkProgress",{processed:t,total:e,elapsed:n})}}),this.markers.addTo(this.map),this.map.on("zoomend",(function(t){console.log("zoomend",t.target.getZoom())}))}return t.prototype.addPoints=function(t){var e=this,n=[];t.forEach((function(t){var r=t.lat+","+t.lng,o=e.pointMap.get(r);if(o)o.point=t;else{var a=e.renderPoint(t);n.push(a),e.pointMap.set(r,{layer:a,point:t})}})),n.length&&this.markers.addLayers(n)},t.prototype.markerClusterRadius=function(t){switch(t){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:return 150;case 14:return 100;default:return 0}},t.prototype.updatePointStyle=function(t,e){e.setStyle({fillColor:this.modeHandler.placeColour(t[0])}),e.setTooltipContent(this.modeHandler.renderTooltip(t)),e.redraw()},t.prototype.setModeHandler=function(t,e){var n=this;return this.modeHandler=t,this.pointMap.forEach((function(t){var r=t.layer,o=t.point;e.getPlaces(o.ids).then((function(t){return n.updatePointStyle(t,r)}))})),this.markers&&this.markers.getLayers().length&&this.markers.refreshClusters(),this},t.prototype.DEP_refreshMarkersInsideBounds=function(t,e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},t.prototype.removeMarkersOutsideBounds=function(t){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},t.prototype.removeAllMarkers=function(){var t;return i(this,void 0,void 0,(function(){return s(this,(function(e){return null===(t=this.markers)||void 0===t||t.clearLayers(),[2]}))}))},t.prototype.renderPoint=function(t){var e=this,n=o.circleMarker([t.lat,t.lng],{radius:5,fillColor:t.col?t.col[0]:void 0,color:"#000000",weight:1,opacity:1,fillOpacity:.8});return n.bindPopup((function(n){e.placeStore.getPlaces(t.ids).then((function(t){var r=e.renderPopup(t);n.setPopupContent(r)}));var r=document.createElement("div");return r.innerHTML='<div class="loading">Loading...</div>',r}),{autoPan:!0,autoClose:!1}),n.bindTooltip((function(e){var n=t.add[0];return t.add.length>1&&(n+=" ( + "+(t.add.length-1)+" more)"),n}),{}),n},t.prototype.renderPopup=function(t){return 1==t.length?this.modeHandler.renderPopupContent(t[0]):this.rendorPopupMulti(t)},t.prototype.rendorPopupMulti=function(t){var e,n,r=document.createElement("div"),o=[];t.sort((function(t,e){return t.address1<e.address1?-1:t.address1>e.address1?1:0}));var a=function(t){var e=document.createElement("div"),n=i.modeHandler.placeColour(t),a=document.createElement("button");a.classList.add("accordion"),a.type="button",a.innerHTML='<svg height="15" width="15" style="margin-right:3px">'+'<circle class="circle" cx="7.5" cy="9" r="5" stroke="#000" stroke-width="1" fill="'.concat(n,'" />')+"</svg>"+"<span>".concat(t.address1,"</span>");var s=document.createElement("div");s.classList.add("panel"),s.appendChild(i.modeHandler.renderPopupContent(t)),a.addEventListener("click",(function(){var t=e.classList.contains("active");o.forEach((function(t){t.classList.remove("active")})),t||e.classList.add("active")})),e.appendChild(a),e.appendChild(s),r.appendChild(e),o.push(e)},i=this;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),c=s.next();!c.done;c=s.next())a(c.value)}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},t.prototype.iconCreateFunction=function(t){var e=t.getAllChildMarkers().map((function(t){return t.options.fillColor})),n={};e.forEach((function(t){n[t]||(n[t]=0),n[t]++}));var r=Object.keys(n).sort((function(t,e){return n[e]-n[t]})),a="background: conic-gradient(",i=0;r.forEach((function(t,r){0==r&&(a+="\n"+t+" 0%");var o=n[t]/e.length*100;a+=", \n"+t+" "+i+"%",a+=", \n"+t+" "+(i+o)+"%",i+=o})),a+="\n);";var s=Math.random().toString(36).substring(7);return o.divIcon({html:"<style>#cluster_".concat(s,"::before { ").concat(a," }</style> <div id='cluster_").concat(s,"'><span>")+t.getChildCount()+"</span></div>",className:"marker-cluster"})},t}();var l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},u=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},p=function(){function t(t){this.name=t}return t.prototype.sub=function(e){return new t("".concat(this.name,".").concat(e))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,u(["[".concat(this.name,"]")],l(t),!1))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.warn.apply(console,u(["[".concat(this.name,"]")],l(t),!1))},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];d()&&console.debug.apply(console,u(["[".concat(this.name,"]")],l(t),!1))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.info.apply(console,u(["[".concat(this.name,"]")],l(t),!1))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,u(["[".concat(this.name,"]")],l(t),!1))},t}();function d(){return window.location.href.includes("localhost")||window.location.href.includes("debug=true")}var h=function(){return h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h.apply(this,arguments)},f=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},v=function(){function t(e){var n=this;this.logger=new p("NbnTechMap"),this.markerFilter=function(t){return!0},this.initialViewSet=!1,this.fetchedBoxes=new Set,this.progressControl=new o.Control({position:"bottomleft"}),this.progressItems={},this.controls={},e=h(h({},t.DEFAULT_OPTIONS),e),this.api=e.api,this.placeStore=e.placestore,this.modeHandler=e.defaultModeHandler,this.map=o.map(e.mapContainerId,{preferCanvas:!0}),this.markerLayer=new c(this.map,this.modeHandler,this.placeStore),this.mapTileLayer=o.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",crossOrigin:!0,minZoom:5,maxZoom:20}),this.mapTileLayer.addTo(this.map),console.log({L:o,Geocoder:a.Ms,geocoder:a.yK});var r=new a.d2.ArcGis({apiKey:"AAPKa97b8a5374db4fa9b0fdd8e55361cba4Z9fEuw3ckAOIFHK1CP_VbzTv3OTeUz3ggrFAzVPzjyn3Q7bQFzbwkDMvDxaJ-JzG",geocodingQueryParams:{countryCode:"AU",category:"Address,LatLong,Neighborhood,District,City,Metro Area"}});this.mapSearch=o.Control.geocoder({position:"topleft",collapsed:!0,defaultMarkGeocode:!1,geocoder:r,suggestMinLength:5,suggestTimeout:1e3}),this.mapSearch.on("markgeocode",(function(t){var e=t.geocode.bbox;n.map.fitBounds(e,{maxZoom:16})})),this.mapSearch.addTo(this.map),this.mapLocate=o.control.locate({position:"topleft",locateOptions:{maxZoom:16},setView:"untilPan",keepCurrentZoomLevel:!0,initialZoomLevel:17,cacheLocation:!0}),this.mapLocate.addTo(this.map),this.map.on("locateactivate",(function(){localStorage.setItem("geolocate","1")})),this.map.on("locatedeactivate",(function(){localStorage.removeItem("geolocate")})),this.setInitialMapView(),this.map.on("moveend",(function(){return f(n,void 0,void 0,(function(){var t,e;return g(this,(function(n){return t=this.map.getCenter(),e=this.map.getZoom(),localStorage.setItem("startpos",JSON.stringify({lat:t.lat,lng:t.lng,zoom:e})),this.pushBrowserHistory(),r.options.geocodingQueryParams&&(r.options.geocodingQueryParams.location="".concat(t.lng,",").concat(t.lat)),this.fetchDataForCurrentView(),[2]}))}))})),this.fetchDataForCurrentView(),window.addEventListener("popstate",(function(){var t=new URLSearchParams(window.location.search),e=t.get("lat"),r=t.get("lng"),o=t.get("zoom");e&&r&&o&&(n.map.setView([Number(e),Number(r)],parseInt(o)),n.initialViewSet=!0)}))}return t.prototype.pushBrowserHistory=function(){var t=this.map.getCenter(),e=this.map.getZoom(),n=new URLSearchParams(window.location.search);n.set("lat",t.lat.toString()),n.set("lng",t.lng.toString()),n.set("zoom",e.toString());var r=window.location.pathname+"?"+n.toString();window.history.pushState({},"",r)},t.prototype.getStartPos=function(){var t=localStorage.getItem("startpos");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}},t.prototype.setInitialMapView=function(){var t=this.logger.sub("setInitialMapView");if(this.initialViewSet)t.warn("Initial map view already set");else{var e=new URLSearchParams(window.location.search),n=e.get("lat"),r=e.get("lng"),o=e.get("zoom");if(n&&r&&o)return this.map.setView([Number(n),Number(r)],parseInt(o)),void(this.initialViewSet=!0);var a=localStorage.getItem("geolocate"),i=this.getStartPos();i&&(this.map.setView([i.lat,i.lng],i.zoom),this.initialViewSet=!0),i||(this.map.setView([-26.1772288,133.4170119],10),this.initialViewSet=!0),!a&&i||(this.mapLocate.start(),this.map.setZoom(17),this.initialViewSet=!0),this.initialViewSet||t.error("Could not set initial map view")}},t.prototype.getBoxesInBounds=function(t){for(var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=[],a=e;a>t.getSouth();a-=.02)for(var i=n;i<t.getEast();i+=.04)r.push([a,i]);return r.map((function(t){var e=t[0],n=t[1],r=e-.02,a=n+.04;return o.latLngBounds([r,n],[e,a])}))},t.prototype.getCurrentViewBoxes=function(){return this.getBoxesInBounds(this.map.getBounds())},t.prototype.hideMarkersOutsideCurrentView=function(){var t=this.map.getBounds().pad(.5);this.markerLayer.removeMarkersOutsideBounds(t)},t.prototype.DEP_displayMarkersInCurrentView=function(t){return void 0===t&&(t=1),f(this,void 0,void 0,(function(){return g(this,(function(t){return[2]}))}))},t.prototype.showZoomInWarning=function(){var t=this;this.zoomInWarningControl||(this.zoomInWarningControl=new o.Control({position:"topright"}),this.zoomInWarningControl.onAdd=function(){var t=o.DomUtil.create("div","info legend");return t.innerHTML='<h4 style="margin:0">Area Too Big!</h4>',t.innerHTML+='<p style="margin:0">Location loading is paused until you zoom in.</p>',t.style.backgroundColor="#ff9800",t.style.opacity="0.8",t.style.padding="10px 20px",t.style.color="#ffffff",t});var e=this.zoomInWarningControl;setTimeout((function(){return t.map.addControl(e)}),1e3)},t.prototype.hideZoomInWarning=function(){this.zoomInWarningControl&&this.map.removeControl(this.zoomInWarningControl)},t.prototype.fetchDataForCurrentView=function(){return f(this,void 0,void 0,(function(){var t,e,n,r,o,a,i,s,c,l,u,p,d=this;return g(this,(function(h){switch(h.label){case 0:if(t=this.logger.sub("fetchDataForCurrentView"),this.hideMarkersOutsideCurrentView(),this.map.getZoom()<11)return t.warn("Zoom level too low. Skipping."),this.showZoomInWarning(),[2];if(e=this.getCurrentViewBoxes(),t.debug("Current view boxes",e),n=e.filter((function(t){return!d.fetchedBoxes.has(t.getCenter().toString())})),0==n.length)return this.hideZoomInWarning(),[2];if(n.length>500)return t.warn("Too many boxes to fetch. Skipping."),this.showZoomInWarning(),[2];this.hideZoomInWarning(),r=this.map.getCenter().toString()+this.map.getZoom(),o=this.createProgress(r,n.length,"Fetching sections..."),this.renderProgress(),a=0,h.label=1;case 1:h.trys.push([1,6,7,8]),i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),s=i.next(),h.label=2;case 2:return s.done?[3,5]:(c=s.value,this.map.getCenter().toString()+this.map.getZoom()!=r?(t.debug("Map moved. Fetch stopped."),o.text="Map moved. Fetch stopped.",this.updateProgress(r,a,!0),[2]):[4,this.fetchData(c)]);case 3:h.sent(),this.fetchedBoxes.add(c.getCenter().toString()),a++,this.updateProgress(r,a,!1),h.label=4;case 4:return s=i.next(),[3,2];case 5:return[3,8];case 6:return l=h.sent(),u={error:l},[3,8];case 7:try{s&&!s.done&&(p=i.return)&&p.call(i)}finally{if(u)throw u.error}return[7];case 8:return this.updateProgress(r,a,!0),t.debug("All boxes fetched"),[2]}}))}))},t.prototype.createProgress=function(t,e,n){return this.progressItems[t]={started:new Date,finished:void 0,complete:!1,progress:0,total:e,text:n},this.progressItems[t]},t.prototype.updateProgress=function(t,e,n){if(!this.progressItems[t])throw new Error("Progress item with key ".concat(t," does not exist"));this.progressItems[t].finished=n?new Date:void 0,this.progressItems[t].complete=n,this.progressItems[t].progress=e,this.renderProgress()},t.prototype.renderProgress=function(){for(var t=this,e=new Date,n=Object.keys(this.progressItems),r=0;r<n.length;r++){var a=n[r];if(this.progressItems[a]){var i=this.progressItems[a].finished;i&&e.getTime()-i.getTime()>5e3&&delete this.progressItems[a]}}0!=Object.keys(this.progressItems).length?(this.progressControl.onAdd=function(){var e=o.DomUtil.create("div","info legend");e.innerHTML='<h4 style="margin:0">Loading...</h4>';for(var n=Object.values(t.progressItems),r=0;r<n.length;r++){var a=n[r];if(!(a.finished&&(new Date).getTime()-a.finished.getTime()>1e4)){var i=a.progress/a.total*100,s=a.complete?"Complete":"".concat(a.progress," of ").concat(a.total);e.innerHTML+='<p style="margin:0">'.concat(a.text," (").concat(s,")</p>"),e.innerHTML+='<progress value="'.concat(i,'" max="100"></progress>')}}return e.style.backgroundColor="#000000",e.style.opacity="0.8",e.style.padding="10px 20px",e.style.color="#ffffff",e},this.map.addControl(this.progressControl),setTimeout((function(){Object.values(t.progressItems).every((function(t){return t.complete}))&&t.hideProgress()}),5e3)):this.hideProgress()},t.prototype.hideProgress=function(){this.map.removeControl(this.progressControl)},t.prototype.fetchData=function(t,e){return void 0===e&&(e=1),f(this,void 0,void 0,(function(){var n,r,o=this;return g(this,(function(a){switch(a.label){case 0:d()&&console.log("Fetching Box",t.getCenter().toString(),e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,this.api.fetchPage(t,e,(function(){return o.map.getBounds().intersects(t)}))];case 2:return n=a.sent(),this.processFetchResult(n,t),n.next?[4,this.fetchData(t,n.next)]:[3,4];case 3:return[2,a.sent()];case 4:return[2];case 5:return"Page already loaded this session."==(r=a.sent()).message?[2]:(console.error(r),[3,6]);case 6:return[2]}}))}))},t.prototype.processFetchResult=function(t,e){var n,r;this.placeStore.storePlaces(t.places);for(var o={},a=0;a<t.places.length;a++){var i=t.places[a],s="".concat(i.latitude,",").concat(i.longitude),c=this.modeHandler.placeColour(i);o[s]||(o[s]={lat:i.latitude,lng:i.longitude,col:[],add:[],ids:[]}),o[s].ids.includes(i.locid)||(o[s].ids.push(i.locid),null===(n=o[s].add)||void 0===n||n.push(i.address1),null===(r=o[s].col)||void 0===r||r.push(c))}var l=Object.values(o);this.markerLayer.addPoints(l)},t.prototype.DEPR_refreshPointsFromStore=function(t){return f(this,void 0,void 0,(function(){return g(this,(function(e){if(!this.markerLayer)throw new Error("Marker Layer not set");return t||(console.log("Bounds not passed. Using map bounds."),t=this.map.getBounds()),t=function(t){var e=Math.ceil(50*t.getNorth())/50,n=Math.floor(25*t.getWest())/25,r=Math.floor(50*t.getSouth())/50,a=Math.ceil(25*t.getEast())/25;return o.latLngBounds([r,n],[e,a])}(t),[2]}))}))},t.prototype.addControl=function(t,e){if(this.controls[t])throw new Error("Control with key ".concat(t," already exists"));this.controls[t]=e,this.map.addControl(e.getControl()),console.log("Added control",t)},t.prototype.setMarkerFilter=function(t){if(!this.markerLayer)throw new Error("Marker Layer not set");this.markerFilter=t},t.prototype.setModeHandler=function(t){var e;this.modeHandler=t,null===(e=this.markerLayer)||void 0===e||e.setModeHandler(t,this.placeStore)},t.DEFAULT_OPTIONS={mapContainerId:"map"},t}();const m=v,y=function(){function t(){this.eventHandlers={},this.control=new o.Control}return t.prototype.on=function(t,e){this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},t.prototype.emit=function(t,e){var n=this;console.debug("Emitting event: ".concat(t),{data:e,handlers:this.eventHandlers[t]}),this.eventHandlers[t]&&this.eventHandlers[t].forEach((function(r){return r({name:t,state:n.getState(),data:e})}))},t.prototype.getControl=function(){return this.control},t}();var b,w=(b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},b(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const C=function(t){function e(){var e=t.call(this)||this;return e.displayMode="all",e.elControlDiv=document.createElement("div"),e.elDropdown=document.createElement("select"),e.allLabel=null,e.allRadio=null,e.allText=null,e.upgradeLabel=null,e.upgradeRadio=null,e.upgradeText=null,e.eeLabel=null,e.eeRadio=null,e.eeText=null,e.generateControlDiv(),e.control.onAdd=function(t){return e.generateDropdown(),e.elControlDiv},e}return w(e,t),e.prototype.getState=function(){return this.displayMode},e.prototype.changeMode=function(t){this.displayMode=t,this.emit("change",t)},e.prototype.generateControlDiv=function(){this.elControlDiv&&console.warn("ControlDiv already exists"),this.elControlDiv.classList.add("info","legend"),this.elControlDiv.style.backgroundColor="#ffffff",this.elControlDiv.style.opacity="0.8",this.elControlDiv.style.padding="5px",this.elControlDiv.style.borderRadius="5px"},e.prototype.generateDropdown=function(){var t=this;this.elDropdown&&console.warn("Dropdown already exists");var e=this.elDropdown;e.classList.add("control-select");var n=document.createElement("option");n.value="all",n.innerText="Show All Locations",e.appendChild(n),e.addEventListener("change",(function(e){return t.changeMode(e.target.value)})),this.elDropdown=e,this.elControlDiv.appendChild(e)},e}(y);var T="#1D7044",S="#75AD6F",x="#C8E3C5",k="#FFBE00",P="#FF7E01",M="#E3071D",E="#02B9E3",L="#022BE3",D="#6B02E3",F="#888888";function O(t){switch(t){case"FTTP":return T;case"FTTC":return P;case"FTTN":case"FTTB":return M;case"HFC":return k;case"WIRELESS":return E;case"SATELLITE":return D}return F}const I=function(){function t(){}return t.prototype.filter=function(t){return!0},t.prototype.pointColour=function(t){return this.placeColour(t.places[0])},t.prototype.placeColour=function(t){return function(t){return"FTTP"===t.techType}(t)?T:function(t){return!(!t.altReasonCode||!t.altReasonCode.match(/^FTTP/)||"Eligible To Order"!==t.techChangeStatus)}(t)?S:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/))switch(t.techChangeStatus){case"In Design":case"Build Finalised":case"Planned":case"MDU Complex Eligible To Apply":case"MDU Complex Premises In Build":return!0}return!1}(t)?x:function(t){if(t.altReasonCode&&t.altReasonCode.match(/^FTTP/)&&"Committed"===t.techChangeStatus)return!0}(t)?O(t.techType):function(t){return!("FTTC"!=t.techType||!t.reasonCode||!t.reasonCode.match(/^FTTC/)||"New Tech Connected"!=t.techChangeStatus)}(t)?P:function(t){return"FTTC"==t.techType&&"FTTC_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?"#FF7E01":function(t){return"FTTN"==t.techType&&"FTTN_SA"==t.reasonCode&&"FW_CT"==t.altReasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?M:function(t){return"WIRELESS"==t.techType&&"FW_SA"==t.reasonCode&&"Eligible To Order"==t.techChangeStatus}(t)?L:(t.altReasonCode&&"NULL_NA"!=t.altReasonCode&&console.log(t),O(t.techType))},t.prototype.renderPopupContent=function(t){var e=o.DomUtil.create("div");if(e.innerHTML="<b>"+t.locid+"</b></br>"+t.address1+"</br>"+t.address2+"</br><br />",e.innerHTML+="<b>Technology Plan</b></br>","FTTP"!=t.techType&&t.altReasonCode&&"NULL_NA"!=t.altReasonCode?(t.altReasonCode&&t.altReasonCode.match(/^FTTP/),e.innerHTML+="Current: "+t.techType+"<br />",e.innerHTML+="Change: "+t.altReasonCode+"<br />",e.innerHTML+="Status: "+t.techChangeStatus+"<br />",e.innerHTML+="Program: "+t.programType+"<br />",e.innerHTML+="Target Qtr: "+t.targetEligibilityQuarter+"<br />"):(e.innerHTML+="Technology: "+t.techType+"<br />","FTTP"!=t.techType&&(e.innerHTML+="No tech upgrade planned<br />")),e.innerHTML+="<br />",t.ee&&(e.innerHTML+="<b>Enterprise Ethernet</b></br>",e.innerHTML+="Price Zone: "+(t.cbdpricing?"CBD":"Zone 1/2/3")+"<br />",e.innerHTML+="Build Cost: "+(t.zeroBuildCost?"$0":"POA")+"<br />",e.innerHTML+="<br />"),d()){var n=o.DomUtil.create("hr"),r=o.DomUtil.create("pre");r.innerHTML=JSON.stringify(t,null,2),e.appendChild(n),e.appendChild(r)}return e},t.prototype.renderTooltip=function(t){var e=t[0].address1;return t.length>1&&(e+=" ( + "+(t.length-1)+" more)"),e},t.prototype.getLegendItems=function(){return[{label:"FTTP",colour:T},{label:"FTTP Upgrade",colour:S},{label:"FTTP Upgrade Soon",colour:x},{label:"HFC",colour:k},{label:"FTTC",colour:P},{label:"FTTN/FTTB",colour:M},{label:"FW",colour:E},{label:"FW Upgrade",colour:L},{label:"Satellite",colour:D},{label:"Unknown",colour:F}]},t}();var H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const B=function(t){function e(){var e=t.call(this)||this;return e.elControlDiv=document.createElement("div"),e.control.setPosition("bottomright"),e.elControlDiv.classList.add("info","legend"),e.elControlDiv.style.backgroundColor="#ffffff",e.elControlDiv.style.opacity="0.8",e.elControlDiv.style.padding="5px",e.elControlDiv.style.borderRadius="5px",e.control.onAdd=function(t){return e.elControlDiv},e}return H(e,t),e.prototype.getState=function(){},e.prototype.updateLegend=function(t){var e="";t.forEach((function(t){e+='<svg height="10" width="10"><circle cx="5" cy="5" r="5" fill="'+t.colour+'" stroke="#000000" stroke-width="1" opacity="1" fill-opacity="0.8" /></svg> '+t.label,t.count&&(e+=" ("+t.count+")"),e+="<br>"})),this.elControlDiv.innerHTML=e},e}(y);n.p,n.p,n.p;var A,R=n(269),_=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},z=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},V=function(){function t(){var t=this;this.DB_NAME="nsm-placestore",this.logger=new p("IndexDBPlaceStore"),this.logger.info("Setting up database..."),(0,R.X3)(this.DB_NAME,1,{upgrade:function(t,e,n,r,o){t.objectStoreNames.contains("nbnPlaceStore")||t.createObjectStore("nbnPlaceStore",{keyPath:"locid"})},blocked:function(e,n,r){t.logger.warn("Database blocked!",{currentVersion:e,blockedVersion:n,event:r})},blocking:function(e,n,r){t.logger.warn("Database blocking!",{currentVersion:e,blockedVersion:n,event:r})},terminated:function(){t.logger.warn("Database terminated!")}}).then((function(e){t.db=e,t.logger.info("Database ready!")})).catch((function(e){t.logger.error("Failed to open database: ",e)})).finally((function(){t.logger.info("Database setup complete.")}))}return t.prototype.isReady=function(){return!!this.db},t.prototype.waitUntilReady=function(t){return _(this,void 0,void 0,(function(){var e=this;return z(this,(function(n){return[2,new Promise((function(n,r){var o=Date.now(),a=setInterval((function(){var i=Date.now()-o;e.isReady()?(clearInterval(a),n()):i>1e3*t&&(clearInterval(a),r(new Error("Database not ready after ".concat(t," seconds."))))}),100)}))]}))}))},t.prototype.storePlace=function(t){return _(this,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,this.getDb()];case 1:return[4,e.sent().put("nbnPlaceStore",t)];case 2:return e.sent(),[2]}}))}))},t.prototype.storePlaces=function(t){return _(this,void 0,void 0,(function(){var e,n,r;return z(this,(function(o){switch(o.label){case 0:return[4,this.getDb()];case 1:return e=o.sent(),n=e.transaction(["nbnPlaceStore"],"readwrite",{durability:"relaxed"}),r=n.objectStore("nbnPlaceStore"),[4,t.map((function(t){return r.put(t)}))];case 2:return o.sent(),[4,n.done];case 3:return o.sent(),[2]}}))}))},t.prototype.getPlace=function(t){return _(this,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,this.getDb()];case 1:return[4,e.sent().get("nbnPlaceStore",t)];case 2:return[2,e.sent()]}}))}))},t.prototype.getPlaces=function(t){return _(this,void 0,void 0,(function(){var e,n,r,o;return z(this,(function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return e=a.sent(),n=e.transaction(["nbnPlaceStore"],"readonly"),r=n.objectStore("nbnPlaceStore"),[4,Promise.all(t.map((function(t){return r.get(t)})))];case 2:return o=a.sent(),[4,n.done];case 3:return a.sent(),[2,o.filter((function(t){return!!t}))]}}))}))},t.prototype.getDb=function(t){return void 0===t&&(t=5),_(this,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,this.waitUntilReady(t)];case 1:if(e.sent(),!this.db)throw new Error("Database not ready.");return[2,this.db]}}))}))},t}(),N=new p("index.ts"),j=function(){try{return process.argv.includes("development")}catch(t){return!1}}();N.debug("isDevelopment",j),"serviceWorker"in navigator&&!j&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(t){N.info("SW registered: ",t)})).catch((function(t){N.warn("SW registration failed: ",t)}))})),A=function(){var t=new r,e=new I,n=new V,o=new m({mapContainerId:"map",api:t,defaultModeHandler:e,placestore:n}),a=new C;o.addControl("displaymode",a);var i=new B;i.updateLegend(e.getLegendItems()),o.addControl("legend",i),a.on("change",(function(t){"all"===t.state&&o.setModeHandler(e)}))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(A,1):document.addEventListener("DOMContentLoaded",A)},36:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 stroke=%27%23000%27 stroke-linecap=%27round%27 stroke-width=%271.6%27 viewBox=%270 0 24 24%27%3E%3Cdefs/%3E%3Cg%3E%3Cpath stroke-opacity=%27.1%27 d=%27M14 8.4l3-5%27/%3E%3Cpath stroke-opacity=%27.2%27 d=%27M15.6 10l5-3%27/%3E%3Cpath stroke-opacity=%27.3%27 d=%27M16.2 12H22%27/%3E%3Cpath stroke-opacity=%27.4%27 d=%27M15.6 14l5 3m-6.5-1.4l2.9 5%27/%3E%3Cpath stroke-opacity=%27.5%27 d=%27M12 16.2V22m-2-6.4l-3 5%27/%3E%3Cpath stroke-opacity=%27.6%27 d=%27M8.4 14l-5 3%27/%3E%3Cpath stroke-opacity=%27.7%27 d=%27M7.8 12H2%27/%3E%3Cpath stroke-opacity=%27.8%27 d=%27M8.4 10l-5-3%27/%3E%3Cpath stroke-opacity=%27.9%27 d=%27M10 8.4l-3-5%27/%3E%3Cpath d=%27M12 7.8V2%27/%3E%3CanimateTransform attributeName=%27transform%27 calcMode=%27discrete%27 dur=%271s%27 repeatCount=%27indefinite%27 type=%27rotate%27 values=%270 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12%27/%3E%3C/g%3E%3C/svg%3E"},585:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Cpath d=%27M12.2 13l3.4 6.6c.6 1.1 2.5-.4 2-1.2l-4-6.2z%27/%3E%3Ccircle cx=%2710.8%27 cy=%278.9%27 r=%273.9%27 fill=%27none%27 stroke=%27%23000%27 stroke-width=%271.5%27/%3E%3C/svg%3E"},539:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M304 48a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48 368a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm208-208a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM96 256a48 48 0 1 0-96 0 48 48 0 0 0 96 0zm13 99a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm294 0a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM109 61a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"/></svg>'},141:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="black" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},478:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%28252, 132, 40%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'},38:t=>{t.exports='data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="rgb%2832, 116, 182%29" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>'}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={id:t,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.exports}r.m=e,t=[],r.O=(e,n,o,a)=>{if(!n){var i=1/0;for(u=0;u<t.length;u++){for(var[n,o,a]=t[u],s=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((t=>r.O[t](n[c])))?n.splice(c--,1):(s=!1,a<i&&(i=a));if(s){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,o,a]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!t;)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{r.b=document.baseURI||self.location.href;var t={143:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,a,[i,s,c]=n,l=0;if(i.some((e=>0!==t[e]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var u=c(r)}for(e&&e(n);l<i.length;l++)a=i[l],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.nc=void 0;var o=r.O(void 0,[578],(()=>r(224)));o=r.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJQyxFQUF1QixDQUFDQyxFQUE0Qi9hLEtBQ3ZELElBR0lrWSxFQUFVMkMsR0FIVGxDLEVBQVVxQyxFQUFhQyxHQUFXamIsRUFHaEIrUCxFQUFJLEVBQzNCLEdBQUc0SSxFQUFTdUMsTUFBTTVDLEdBQWdDLElBQXhCc0MsRUFBZ0J0QyxLQUFhLENBQ3RELElBQUlKLEtBQVk4QyxFQUNaL0MsRUFBb0J1QixFQUFFd0IsRUFBYTlDLEtBQ3JDRCxFQUFvQlEsRUFBRVAsR0FBWThDLEVBQVk5QyxJQUdoRCxHQUFHK0MsRUFBUyxJQUFJcmIsRUFBU3FiLEVBQVFoRCxFQUNsQyxDQUVBLElBREc4QyxHQUE0QkEsRUFBMkIvYSxHQUNyRCtQLEVBQUk0SSxFQUFTOVYsT0FBUWtOLElBQ3pCOEssRUFBVWxDLEVBQVM1SSxHQUNoQmtJLEVBQW9CdUIsRUFBRW9CLEVBQWlCQyxJQUFZRCxFQUFnQkMsSUFDckVELEVBQWdCQyxHQUFTLEtBRTFCRCxFQUFnQkMsR0FBVyxFQUU1QixPQUFPNUMsRUFBb0JTLEVBQUU5WSxFQUFPLEVBR2pDdWIsRUFBcUJSLEtBQW1CLGFBQUlBLEtBQW1CLGNBQUssR0FDeEVRLEVBQW1CalosUUFBUTRZLEVBQXFCTSxLQUFLLEtBQU0sSUFDM0RELEVBQW1CelksS0FBT29ZLEVBQXFCTSxLQUFLLEtBQU1ELEVBQW1CelksS0FBSzBZLEtBQUtELEcsS0NoRHZGbEQsRUFBb0JvRCxRQUFLL1csRUNHekIsSUFBSWdYLEVBQXNCckQsRUFBb0JTLE9BQUVwVSxFQUFXLENBQUMsTUFBTSxJQUFPMlQsRUFBb0IsT0FDN0ZxRCxFQUFzQnJELEVBQW9CUyxFQUFFNEMsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovLy8uL3NyYy9hcGkvbGlwX2FwaS5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFya2VybGF5ZXIvbWFya2VybGF5ZXIuY2x1c3Rlci5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25ibl90ZWNoX21hcC5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbC5hYnN0cmFjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbHMvY29udHJvbF9kaXNwbGF5X21vZGUuY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVzL21vZGUuYWxsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9scy9jb250cm9sX2xlZ2VuZC5jbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsYWNlc3RvcmUvaW5kZXhkYi5wbGFjZXN0b3JlLnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgSUFwaSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9hcGkuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE5iblBsYWNlQXBpUmVzcG9uc2UgfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgaXNEZWJ1Z01vZGUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpcEFwaSBpbXBsZW1lbnRzIElBcGkge1xyXG5cclxuICAgIGFzeW5jIGZldGNoUGFnZShcclxuICAgICAgICBib3VuZHM6IEwuTGF0TG5nQm91bmRzLFxyXG4gICAgICAgIHBhZ2U6IG51bWJlciA9IDEsXHJcbiAgICAgICAgcHJvY2VlZDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHRydWUsXHJcbiAgICApIDogUHJvbWlzZTxOYm5QbGFjZUFwaVJlc3BvbnNlPlxyXG4gICAge1xyXG5cclxuICAgICAgICBjb25zdCBub3J0aCA9IGJvdW5kcy5nZXROb3J0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3QgZWFzdCA9IGJvdW5kcy5nZXRFYXN0KCkudG9GaXhlZCgyKTtcclxuICAgICAgICBjb25zdCBzb3V0aCA9IGJvdW5kcy5nZXRTb3V0aCgpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3Qgd2VzdCA9IGJvdW5kcy5nZXRXZXN0KCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcm9jZWVkKCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9jZWVkIGZ1bmN0aW9uIHJldHVybmVkIGZhbHNlLiBTdG9wcGluZyBmZXRjaC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGFnZSA9IE1hdGgubWF4KDEsIE51bWJlcihwYWdlKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2VVcmwgPSBgaHR0cHM6Ly9hcGkubGlwLm5ldC5hdS9uYm4tYnVsay9tYXAvJHtub3J0aH0vJHtlYXN0fS8ke3NvdXRofS8ke3dlc3R9P3BhZ2U9JHtwYWdlfWA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHBhZ2UgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQgdGhpcyBzZXNzaW9uLlxyXG4gICAgICAgIC8vY29uc3QgY2FjaGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHBhZ2VVcmwpO1xyXG4gICAgICAgIC8vY29uc3QgY2FjaGVkVGltZSA9IGNhY2hlID8gbmV3IERhdGUoY2FjaGUpIDogbnVsbDtcclxuICAgICAgICAvL2lmIChjYWNoZWRUaW1lICYmIGNhY2hlZFRpbWUuZ2V0VGltZSgpID4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAxMDAwICogNjAgKiA2MCAqIDI0KSB7XHJcbiAgICAgICAgLy8gICAgdGhyb3cgbmV3IEVycm9yKCdQYWdlIGFscmVhZHkgbG9hZGVkIHRoaXMgc2Vzc2lvbi4nKTtcclxuICAgICAgICAvL31cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmxpcC5uZXQuYXUvbmJuLWJ1bGsvbWFwLyR7bm9ydGh9LyR7ZWFzdH0vJHtzb3V0aH0vJHt3ZXN0fT9wYWdlPSR7cGFnZX1gLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCkgYXMgeyBkYXRhOiBOYm5QbGFjZUFwaVJlc3BvbnNlfTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocGFyc2VkUmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy9zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHBhZ2VVcmwsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBJRGF0YXN0b3JlIGZyb20gXCIuLi9pbnRlcmZhY2VzL2RhdGFzdG9yZS5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IElNYXJrZXJMYXllciBmcm9tIFwiLi4vaW50ZXJmYWNlcy9tYXJrZXJsYXllci5pbnRlcmZhY2VcIjtcclxuXHJcbmltcG9ydCAqIGFzIEwgZnJvbSBcImxlYWZsZXRcIjtcclxuaW1wb3J0ICdsZWFmbGV0Lm1hcmtlcmNsdXN0ZXInO1xyXG5pbXBvcnQgJ2xlYWZsZXQubWFya2VyY2x1c3Rlci9kaXN0L01hcmtlckNsdXN0ZXIuY3NzJztcclxuXHJcbmltcG9ydCB7IE5iblBsYWNlLCBQb2ludEFuZExvY2lkcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5cclxuLy8gQ29uc3RhbnQgQ29sb3Vyc1xyXG5jb25zdCBjb2xvdXJGVFRQIFx0XHQ9ICcjMUQ3MDQ0JztcclxuY29uc3QgY29sb3VyRlRUUEF2YWlsICAgPSAnIzc1QUQ2Ric7XHJcbmNvbnN0IGNvbG91ckZUVFBTb29uICAgID0gJyNDOEUzQzUnO1xyXG5jb25zdCBjb2xvdXJIRkMgXHRcdD0gJyNGRkJFMDAnO1xyXG5jb25zdCBjb2xvdXJGVFRDIFx0XHQ9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUQ0F2YWlsICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IGNvbG91ckZUVE5CIFx0XHQ9ICcjRTMwNzFEJztcclxuY29uc3QgY29sb3VyRlcgXHRcdCAgICA9ICcjMDJCOUUzJztcclxuY29uc3QgY29sb3VyRldBdmFpbCBcdD0gJyMwMjJCRTMnO1xyXG5jb25zdCBjb2xvdXJTYXQgXHQgICAgPSAnIzZCMDJFMyc7XHJcblxyXG5jb25zdCBjb2xvdXJFRV9DQkRfWkJDICA9ICcjMUQ3MDQ0JztcclxuY29uc3QgY29sb3VyRUVfQ0JEX0JDICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IGNvbG91ckVFX1oxMjNfWkJDID0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJFRV9aMTIzX0JDICA9ICcjRTMwNzFEJztcclxuXHJcbmNvbnN0IENPTF9URUNIX0NPTVBMRVRFICAgICAgICAgPSAnIzFENzA0NCc7XHJcbmNvbnN0IENPTF9URUNIX0FWQUlMICAgICAgICAgICAgPSAnIzAyQjlFMyc7XHJcbmNvbnN0IENPTF9URUNIX0JVSUxERklOQUxJU0VEICAgPSAnI0ZGQkUwMCc7XHJcbmNvbnN0IENPTF9URUNIX0RFU0lHTiAgICAgICAgICAgPSAnI0ZGN0UwMSc7XHJcbmNvbnN0IENPTF9URUNIX0NPTU1JVFRFRCAgICAgICAgPSAnI0UzMDcxRCc7XHJcblxyXG5jb25zdCBDT0xfVEVDSF9NRFVfSU5CVUlMRCAgICAgID0gJyMwMjJCRTMnO1xyXG5jb25zdCBDT0xfVEVDSF9NRFVfRUxJR0lCTEUgICAgID0gJyM2QjAyRTMnO1xyXG5cclxuY29uc3QgY29sb3VyVW5rbm93biAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBJUGxhY2VTdG9yZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9wbGFjZXN0b3JlLmludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFya2VyTGF5ZXJDbHVzdGVyIGltcGxlbWVudHMgSU1hcmtlckxheWVyIHtcclxuXHJcbiAgICBwcml2YXRlIG1hcDogTC5NYXA7XHJcbiAgICBwcml2YXRlIHBsYWNlU3RvcmU6IElQbGFjZVN0b3JlO1xyXG4gICAgcHJpdmF0ZSBtb2RlSGFuZGxlcjogSU1vZGU7XHJcblxyXG4gICAgcHJpdmF0ZSBtYXJrZXJzOiBMLk1hcmtlckNsdXN0ZXJHcm91cDtcclxuXHJcbiAgICBwcml2YXRlIHBvaW50TWFwOiBNYXA8c3RyaW5nLCB7XHJcbiAgICAgICAgbGF5ZXI6IEwuQ2lyY2xlTWFya2VyLFxyXG4gICAgICAgIHBvaW50OiBQb2ludEFuZExvY2lkc1xyXG4gICAgfT4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IobWFwOiBMLk1hcCwgbW9kZUhhbmRsZXI6IElNb2RlLCBwbGFjZVN0b3JlOiBJUGxhY2VTdG9yZSkge1xyXG5cclxuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcclxuICAgICAgICB0aGlzLnBsYWNlU3RvcmUgPSBwbGFjZVN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBtb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gbmV3IEwuTWFya2VyQ2x1c3Rlckdyb3VwKHtcclxuICAgICAgICAgICAgbWF4Q2x1c3RlclJhZGl1czogdGhpcy5tYXJrZXJDbHVzdGVyUmFkaXVzLFxyXG4gICAgICAgICAgICBzcGlkZXJmeU9uTWF4Wm9vbTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tOiAxOCxcclxuICAgICAgICAgICAgc2hvd0NvdmVyYWdlT25Ib3ZlcjogdHJ1ZSxcclxuICAgICAgICAgICAgem9vbVRvQm91bmRzT25DbGljazogdHJ1ZSxcclxuICAgICAgICAgICAgcmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHM6IHRydWUsXHJcbiAgICAgICAgICAgIGljb25DcmVhdGVGdW5jdGlvbjogdGhpcy5pY29uQ3JlYXRlRnVuY3Rpb24sXHJcbiAgICAgICAgICAgIGNodW5rZWRMb2FkaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBjaHVua0ludGVydmFsOiAxNTAsXHJcbiAgICAgICAgICAgIGNodW5rRGVsYXk6IDE1MCxcclxuICAgICAgICAgICAgY2h1bmtQcm9ncmVzczogKHByb2Nlc3NlZCwgdG90YWwsIGVsYXBzZWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaHVua1Byb2dyZXNzJywgeyBwcm9jZXNzZWQsIHRvdGFsLCBlbGFwc2VkIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmtlcnMuYWRkVG8odGhpcy5tYXApO1xyXG5cclxuICAgICAgICB0aGlzLm1hcC5vbignem9vbWVuZCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnem9vbWVuZCcsIGV2ZW50LnRhcmdldC5nZXRab29tKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBwb2ludHMgdG8gdGhlIG1hcFxyXG4gICAgICogQHBhcmFtIHBvaW50cyBcclxuICAgICAqL1xyXG4gICAgYWRkUG9pbnRzKFxyXG4gICAgICAgIHBvaW50czogUG9pbnRBbmRMb2NpZHNbXVxyXG4gICAgKSA6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZXdMYXllcnM6IEwuQ2lyY2xlTWFya2VyW10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBwb2ludHMgdG8gdGhlIHBvaW50IHN0b3JlXHJcbiAgICAgICAgcG9pbnRzLmZvckVhY2goKHBvaW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhdExuZ1N0cmluZyA9IHBvaW50LmxhdCArICcsJyArIHBvaW50LmxuZztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50TWFwID0gdGhpcy5wb2ludE1hcC5nZXQobGF0TG5nU3RyaW5nKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcG9pbnRNYXApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xheWVyID0gdGhpcy5yZW5kZXJQb2ludChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICBuZXdMYXllcnMucHVzaChuZXdMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50TWFwLnNldChsYXRMbmdTdHJpbmcsIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcjogbmV3TGF5ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBvaW50TWFwLnBvaW50ID0gcG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBhbGwgdGhlIGxheWVycyB0byB0aGUgbWFwXHJcbiAgICAgICAgaWYgKG5ld0xheWVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzLmFkZExheWVycyhuZXdMYXllcnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgbWFya2VyQ2x1c3RlclJhZGl1cyh6b29tOiBudW1iZXIpIHtcclxuICAgICAgICBzd2l0Y2goem9vbSkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgIGNhc2UgMTA6XHJcbiAgICAgICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgIGNhc2UgMTM6IHJldHVybiAxNTA7XHJcbiAgICAgICAgICAgIGNhc2UgMTQ6IHJldHVybiAxMDA7XHJcbiAgICAgICAgICAgIGNhc2UgMTU6XHJcbiAgICAgICAgICAgIGNhc2UgMTY6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZVBvaW50U3R5bGUocGxhY2VzOiBOYm5QbGFjZVtdLCBsYXllcjogTC5DaXJjbGVNYXJrZXIpIHtcclxuICAgICAgICBsYXllci5zZXRTdHlsZSh7XHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogdGhpcy5tb2RlSGFuZGxlci5wbGFjZUNvbG91cihwbGFjZXNbMF0pLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxheWVyLnNldFRvb2x0aXBDb250ZW50KHRoaXMubW9kZUhhbmRsZXIucmVuZGVyVG9vbHRpcChwbGFjZXMpKTtcclxuICAgICAgICBsYXllci5yZWRyYXcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgbW9kZSBoYW5kbGVyXHJcbiAgICAgKiAgLSBTdG9yZSB0aGUgbW9kZSBoYW5kbGVyXHJcbiAgICAgKiAgLSBVcGRhdGUgdGhlIGNvbG91ciBvZiB0aGUgcG9pbnRzXHJcbiAgICAgKiBAcGFyYW0gbW9kZUhhbmRsZXIgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXI6IElNb2RlLCBwbGFjZXN0b3JlOiBJUGxhY2VTdG9yZSkge1xyXG5cclxuICAgICAgICB0aGlzLm1vZGVIYW5kbGVyID0gbW9kZUhhbmRsZXI7XHJcblxyXG4gICAgICAgIHRoaXMucG9pbnRNYXAuZm9yRWFjaCgoeyBsYXllciwgcG9pbnQgfSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBwbGFjZXNcclxuICAgICAgICAgICAgY29uc3QgZ2V0UGxhY2VzID0gcGxhY2VzdG9yZS5nZXRQbGFjZXMocG9pbnQuaWRzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcG9pbnQgc3R5bGVcclxuICAgICAgICAgICAgZ2V0UGxhY2VzLnRoZW4oKHBsYWNlcykgPT4gdGhpcy51cGRhdGVQb2ludFN0eWxlKHBsYWNlcywgbGF5ZXIpKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hcmtlcnMgJiYgdGhpcy5tYXJrZXJzLmdldExheWVycygpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnMucmVmcmVzaENsdXN0ZXJzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBERVBfcmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcywgbUZpbHRlcj86IChwbGFjZTogTmJuUGxhY2UpID0+IGJvb2xlYW4pIHtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAoIXRoaXMuZGF0YXN0b3JlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YXN0b3JlIG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1BvaW50cyA9IGF3YWl0IHRoaXMuZGF0YXN0b3JlLmdldEZ1bGxQb2ludHNXaXRoaW5Cb3VuZHMoYm91bmRzKTtcclxuICAgICAgICBcclxuICAgICAgICBuZXdQb2ludHNcclxuICAgICAgICAgICAgLmZvckVhY2gocG9pbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGF0TG5nU3RyaW5nID0gcG9pbnQubGF0bG5nO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBvaW50U3RvcmVbbGF0TG5nU3RyaW5nXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRTdG9yZVtsYXRMbmdTdHJpbmddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogdGhpcy5yZW5kZXJQb2ludChwb2ludCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW2xhdExuZ1N0cmluZ10ucG9pbnQgPSBwb2ludDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGlmIChtRmlsdGVyKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMYXllcnM6IEwuTGF5ZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRQb2ludHMgPSBPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoe2xheWVyLCBwb2ludH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG93UG9pbnQgPSBwb2ludC5wbGFjZXMuZmlsdGVyKG1GaWx0ZXIpLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93UG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvd1BvaW50O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVtb3ZlTGF5ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5yZW1vdmVMYXllcnMocmVtb3ZlTGF5ZXJzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJzPy5hZGRMYXllcnMoZmlsdGVyZWRQb2ludHMubWFwKHAgPT4gcC5sYXllcikpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnM/LmFkZExheWVycyhPYmplY3QudmFsdWVzKHRoaXMucG9pbnRzKS5tYXAocCA9PiBwLmxheWVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcykge1xyXG4gICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgaGVyZSwgYXMgdGhlIG1hcmtlciBjbHVzdGVyIHBsdWdpbiBoYW5kbGVzIHRoaXMgZm9yIHVzXHJcbiAgICAgICAgLy9jb25zdCByZW1vdmVNYXJrZXJzID0gdGhpcy5tYXJrZXJzLmdldExheWVycygpXHJcbiAgICAgICAgLy8gICAgLmZpbHRlcigobGF5ZXI6IEwuQ2lyY2xlTWFya2VyKSA9PiAhYm91bmRzLmNvbnRhaW5zKGxheWVyLmdldExhdExuZygpKSlcclxuICAgICAgICAvLztcclxuICAgICAgICAvL3RoaXMubWFya2Vycy5yZW1vdmVMYXllcnMocmVtb3ZlTWFya2Vycyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVtb3ZlQWxsTWFya2VycygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0aGlzLm1hcmtlcnM/LmNsZWFyTGF5ZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9pbnQocG9pbnQ6IFBvaW50QW5kTG9jaWRzKTogTC5DaXJjbGVNYXJrZXIge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBjb25zdCBjaXJjbGVNYXJrZXJMYXllciA9IEwuY2lyY2xlTWFya2VyKFsgcG9pbnQubGF0LCBwb2ludC5sbmcgXSwge1xyXG4gICAgICAgICAgICByYWRpdXM6IDUsXHJcbiAgICAgICAgICAgIGZpbGxDb2xvcjogcG9pbnQuY29sID8gcG9pbnQuY29sWzBdIDogdW5kZWZpbmVkLCAvL3RoaXMuZ2V0UGxhY2VDb2xvdXIocGxhY2UpLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICAgIHdlaWdodDogMSxcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuOCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFBvcHVwKFxyXG4gICAgICAgICAgICAobGF5ZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBc3luYyByZW5kZXIgcG9wdXAgZnJvbSBwbGFjZVN0b3JlIGRhdGFcclxuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VTdG9yZS5nZXRQbGFjZXMocG9pbnQuaWRzKS50aGVuKChwbGFjZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3B1cCA9IHRoaXMucmVuZGVyUG9wdXAocGxhY2VzKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci5zZXRQb3B1cENvbnRlbnQocG9wdXApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGxvYWRpbmcgcG9wdXAgY29udGVudFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ1BvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBsb2FkaW5nUG9wdXAuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJsb2FkaW5nXCI+TG9hZGluZy4uLjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRpbmdQb3B1cDtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGF1dG9QYW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY2lyY2xlTWFya2VyTGF5ZXIuYmluZFRvb2x0aXAoXHJcbiAgICAgICAgICAgIChsYXllcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gcG9pbnQuYWRkWzBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50LmFkZC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgKz0gJyAoICsgJyArIChwb2ludC5hZGQubGVuZ3RoIC0gMSkgKyAnIG1vcmUpJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge31cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjaXJjbGVNYXJrZXJMYXllcjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2VzWzBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRvclBvcHVwTXVsdGkocGxhY2VzKTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbmRvclBvcHVwTXVsdGkocGxhY2VzOiBOYm5QbGFjZVtdKSA6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBncm91cERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lcnM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgICAgICAgcGxhY2VzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPCBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGEuYWRkcmVzczEgPiBiLmFkZHJlc3MxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcGxhY2Ugb2YgcGxhY2VzKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwbGFjZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2VDb2xvdXIgPSB0aGlzLm1vZGVIYW5kbGVyLnBsYWNlQ29sb3VyKHBsYWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBBY2NvcmRpb24gQnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWNjb3JkaW9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSBgPHN2ZyBoZWlnaHQ9XCIxNVwiIHdpZHRoPVwiMTVcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDozcHhcIj5gXHJcbiAgICAgICAgICAgICAgICArIGA8Y2lyY2xlIGNsYXNzPVwiY2lyY2xlXCIgY3g9XCI3LjVcIiBjeT1cIjlcIiByPVwiNVwiIHN0cm9rZT1cIiMwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIiR7cGxhY2VDb2xvdXJ9XCIgLz5gXHJcbiAgICAgICAgICAgICAgICArIGA8L3N2Zz5gXHJcbiAgICAgICAgICAgICAgICArIGA8c3Bhbj4ke3BsYWNlLmFkZHJlc3MxfTwvc3Bhbj5gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBZGQgUGFuZWxcclxuICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZCgncGFuZWwnKTtcclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5tb2RlSGFuZGxlci5yZW5kZXJQb3B1cENvbnRlbnQocGxhY2UpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCBFdmVudHNcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRseUFjdGl2ZSA9IHBsYWNlQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgYnV0dG9ucyBhbmQgcGFuZWxzXHJcbiAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lcnMuZm9yRWFjaCgocGxhY2VDb250YWluZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghY3VycmVudGx5QWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBET01cclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICAgICAgcGxhY2VDb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWwpO1xyXG4gICAgICAgICAgICBncm91cERpdi5hcHBlbmRDaGlsZChwbGFjZUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIHBsYWNlQ29udGFpbmVycy5wdXNoKHBsYWNlQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBEaXY7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgIGdldFBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkge1xyXG5cclxuICAgICAgICAvKiogRUUgRGlzcGxheSBNb2RlICovXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodGhpcy5jb250cm9scy5kaXNwbGF5TW9kZS5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmIHBsYWNlLnplcm9CdWlsZENvc3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvdXJFRV9DQkRfWkJDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfQ0JEX0JDO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighcGxhY2UuY2JkcHJpY2luZyAmJiBwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19aQkM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCFwbGFjZS5jYmRwcmljaW5nICYmICFwbGFjZS56ZXJvQnVpbGRDb3N0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3VyRUVfWjEyM19CQztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbHMuZGlzcGxheU1vZGUuZGlzcGxheU1vZGUgPT0gJ3VwZ3JhZGUnKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1ByZXZpb3VzIFRlY2ggRGlzY29ubmVjdGVkJzogcmV0dXJuIENPTF9URUNIX0NPTVBMRVRFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTmV3IFRlY2ggQ29ubmVjdGVkJyA6IHJldHVybiBDT0xfVEVDSF9DT01QTEVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0luIERlc2lnbic6IHJldHVybiBDT0xfVEVDSF9ERVNJR047XHJcbiAgICAgICAgICAgICAgICBjYXNlICdCdWlsZCBGaW5hbGlzZWQnOiByZXR1cm4gQ09MX1RFQ0hfQlVJTERGSU5BTElTRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdDb21taXR0ZWQnOiByZXR1cm4gQ09MX1RFQ0hfQ09NTUlUVEVEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRWxpZ2libGUgVG8gT3JkZXInOiByZXR1cm4gQ09MX1RFQ0hfQVZBSUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBFbGlnaWJsZSBUbyBBcHBseSc6IHJldHVybiBDT0xfVEVDSF9NRFVfRUxJR0lCTEU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNRFUgQ29tcGxleCBQcmVtaXNlcyBJbiBCdWlsZCc6IHJldHVybiBDT0xfVEVDSF9NRFVfSU5CVUlMRDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbiAgICAgICAgfSovXHJcbi8qXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEF2YWlsKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRlRUUEF2YWlsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQRmFyKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VGVjaENvbG91cihwbGFjZS50ZWNoVHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNQbGFjZUZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRld0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNGd3RvRlRUTihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVE5CO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaXNTYXRUb0ZXKHBsYWNlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3VyRldBdmFpbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUgIT0gJ05VTExfTkEnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgfVxyXG4qL1xyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgdGhlIGljb24gZm9yIHRoZSBjbHVzdGVyXHJcbiAgICAgKiBAcGFyYW0gY2x1c3RlciBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGljb25DcmVhdGVGdW5jdGlvbihjbHVzdGVyOiBMLk1hcmtlckNsdXN0ZXIpIDogTC5EaXZJY29uXHJcbiAgICB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheSA9IGNsdXN0ZXIuZ2V0QWxsQ2hpbGRNYXJrZXJzKCkubWFwKChtYXJrZXIpID0+IChtYXJrZXIgYXMgYW55KS5vcHRpb25zLmZpbGxDb2xvcilcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JDb3VudHM6IHtbY29sb3I6IHN0cmluZ106IG51bWJlcn0gPSB7fTtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheS5mb3JFYWNoKChjb2xvcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNvbG9yQ291bnRzW2NvbG9yXSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckNvdW50c1tjb2xvcl0rKztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JBcnJheVNvcnRlZCA9IE9iamVjdC5rZXlzKGNvbG9yQ291bnRzKVxyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gY29sb3JDb3VudHNbYl0gLSBjb2xvckNvdW50c1thXSlcclxuICAgICAgICA7XHJcblxyXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kID0gJ2JhY2tncm91bmQ6IGNvbmljLWdyYWRpZW50KCdcclxuXHJcbiAgICAgICAgbGV0IGxhc3RDb2xvdXJQZXJjZW50ID0gMDtcclxuXHJcbiAgICAgICAgY29sb3JBcnJheVNvcnRlZC5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09IDApIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQgKz0gXCJcXG5cIiArIGNvbG9yICsgJyAwJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdGhpc0NvbG91clBlcmNlbnQgPSAoY29sb3JDb3VudHNbY29sb3JdIC8gY29sb3JBcnJheS5sZW5ndGggKiAxMDApO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kICs9IFwiLCBcXG5cIiArIGNvbG9yICsgJyAnICsgKGxhc3RDb2xvdXJQZXJjZW50KSArICclJztcclxuICAgICAgICAgICAgYmFja2dyb3VuZCArPSBcIiwgXFxuXCIgKyBjb2xvciArICcgJyArIChsYXN0Q29sb3VyUGVyY2VudCt0aGlzQ29sb3VyUGVyY2VudCkgKyAnJSc7XHJcbiAgICAgICAgICAgIGxhc3RDb2xvdXJQZXJjZW50ICs9IHRoaXNDb2xvdXJQZXJjZW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrZ3JvdW5kICs9IFwiXFxuKTtcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9tSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XHJcblxyXG4gICAgICAgIHJldHVybiBMLmRpdkljb24oe1xyXG4gICAgICAgICAgICBodG1sOiBgPHN0eWxlPiNjbHVzdGVyXyR7cmFuZG9tSWR9OjpiZWZvcmUgeyAke2JhY2tncm91bmR9IH08L3N0eWxlPiA8ZGl2IGlkPSdjbHVzdGVyXyR7cmFuZG9tSWR9Jz48c3Bhbj5gICsgY2x1c3Rlci5nZXRDaGlsZENvdW50KCkgKyAnPC9zcGFuPjwvZGl2PicsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ21hcmtlci1jbHVzdGVyJyxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IE5iblBsYWNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuXHJcbiAgICBzdWIobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dnZXIoYCR7dGhpcy5uYW1lfS4ke25hbWV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBuYW1lOiBzdHJpbmcpIHtcclxuICAgIH1cclxuXHJcbiAgICBlcnJvciguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FybiguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgWyR7dGhpcy5uYW1lfV1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWJ1ZyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGlmIChpc0RlYnVnTW9kZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYFske3RoaXMubmFtZX1dYCwgLi4uYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpbmZvKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZyguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbJHt0aGlzLm5hbWV9XWAsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2h1bmtBcnJheTxUPihhcnJheTogVFtdLCBzaXplOiBudW1iZXIpOiBUW11bXSB7XHJcbiAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICB3aGlsZSAoYXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKGFycmF5LnNwbGljZSgwLCBzaXplKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVidWdNb2RlKCkge1xyXG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnXHJcbiAgICAgICAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2xvY2FsaG9zdCcpXHJcbiAgICAgICAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2RlYnVnPXRydWUnKVxyXG4gICAgO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFAocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdGVFRQJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFROKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUTic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlSEZDKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnSEZDJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VGVFRCKHBsYWNlOiBOYm5QbGFjZSkge1xyXG4gICAgcmV0dXJuIHBsYWNlLnRlY2hUeXBlID09PSAnRlRUQic7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUQyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIGlmKHBsYWNlLnRlY2hUeXBlID09IFwiRlRUQ1wiXHJcbiAgICAgICAgJiYgcGxhY2UucmVhc29uQ29kZSAmJiBwbGFjZS5yZWFzb25Db2RlLm1hdGNoKC9eRlRUQy8pXHJcbiAgICAgICAgJiYgcGxhY2UudGVjaENoYW5nZVN0YXR1cyA9PSAnTmV3IFRlY2ggQ29ubmVjdGVkJ1xyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRml4ZWRXaXJlbGVzcyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PT0gJ0ZpeGVkIFdpcmVsZXNzJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhY2VTYXRlbGxpdGUocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT09ICdTYXRlbGxpdGUnO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBBdmFpbChwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIGlmIChwbGFjZS5hbHRSZWFzb25Db2RlICYmIHBsYWNlLmFsdFJlYXNvbkNvZGUubWF0Y2goL15GVFRQLykpIHtcclxuICAgICAgICBzd2l0Y2gocGxhY2UudGVjaENoYW5nZVN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlICdFbGlnaWJsZSBUbyBPcmRlcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWNlRlRUUFNvb24ocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnSW4gRGVzaWduJzpcclxuICAgICAgICAgICAgY2FzZSAnQnVpbGQgRmluYWxpc2VkJzpcclxuICAgICAgICAgICAgY2FzZSAnUGxhbm5lZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01EVSBDb21wbGV4IEVsaWdpYmxlIFRvIEFwcGx5JzpcclxuICAgICAgICAgICAgY2FzZSAnTURVIENvbXBsZXggUHJlbWlzZXMgSW4gQnVpbGQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFjZUZUVFBGYXIocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICBpZiAocGxhY2UuYWx0UmVhc29uQ29kZSAmJiBwbGFjZS5hbHRSZWFzb25Db2RlLm1hdGNoKC9eRlRUUC8pKSB7XHJcbiAgICAgICAgc3dpdGNoKHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSAnQ29tbWl0dGVkJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnd0b0ZUVE4ocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJGVFROXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRlRUTl9TQVwiXHJcbiAgICAgICAgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSBcIkZXX0NUXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRnd0b0ZUVEMocGxhY2U6IE5iblBsYWNlKSB7XHJcbiAgICByZXR1cm4gcGxhY2UudGVjaFR5cGUgPT0gXCJGVFRDXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRlRUQ19TQVwiXHJcbiAgICAgICAgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSA9PSBcIkZXX0NUXCJcclxuICAgICAgICAmJiBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzID09ICdFbGlnaWJsZSBUbyBPcmRlcidcclxuICAgIDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU2F0VG9GVyhwbGFjZTogTmJuUGxhY2UpIHtcclxuICAgIHJldHVybiBwbGFjZS50ZWNoVHlwZSA9PSBcIldJUkVMRVNTXCJcclxuICAgICAgICAmJiBwbGFjZS5yZWFzb25Db2RlID09IFwiRldfU0FcIlxyXG4gICAgICAgICYmIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgPT0gJ0VsaWdpYmxlIFRvIE9yZGVyJ1xyXG4gICAgO1xyXG59XHJcbiIsIlxyXG5pbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7XHJcbmltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcblxyXG5pbXBvcnQgJ2xlYWZsZXQubG9jYXRlY29udHJvbC9kaXN0L0wuQ29udHJvbC5Mb2NhdGUubWluLmNzcydcclxuaW1wb3J0ICdsZWFmbGV0LmxvY2F0ZWNvbnRyb2wnO1xyXG5cclxuaW1wb3J0ICdsZWFmbGV0LWNvbnRyb2wtZ2VvY29kZXIvZGlzdC9Db250cm9sLkdlb2NvZGVyLmNzcyc7XHJcbmltcG9ydCB7IEdlb2NvZGVyLCBnZW9jb2RlciwgZ2VvY29kZXJzIH0gZnJvbSAnbGVhZmxldC1jb250cm9sLWdlb2NvZGVyJztcclxuXHJcbmltcG9ydCB7IE5iblBsYWNlLCBOYm5QbGFjZUFwaVJlc3BvbnNlLCBOYm5UZWNoTWFwT3B0aW9ucywgUG9pbnRBbmRMb2NpZHMgfSBmcm9tICcuL3R5cGVzJztcclxuLy9pbXBvcnQgTWFya2VyR3JvdXAgZnJvbSAnLi9tYXJrZXJfZ3JvdXAuY2xhc3MudHMuZGV2JztcclxuLy9pbXBvcnQgQ29udHJvbFpvb21XYXJuaW5nIGZyb20gJy4vY29udHJvbF96b29tX3dhcm5pbmcuY2xhc3MnO1xyXG4vL2ltcG9ydCBDb250cm9sRmlsdGVyIGZyb20gJy4vY29udHJvbF9maWx0ZXIuY2xhc3MnO1xyXG5cclxuaW1wb3J0IElBcGkgZnJvbSAnLi9pbnRlcmZhY2VzL2FwaS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgSURhdGFzdG9yZSBmcm9tICcuL2ludGVyZmFjZXMvZGF0YXN0b3JlLmludGVyZmFjZSc7XHJcbmltcG9ydCBJTWFya2VyTGF5ZXIgZnJvbSAnLi9pbnRlcmZhY2VzL21hcmtlcmxheWVyLmludGVyZmFjZSc7XHJcbmltcG9ydCBNYXJrZXJMYXllckNsdXN0ZXIgZnJvbSAnLi9tYXJrZXJsYXllci9tYXJrZXJsYXllci5jbHVzdGVyLmNsYXNzJztcclxuaW1wb3J0IElDb250cm9sIGZyb20gJy4vaW50ZXJmYWNlcy9jb250cm9sLmludGVyZmFjZSc7XHJcbmltcG9ydCB7IGNodW5rQXJyYXksIGlzRGVidWdNb2RlIH0gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCBJTW9kZSBmcm9tICcuL2ludGVyZmFjZXMvbW9kZS5pbnRlcmZhY2UnO1xyXG5cclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IElQbGFjZVN0b3JlIGZyb20gJy4vaW50ZXJmYWNlcy9wbGFjZXN0b3JlLmludGVyZmFjZSc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91bmRCb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcyk6IEwuTGF0TG5nQm91bmRzIHtcclxuICAgIGNvbnN0IG5vcnRoID0gTWF0aC5jZWlsKGJvdW5kcy5nZXROb3J0aCgpICogNTApIC8gNTA7XHJcbiAgICBjb25zdCB3ZXN0ID0gTWF0aC5mbG9vcihib3VuZHMuZ2V0V2VzdCgpICogMjUpIC8gMjU7XHJcbiAgICBjb25zdCBzb3V0aCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFNvdXRoKCkgKiA1MCkgLyA1MDtcclxuICAgIGNvbnN0IGVhc3QgPSBNYXRoLmNlaWwoYm91bmRzLmdldEVhc3QoKSAqIDI1KSAvIDI1O1xyXG4gICAgcmV0dXJuIEwubGF0TG5nQm91bmRzKFtzb3V0aCwgd2VzdF0sIFtub3J0aCwgZWFzdF0pO1xyXG59XHJcblxyXG5jb25zdCBNQVhfQk9YRVNfSU5fVklFVyA9IDUwMDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5iblRlY2hNYXAge1xyXG5cclxuICAgIHByaXZhdGUgbG9nZ2VyID0gbmV3IExvZ2dlcignTmJuVGVjaE1hcCcpO1xyXG5cclxuICAgIHN0YXRpYyByZWFkb25seSBERUZBVUxUX09QVElPTlM6IFBhcnRpYWw8TmJuVGVjaE1hcE9wdGlvbnM+ID0ge1xyXG4gICAgICAgIG1hcENvbnRhaW5lcklkOiAnbWFwJyxcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBQcm9wZXJ0eSB7bWFwfSAtIExlYWZsZXQgbWFwIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBtYXA6IEwuTWFwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHttYXBUaWxlTGF5ZXJ9IC0gTGVhZmxldCBtYXAgdGlsZSBsYXllci5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBtYXBUaWxlTGF5ZXI6IEwuVGlsZUxheWVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHthcGl9IC0gQVBJIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhcGk6IElBcGk7XHJcblxyXG5cclxuICAgIHByaXZhdGUgbWFwTG9jYXRlOiBMLkNvbnRyb2wuTG9jYXRlO1xyXG4gICAgcHJpdmF0ZSBtYXBTZWFyY2g6IEdlb2NvZGVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQFByb3BlcnR5IHtwbGFjZVN0b3JlfSAtIFBsYWNlIHN0b3JlIG5ibiBwbGFjZXMuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcGxhY2VTdG9yZTogSVBsYWNlU3RvcmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcmtlckxheWVyfSAtIExheWVyIHRvIGhvbGQgbWFya2Vyc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcmtlckxheWVyOiBJTWFya2VyTGF5ZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAUHJvcGVydHkge21hcmtlckZpbHRlcn0gLSBGdW5jdGlvbiB0byBmaWx0ZXIgbWFya2Vyc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG1hcmtlckZpbHRlcjogKHBsYWNlOiBOYm5QbGFjZSkgPT4gYm9vbGVhbiA9IChwbGFjZTogTmJuUGxhY2UpID0+IHRydWU7XHJcblxyXG4gICAgcHJpdmF0ZSBtb2RlSGFuZGxlcjogSU1vZGU7XHJcblxyXG4gICAgLy8gU3RvcmVzIG1hcCBjb250cm9sc1xyXG4gICAgLypjb250cm9sczoge1trZXk6IHN0cmluZ106IGFueX0gPSB7XHJcbiAgICAgICAgem9vbVdhcm5pbmc6IG51bGwsXHJcbiAgICAgICAgbGVnZW5kOiBudWxsLFxyXG4gICAgICAgIGRpc3BsYXlNb2RlOiBudWxsLFxyXG4gICAgICAgIGZpbHRlcjogbnVsbCxcclxuICAgIH0qL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMgXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE5iblRlY2hNYXBPcHRpb25zKSB7XHJcblxyXG4gICAgICAgIG9wdGlvbnMgPSB7IC4uLk5iblRlY2hNYXAuREVGQVVMVF9PUFRJT05TLCAuLi5vcHRpb25zIH07XHJcblxyXG4gICAgICAgIHRoaXMuYXBpID0gb3B0aW9ucy5hcGk7XHJcbiAgICAgICAgdGhpcy5wbGFjZVN0b3JlID0gb3B0aW9ucy5wbGFjZXN0b3JlO1xyXG4gICAgICAgIHRoaXMubW9kZUhhbmRsZXIgPSBvcHRpb25zLmRlZmF1bHRNb2RlSGFuZGxlcjtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBtYXBcclxuICAgICAgICB0aGlzLm1hcCA9IEwubWFwKG9wdGlvbnMubWFwQ29udGFpbmVySWQsIHsgcHJlZmVyQ2FudmFzOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIG1hcmtlciBsYXllclxyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIgPSBuZXcgTWFya2VyTGF5ZXJDbHVzdGVyKFxyXG4gICAgICAgICAgICB0aGlzLm1hcCwgdGhpcy5tb2RlSGFuZGxlciwgdGhpcy5wbGFjZVN0b3JlXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICAvLyBTZXQgdXAgdGhlIE9TTSBsYXllclxyXG4gICAgICAgIHRoaXMubWFwVGlsZUxheWVyID0gTC50aWxlTGF5ZXIoJ2h0dHBzOi8ve3N9LmJhc2VtYXBzLmNhcnRvY2RuLmNvbS9yYXN0ZXJ0aWxlcy92b3lhZ2VyL3t6fS97eH0ve3l9e3J9LnBuZycsIHtcclxuICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycyAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vY2FydG8uY29tL2F0dHJpYnV0aW9uc1wiPkNBUlRPPC9hPicsXHJcbiAgICAgICAgICAgIHN1YmRvbWFpbnM6ICdhYmNkJyxcclxuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHRydWUsXHJcbiAgICAgICAgICAgIG1pblpvb206IDUsXHJcbiAgICAgICAgICAgIG1heFpvb206IDIwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgbGF5ZXIgdG8gdGhlIG1hcFxyXG4gICAgICAgIHRoaXMubWFwVGlsZUxheWVyLmFkZFRvKHRoaXMubWFwKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coeyBMLCBHZW9jb2RlciwgZ2VvY29kZXIgfSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBnZW9jb2RlciBjb250cm9sXHJcbiAgICAgICAgY29uc3QgbWFwR2VvY29kZXIgPSBuZXcgZ2VvY29kZXJzLkFyY0dpcyh7XHJcbiAgICAgICAgICAgIGFwaUtleTogJ0FBUEthOTdiOGE1Mzc0ZGI0ZmE5YjBmZGQ4ZTU1MzYxY2JhNFo5ZkV1dzNja0FPSUZISzFDUF9WYnpUdjNPVGVVejNnZ3JGQXpWUHpqeW4zUTdiUUZ6YndrRE12RHhhSi1KekcnLFxyXG4gICAgICAgICAgICBnZW9jb2RpbmdRdWVyeVBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgY291bnRyeUNvZGU6ICdBVScsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ0FkZHJlc3MsTGF0TG9uZyxOZWlnaGJvcmhvb2QsRGlzdHJpY3QsQ2l0eSxNZXRybyBBcmVhJyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWFwU2VhcmNoID0gKEwuQ29udHJvbCBhcyB1bmtub3duIGFzIHsgZ2VvY29kZXI6IHR5cGVvZiBnZW9jb2RlciB9KS5nZW9jb2Rlcih7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXHJcbiAgICAgICAgICAgIGNvbGxhcHNlZDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdE1hcmtHZW9jb2RlOiBmYWxzZSxcclxuICAgICAgICAgICAgZ2VvY29kZXI6IG1hcEdlb2NvZGVyLFxyXG4gICAgICAgICAgICBzdWdnZXN0TWluTGVuZ3RoOiA1LFxyXG4gICAgICAgICAgICBzdWdnZXN0VGltZW91dDogMTAwMCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXBTZWFyY2gub24oJ21hcmtnZW9jb2RlJywgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYmJveCA9IGV2ZW50Lmdlb2NvZGUuYmJveDtcclxuICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKGJib3gsIHtcclxuICAgICAgICAgICAgICAgICdtYXhab29tJzogMTYsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hcFNlYXJjaC5hZGRUbyh0aGlzLm1hcCk7XHJcblxyXG5cclxuICAgICAgICAvLyBBZGQgbG9jYXRlIGNvbnRyb2xcclxuICAgICAgICB0aGlzLm1hcExvY2F0ZSA9IEwuY29udHJvbC5sb2NhdGUoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxyXG4gICAgICAgICAgICBsb2NhdGVPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBtYXhab29tOiAxNlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRWaWV3OiAndW50aWxQYW4nLFxyXG4gICAgICAgICAgICBrZWVwQ3VycmVudFpvb21MZXZlbDogdHJ1ZSxcclxuICAgICAgICAgICAgaW5pdGlhbFpvb21MZXZlbDogMTcsXHJcbiAgICAgICAgICAgIGNhY2hlTG9jYXRpb246IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tYXBMb2NhdGUuYWRkVG8odGhpcy5tYXApO1xyXG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGVhY3RpdmF0ZScsICgpID0+IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dlb2xvY2F0ZScsICcxJyk7IH0pO1xyXG4gICAgICAgIHRoaXMubWFwLm9uKCdsb2NhdGVkZWFjdGl2YXRlJywgKCkgPT4geyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2VvbG9jYXRlJyk7IH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldEluaXRpYWxNYXBWaWV3KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc3RvcmUgbWFwIHBvc2l0aW9uIHdoZW4gbW92ZWQgb3Igem9vbWVkXHJcbiAgICAgICAgdGhpcy5tYXAub24oJ21vdmVlbmQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMubWFwLmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RhcnRwb3MnLCBKU09OLnN0cmluZ2lmeSh7IGxhdDogY2VudGVyLmxhdCwgbG5nOiBjZW50ZXIubG5nLCB6b29tIH0pKTtcclxuICAgICAgICAgICAgdGhpcy5wdXNoQnJvd3Nlckhpc3RvcnkoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXBHZW9jb2Rlci5vcHRpb25zLmdlb2NvZGluZ1F1ZXJ5UGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICBtYXBHZW9jb2Rlci5vcHRpb25zLmdlb2NvZGluZ1F1ZXJ5UGFyYW1zLmxvY2F0aW9uID0gYCR7Y2VudGVyLmxuZ30sJHtjZW50ZXIubGF0fWA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vYXdhaXQgdGhpcy5kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaERhdGFGb3JDdXJyZW50VmlldygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmZldGNoRGF0YUZvckN1cnJlbnRWaWV3KCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICAgICAgY29uc3QgbGF0ID0gdXJsUGFyYW1zLmdldCgnbGF0Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxuZyA9IHVybFBhcmFtcy5nZXQoJ2xuZycpO1xyXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdXJsUGFyYW1zLmdldCgnem9vbScpO1xyXG4gICAgICAgICAgICBpZiAobGF0ICYmIGxuZyAmJiB6b29tKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgTnVtYmVyKGxhdCksIE51bWJlcihsbmcpIF0sIHBhcnNlSW50KHpvb20pKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFZpZXdTZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwdXNoQnJvd3Nlckhpc3RvcnkoKSB7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBVUkwgd2l0aCBsYXQsbG5nLHpvb21cclxuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTtcclxuICAgICAgICBjb25zdCB6b29tID0gdGhpcy5tYXAuZ2V0Wm9vbSgpO1xyXG5cclxuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIHVybFBhcmFtcy5zZXQoJ2xhdCcsIGNlbnRlci5sYXQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgdXJsUGFyYW1zLnNldCgnbG5nJywgY2VudGVyLmxuZy50b1N0cmluZygpKTtcclxuICAgICAgICB1cmxQYXJhbXMuc2V0KCd6b29tJywgem9vbS50b1N0cmluZygpKTtcclxuICAgICAgICBjb25zdCBuZXdVcmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnPycgKyB1cmxQYXJhbXMudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgbmV3VXJsKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFN0YXJ0UG9zKCkgOiB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciwgem9vbTogbnVtYmVyIH0gfCBudWxsIHtcclxuICAgICAgICBjb25zdCBzdGFydFBvc1N0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGFydHBvcycpO1xyXG4gICAgICAgIGlmICghc3RhcnRQb3NTdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0YXJ0UG9zU3RyaW5nKSBhcyB7IGxhdDogbnVtYmVyLCBsbmc6IG51bWJlciwgem9vbTogbnVtYmVyIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdGlhbFZpZXdTZXQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc2V0SW5pdGlhbE1hcFZpZXcoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLnN1Yignc2V0SW5pdGlhbE1hcFZpZXcnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbFZpZXdTZXQpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0luaXRpYWwgbWFwIHZpZXcgYWxyZWFkeSBzZXQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbGF0LGxuZyx6b29tIGFyZSBpbiBVUkwsIHNldCBtYXAgdG8gdGhhdFxyXG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgY29uc3QgbGF0ID0gdXJsUGFyYW1zLmdldCgnbGF0Jyk7XHJcbiAgICAgICAgY29uc3QgbG5nID0gdXJsUGFyYW1zLmdldCgnbG5nJyk7XHJcbiAgICAgICAgY29uc3Qgem9vbSA9IHVybFBhcmFtcy5nZXQoJ3pvb20nKTtcclxuICAgICAgICBpZiAobGF0ICYmIGxuZyAmJiB6b29tKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyBOdW1iZXIobGF0KSwgTnVtYmVyKGxuZykgXSwgcGFyc2VJbnQoem9vbSkpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3U2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZ2VvRmxhZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnZW9sb2NhdGUnKTtcclxuICAgICAgICBjb25zdCBzdGFydFBvcyA9IHRoaXMuZ2V0U3RhcnRQb3MoKTtcclxuXHJcbiAgICAgICAgLy8gSWYgbG9jYWwgc3RvcmFnZSBjb250YWlucyBsYXN0IG1hcCBwb3NpdGlvbiwgc2V0IG1hcCB0byB0aGF0XHJcbiAgICAgICAgaWYgKHN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnNldFZpZXcoWyBzdGFydFBvcy5sYXQsIHN0YXJ0UG9zLmxuZyBdLCBzdGFydFBvcy56b29tKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgdG8gQXVzdHJhbGlhIGlmIG5vIHN0YXJ0IHBvc2l0aW9uXHJcbiAgICAgICAgaWYgKCFzdGFydFBvcykge1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRWaWV3KFsgLTI2LjE3NzIyODgsIDEzMy40MTcwMTE5IF0sIDEwKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBsb2NhbCBzdG9yYWdlIGNvbnRhaW5zIGdlb2xvY2F0ZSBmbGFnXHJcbiAgICAgICAgLy8gb3IsIGlmIG5vIHN0YXJ0IHBvc2l0aW9uLCBzdGFydCBnZW9sb2NhdGlvblxyXG4gICAgICAgIGlmIChnZW9GbGFnIHx8ICFzdGFydFBvcykge1xyXG4gICAgICAgICAgICB0aGlzLm1hcExvY2F0ZS5zdGFydCgpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRab29tKDE3KTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlld1NldCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbFZpZXdTZXQpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdDb3VsZCBub3Qgc2V0IGluaXRpYWwgbWFwIHZpZXcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldEJveGVzSW5Cb3VuZHMoYm91bmRzOiBMLkxhdExuZ0JvdW5kcyk6IEwuTGF0TG5nQm91bmRzW10ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAvLyBTdGFydGluZyBwb2ludCBzaG91bGQgYmUgdGhlIG5vcnRoLXdlc3QgY29ybmVyIG9mIHRoZSBtYXAgcm91bmRlZCBiZXlvbmQgdGhlIG1hcCBib3VuZHNcclxuICAgICAgICAvLyBMYXRpdHVkZSBpcyByb3VuZGVkIHRvIDIgZGVjaW1hbCBwbGFjZXMgbXVsdGlwbGUgb2YgMC4wMlxyXG4gICAgICAgIC8vIExvbmdpdHVkZSBpcyByb3VuZGVkIHRvIDIgZGVjaW1hbCBwbGFjZXMgbXVsdGlwbGUgb2YgMC4wNFxyXG4gICAgICAgIGNvbnN0IG5vcnRobW9zdCA9IE1hdGguY2VpbChib3VuZHMuZ2V0Tm9ydGgoKSAqIDUwKSAvIDUwO1xyXG4gICAgICAgIGNvbnN0IHdlc3RtbW9zdCA9IE1hdGguZmxvb3IoYm91bmRzLmdldFdlc3QoKSAqIDI1KSAvIDI1O1xyXG5cclxuICAgICAgICAvLyBzcGxpdCBtYXAgaW50byBib3hlcyBzdGFydGluZyBmcm9tIG5vcnRoLXdlc3QgY29ybmVyXHJcbiAgICAgICAgLy8gZWFjaCBib3ggc2hvdWxkIGJlIDAuMDIgZGVncmVlcyBsYXRpdHVkZSBieSAwLjA0IGRlZ3JlZXMgbG9uZ2l0dWRlXHJcbiAgICAgICAgY29uc3QgYm94ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBsYXRpdHVkZSA9IG5vcnRobW9zdDsgbGF0aXR1ZGUgPiBib3VuZHMuZ2V0U291dGgoKTsgbGF0aXR1ZGUgLT0gMC4wMikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBsb25naXR1ZGUgPSB3ZXN0bW1vc3Q7IGxvbmdpdHVkZSA8IGJvdW5kcy5nZXRFYXN0KCk7IGxvbmdpdHVkZSArPSAwLjA0KSB7XHJcbiAgICAgICAgICAgICAgICBib3hlcy5wdXNoKFtsYXRpdHVkZSwgbG9uZ2l0dWRlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1hcCBlYWNoIGJveCBpbnRvIGEgYm91bmRzIG9iamVjdFxyXG4gICAgICAgIGNvbnN0IGJveEJvdW5kcyA9IGJveGVzLm1hcChib3ggPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub3J0aCA9IGJveFswXTtcclxuICAgICAgICAgICAgY29uc3Qgd2VzdCA9IGJveFsxXTtcclxuICAgICAgICAgICAgY29uc3Qgc291dGggPSBub3J0aCAtIDAuMDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGVhc3QgPSB3ZXN0ICsgMC4wNDtcclxuICAgICAgICAgICAgcmV0dXJuIEwubGF0TG5nQm91bmRzKFtzb3V0aCwgd2VzdF0sIFtub3J0aCwgZWFzdF0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYm94Qm91bmRzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIGJveGVzIHRoYXQgYXJlIHZpc2libGUgb24gdGhlIG1hcFxyXG4gICAgICovXHJcbiAgICBnZXRDdXJyZW50Vmlld0JveGVzKCk6IEwuTGF0TG5nQm91bmRzW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRCb3hlc0luQm91bmRzKHRoaXMubWFwLmdldEJvdW5kcygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhpZGUgbWFya2VycyB0aGF0IGFyZSBvdXRzaWRlIHRoZSBtYXAgYm91bmRzXHJcbiAgICAgKi9cclxuICAgIGhpZGVNYXJrZXJzT3V0c2lkZUN1cnJlbnRWaWV3KCkge1xyXG4gICAgICAgIGNvbnN0IG1hcEJvdW5kcyA9IHRoaXMubWFwLmdldEJvdW5kcygpLnBhZCgwLjUpO1xyXG4gICAgICAgIHRoaXMubWFya2VyTGF5ZXIucmVtb3ZlTWFya2Vyc091dHNpZGVCb3VuZHMobWFwQm91bmRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc3BsYXkgbWFya2VycyB0aGF0IGFyZSBpbnNpZGUgdGhlIG1hcCBib3VuZHNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgREVQX2Rpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyhhdHRlbXB0OiBudW1iZXIgPSAxKSB7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YXN0b3JlLmlzUmVhZHkoKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChhdHRlbXB0ID4gMTApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBnZXQgZGF0YXN0b3JlIHJlYWR5LiBHaXZpbmcgdXAuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGF0YXN0b3JlIGlzIG5vdCByZWFkeS4gRGVsYXlpbmcgZGlzcGxheU1hcmtlcnNJbkN1cnJlbnRWaWV3KCknKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmRpc3BsYXlNYXJrZXJzSW5DdXJyZW50VmlldyhhdHRlbXB0KzEpLCAxMDAwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Rpc3BsYXlpbmcgbWFya2VycyBpbiBjdXJyZW50IHZpZXcnKTtcclxuICAgICAgICBjb25zdCBtYXBCb3VuZHMgPSByb3VuZEJvdW5kcyh0aGlzLm1hcC5nZXRCb3VuZHMoKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIGZyb20gRGF0YXN0b3JlJywgbWFwQm91bmRzKTtcclxuICAgICAgICAvLyB0aGlzLnJlZnJlc2hQb2ludHNGcm9tU3RvcmUobWFwQm91bmRzKTtcclxuICAgICAgICAqL1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgem9vbUluV2FybmluZ0NvbnRyb2w/OiBMLkNvbnRyb2w7XHJcblxyXG4gICAgc2hvd1pvb21Jbldhcm5pbmcoKSB7XHJcbiAgICAgICAgaWYoIXRoaXMuem9vbUluV2FybmluZ0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbCA9IG5ldyBMLkNvbnRyb2woeyBwb3NpdGlvbjogJ3RvcHJpZ2h0JyB9KTtcclxuICAgICAgICAgICAgdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbC5vbkFkZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdpbmZvIGxlZ2VuZCcpO1xyXG4gICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9ICc8aDQgc3R5bGU9XCJtYXJnaW46MFwiPkFyZWEgVG9vIEJpZyE8L2g0Pic7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MICs9ICc8cCBzdHlsZT1cIm1hcmdpbjowXCI+TG9jYXRpb24gbG9hZGluZyBpcyBwYXVzZWQgdW50aWwgeW91IHpvb20gaW4uPC9wPic7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZjk4MDAnO1xyXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLm9wYWNpdHkgPSAnMC44JztcclxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5wYWRkaW5nID0gJzEwcHggMjBweCc7XHJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY29sb3IgPSAnI2ZmZmZmZic7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHpvb21Jbldhcm5pbmdDb250cm9sID0gdGhpcy56b29tSW5XYXJuaW5nQ29udHJvbDtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMubWFwLmFkZENvbnRyb2woem9vbUluV2FybmluZ0NvbnRyb2wpLCAxMDAwKTtcclxuICAgIH1cclxuICAgIGhpZGVab29tSW5XYXJuaW5nKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnpvb21Jbldhcm5pbmdDb250cm9sKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFwLnJlbW92ZUNvbnRyb2wodGhpcy56b29tSW5XYXJuaW5nQ29udHJvbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmV0Y2hlZEJveGVzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIGRhdGEgZm9yIGN1cnJlbnQgbWFwIHZpZXdcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLnN1YignZmV0Y2hEYXRhRm9yQ3VycmVudFZpZXcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5oaWRlTWFya2Vyc091dHNpZGVDdXJyZW50VmlldygpO1xyXG4gICAgICAgIC8vdGhpcy5kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXcoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFwLmdldFpvb20oKSA8IDExKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdab29tIGxldmVsIHRvbyBsb3cuIFNraXBwaW5nLicpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dab29tSW5XYXJuaW5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCBib3hlcyB0aGF0IGFyZSBjdXJyZW50bHkgdmlzaWJsZVxyXG4gICAgICAgIGNvbnN0IGJveGVzID0gdGhpcy5nZXRDdXJyZW50Vmlld0JveGVzKCk7XHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdDdXJyZW50IHZpZXcgYm94ZXMnLCBib3hlcyk7XHJcblxyXG4gICAgICAgIC8vIEZpbHRlciBvdXQgYm94ZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBmZXRjaGVkXHJcbiAgICAgICAgY29uc3QgdW5mZXRjaGVkQm94ZXMgPSBib3hlcy5maWx0ZXIoYm94ID0+ICF0aGlzLmZldGNoZWRCb3hlcy5oYXMoYm94LmdldENlbnRlcigpLnRvU3RyaW5nKCkpKTtcclxuXHJcbiAgICAgICAgLy8gSWYgbm8gYm94ZXMgdG8gZmV0Y2gsIHJldHVyblxyXG4gICAgICAgIGlmICh1bmZldGNoZWRCb3hlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVab29tSW5XYXJuaW5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERvbid0IGZldGNoIGJveGVzIGlmIG1vcmUgdGhhbiA1MFxyXG4gICAgICAgIGlmICh1bmZldGNoZWRCb3hlcy5sZW5ndGggPiBNQVhfQk9YRVNfSU5fVklFVykge1xyXG4gICAgICAgICAgICBsb2dnZXIud2FybignVG9vIG1hbnkgYm94ZXMgdG8gZmV0Y2guIFNraXBwaW5nLicpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dab29tSW5XYXJuaW5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhpZGUgem9vbSBpbiB3YXJuaW5nXHJcbiAgICAgICAgdGhpcy5oaWRlWm9vbUluV2FybmluZygpO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXBkYXRlIGtleVxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZUtleSA9IHRoaXMubWFwLmdldENlbnRlcigpLnRvU3RyaW5nKCkgKyB0aGlzLm1hcC5nZXRab29tKCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBwcm9ncmVzcyBpdGVtXHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NJdGVtID0gdGhpcy5jcmVhdGVQcm9ncmVzcyh1cGRhdGVLZXksIHVuZmV0Y2hlZEJveGVzLmxlbmd0aCwgJ0ZldGNoaW5nIHNlY3Rpb25zLi4uJyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9ncmVzcygpO1xyXG5cclxuICAgICAgICBsZXQgYm94ZXNQcm9jZXNzZWQgPSAwO1xyXG5cclxuICAgICAgICAvLyBGb3IgZWFjaCBib3gsIGZldGNoIGRhdGFcclxuICAgICAgICBmb3IgKGNvbnN0IGJveCBvZiB1bmZldGNoZWRCb3hlcykge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMubWFwLmdldENlbnRlcigpLnRvU3RyaW5nKCkgKyB0aGlzLm1hcC5nZXRab29tKCkgIT0gdXBkYXRlS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ01hcCBtb3ZlZC4gRmV0Y2ggc3RvcHBlZC4nKTtcclxuICAgICAgICAgICAgICAgIHByb2dyZXNzSXRlbS50ZXh0ID0gJ01hcCBtb3ZlZC4gRmV0Y2ggc3RvcHBlZC4nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyh1cGRhdGVLZXksIGJveGVzUHJvY2Vzc2VkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5mZXRjaERhdGEoYm94KTtcclxuICAgICAgICAgICAgdGhpcy5mZXRjaGVkQm94ZXMuYWRkKGJveC5nZXRDZW50ZXIoKS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgYm94ZXNQcm9jZXNzZWQrKztcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyh1cGRhdGVLZXksIGJveGVzUHJvY2Vzc2VkLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzcyh1cGRhdGVLZXksIGJveGVzUHJvY2Vzc2VkLCB0cnVlKTtcclxuICAgICAgICBsb2dnZXIuZGVidWcoJ0FsbCBib3hlcyBmZXRjaGVkJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvZ3Jlc3NDb250cm9sID0gbmV3IEwuQ29udHJvbCh7IHBvc2l0aW9uOiAnYm90dG9tbGVmdCcgfSk7XHJcbiAgICBwcml2YXRlIHByb2dyZXNzSXRlbXM6IHtcclxuICAgICAgICBba2V5OiBzdHJpbmddOiB7XHJcbiAgICAgICAgICAgIHN0YXJ0ZWQ6IERhdGUsXHJcbiAgICAgICAgICAgIGZpbmlzaGVkPzogRGF0ZSxcclxuICAgICAgICAgICAgdGV4dDogc3RyaW5nLFxyXG4gICAgICAgICAgICBjb21wbGV0ZTogYm9vbGVhbixcclxuICAgICAgICAgICAgcHJvZ3Jlc3M6IG51bWJlcixcclxuICAgICAgICAgICAgdG90YWw6IG51bWJlcixcclxuICAgICAgICB9XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVQcm9ncmVzcyhrZXk6IHN0cmluZywgdG90YWw6IG51bWJlciwgdGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBpdGVtXHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0gPSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ZWQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGZpbmlzaGVkOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmYWxzZSxcclxuICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXHJcbiAgICAgICAgICAgIHRvdGFsLCB0ZXh0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzSXRlbXNba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZVByb2dyZXNzKGtleTogc3RyaW5nLCBwcm9ncmVzczogbnVtYmVyLCBjb21wbGV0ZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9ncmVzcyBpdGVtIHdpdGgga2V5ICR7a2V5fSBkb2VzIG5vdCBleGlzdGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByb2dyZXNzSXRlbXNba2V5XS5maW5pc2hlZCA9IGNvbXBsZXRlID8gbmV3IERhdGUoKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnByb2dyZXNzSXRlbXNba2V5XS5jb21wbGV0ZSA9IGNvbXBsZXRlO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLnByb2dyZXNzID0gcHJvZ3Jlc3M7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJQcm9ncmVzcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyUHJvZ3Jlc3MoKSB7XHJcblxyXG4gICAgICAgIC8vIERlbGV0ZSBpdGVtcyBmaW5pc2hlZCBtb3JlIHRoYW4gNSBzZWNvbmRzIGFnb1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMucHJvZ3Jlc3NJdGVtcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9ncmVzc0l0ZW1zW2tleV0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjb25zdCBmaW5pc2hlZCA9IHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldLmZpbmlzaGVkO1xyXG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgobm93LmdldFRpbWUoKSAtIGZpbmlzaGVkLmdldFRpbWUoKSkgPiA1MDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJvZ3Jlc3NJdGVtc1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBubyBpdGVtcywgaGlkZSBwcm9ncmVzc1xyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnByb2dyZXNzSXRlbXMpLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbmRlciBwcm9ncmVzc1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDb250cm9sLm9uQWRkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnaW5mbyBsZWdlbmQnKTtcclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9ICc8aDQgc3R5bGU9XCJtYXJnaW46MFwiPkxvYWRpbmcuLi48L2g0Pic7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gT2JqZWN0LnZhbHVlcyh0aGlzLnByb2dyZXNzSXRlbXMpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAvLyBza2lwIGl0ZW0gaWYgZmluaXNoZWQgbW9yZSB0aGFuIDEwIHNlY29uZHMgYWdvXHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5maW5pc2hlZCAmJiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBpdGVtLmZpbmlzaGVkLmdldFRpbWUoKSA+IDEwMDAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBpdGVtLnByb2dyZXNzIC8gaXRlbS50b3RhbCAqIDEwMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzVGV4dCA9IGl0ZW0uY29tcGxldGUgPyAnQ29tcGxldGUnIDogYCR7aXRlbS5wcm9ncmVzc30gb2YgJHtpdGVtLnRvdGFsfWA7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MICs9IGA8cCBzdHlsZT1cIm1hcmdpbjowXCI+JHtpdGVtLnRleHR9ICgke3Byb2dyZXNzVGV4dH0pPC9wPmA7XHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MICs9IGA8cHJvZ3Jlc3MgdmFsdWU9XCIke3Byb2dyZXNzfVwiIG1heD1cIjEwMFwiPjwvcHJvZ3Jlc3M+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMwMDAwMDAnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUub3BhY2l0eSA9ICcwLjgnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUucGFkZGluZyA9ICcxMHB4IDIwcHgnO1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuY29sb3IgPSAnI2ZmZmZmZic7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgcHJvZ3Jlc3MgdG8gbWFwXHJcbiAgICAgICAgdGhpcy5tYXAuYWRkQ29udHJvbCh0aGlzLnByb2dyZXNzQ29udHJvbCk7XHJcblxyXG4gICAgICAgIC8vIEhpZGUgcHJvZ3Jlc3MgYWZ0ZXIgNSBzZWNvbmRzIGlmIGFsbCBjb21wbGV0ZVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyh0aGlzLnByb2dyZXNzSXRlbXMpLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5jb21wbGV0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhpZGVQcm9ncmVzcygpIHtcclxuICAgICAgICB0aGlzLm1hcC5yZW1vdmVDb250cm9sKHRoaXMucHJvZ3Jlc3NDb250cm9sKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBmZXRjaERhdGEoXHJcbiAgICAgICAgYm91bmRzOiBMLkxhdExuZ0JvdW5kcywgcGFnZTogbnVtYmVyID0gMVxyXG4gICAgKSA6IFByb21pc2U8dm9pZD5cclxuICAgIHtcclxuXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIEJveCcsIGJvdW5kcy5nZXRDZW50ZXIoKS50b1N0cmluZygpLCBwYWdlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5hcGkuZmV0Y2hQYWdlKGJvdW5kcywgcGFnZSwgKCkgPT4gdGhpcy5tYXAuZ2V0Qm91bmRzKCkuaW50ZXJzZWN0cyhib3VuZHMpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ZldGNoUmVzdWx0KGRhdGEsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5uZXh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaERhdGEoYm91bmRzLCBkYXRhLm5leHQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT0gJ1BhZ2UgYWxyZWFkeSBsb2FkZWQgdGhpcyBzZXNzaW9uLicpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzIFJlc3VsdHMgRmV0Y2hlZCBmcm9tIEFQSVxyXG4gICAgICogU3RvcmVzIHBsYWNlcyBpbiBwbGFjZSBzdG9yZVxyXG4gICAgICogU2VuZHMgcG9pbnRzIHRvIG1hcmtlciBsYXllclxyXG4gICAgICogQHBhcmFtIHJlc3VsdCBcclxuICAgICAqIEBwYXJhbSBib3VuZHMgXHJcbiAgICAgKi9cclxuICAgIHByb2Nlc3NGZXRjaFJlc3VsdChyZXN1bHQ6IE5iblBsYWNlQXBpUmVzcG9uc2UsIGJvdW5kczogTC5MYXRMbmdCb3VuZHMpIHtcclxuXHJcbiAgICAgICAgLy8gU3RvcmUgcGxhY2VzXHJcbiAgICAgICAgdGhpcy5wbGFjZVN0b3JlLnN0b3JlUGxhY2VzKHJlc3VsdC5wbGFjZXMpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGVtcCBzdG9yYWdlIGZvciBwb2ludHNcclxuICAgICAgICBjb25zdCBwb2ludHM6IHtcclxuICAgICAgICAgICAgW2xhdExuZzogc3RyaW5nXTogUG9pbnRBbmRMb2NpZHM7XHJcbiAgICAgICAgfSA9IHt9O1xyXG5cclxuICAgICAgICAvLyBBZGQgcGxhY2UgbG9jaWRzIHRvIHBvaW50c1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LnBsYWNlcy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGxhY2UgPSByZXN1bHQucGxhY2VzW2ldO1xyXG4gICAgICAgICAgICBjb25zdCBsYXRMbmcgPSBgJHtwbGFjZS5sYXRpdHVkZX0sJHtwbGFjZS5sb25naXR1ZGV9YDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlQ29sb3VyID0gdGhpcy5tb2RlSGFuZGxlci5wbGFjZUNvbG91cihwbGFjZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgcG9pbnQgaWYgbm90IGFscmVhZHkgdGhlcmVcclxuICAgICAgICAgICAgaWYgKCFwb2ludHNbbGF0TG5nXSkge1xyXG4gICAgICAgICAgICAgICAgcG9pbnRzW2xhdExuZ10gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBwbGFjZS5sYXRpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICBsbmc6IHBsYWNlLmxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2w6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkZDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaWRzOiBbXSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBsb2NpZCB0byBwb2ludCBpZiBub3QgYWxyZWFkeSB0aGVyZVxyXG4gICAgICAgICAgICBpZiAoIXBvaW50c1tsYXRMbmddLmlkcy5pbmNsdWRlcyhwbGFjZS5sb2NpZCkpIHtcclxuICAgICAgICAgICAgICAgIHBvaW50c1tsYXRMbmddLmlkcy5wdXNoKHBsYWNlLmxvY2lkKTtcclxuICAgICAgICAgICAgICAgIHBvaW50c1tsYXRMbmddLmFkZD8ucHVzaChwbGFjZS5hZGRyZXNzMSk7XHJcbiAgICAgICAgICAgICAgICBwb2ludHNbbGF0TG5nXS5jb2w/LnB1c2gocGxhY2VDb2xvdXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2VuZCBwb2ludHMgdG8gbWFya2VyIGxheWVyXHJcbiAgICAgICAgY29uc3QgcG9pbnRzQXJyYXkgPSBPYmplY3QudmFsdWVzKHBvaW50cyk7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllci5hZGRQb2ludHMocG9pbnRzQXJyYXkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBERVBSX3JlZnJlc2hQb2ludHNGcm9tU3RvcmUoYm91bmRzPzogTC5MYXRMbmdCb3VuZHMpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcmtlckxheWVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWFya2VyIExheWVyIG5vdCBzZXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGJvdW5kcyBhcmUgbm90IHBhc3NlZCwgdXNlIG1hcCBib3VuZHNcclxuICAgICAgICBpZiAoIWJvdW5kcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQm91bmRzIG5vdCBwYXNzZWQuIFVzaW5nIG1hcCBib3VuZHMuJyk7XHJcbiAgICAgICAgICAgIGJvdW5kcyA9IHRoaXMubWFwLmdldEJvdW5kcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm91bmRzID0gcm91bmRCb3VuZHMoYm91bmRzKTtcclxuICAgICAgICAvL3RoaXMubWFya2VyTGF5ZXIucmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHMoYm91bmRzLCB0aGlzLm1hcmtlckZpbHRlcik7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgLy8gR2V0IHRoZSBib3hlc1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoaW5nIHBvaW50cyB3aXRoaW4gYm91bmRzJywgYm91bmRzLnRvQkJveFN0cmluZygpKTtcclxuICAgICAgICBjb25zdCBwb2ludHMgPSBhd2FpdCB0aGlzLmRhdGFzdG9yZS5nZXRQb2ludHNXaXRoaW5Cb3VuZHMoYm91bmRzKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gYWRkIHBvaW50cyB0byBtYXAgdGhhdCBkb24ndCBhbHJlYWR5IGV4aXN0IGluIGxheWVyXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtYXJrZXIgPSBMLmNpcmNsZU1hcmtlcihbcG9pbnQubGF0aXR1ZGUsIHBvaW50LmxvbmdpdHVkZV0sIHtcclxuICAgICAgICAgICAgICAgIHJhZGl1czogNSxcclxuICAgICAgICAgICAgICAgIC8vZmlsbENvbG9yOiB0aGlzLmdldFBsYWNlQ29sb3VyKHBsYWNlKSxcclxuICAgICAgICAgICAgICAgIC8vY29sb3I6IFwiIzAwMDAwMFwiLFxyXG4gICAgICAgICAgICAgICAgd2VpZ2h0OiAxLFxyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHBvcHVwXHJcbiAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAocG9pbnQubG9jaWRzLmpvaW4oJzxiciAvPicpKTtcclxuICAgICAgICAgICAgbWFya2VyLm9uKCdwb3B1cG9wZW4nLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUG9wdXBDb250ZW50KHBvaW50KVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGNvbnRlbnQgPT4gZXZlbnQucG9wdXAuc2V0Q29udGVudChjb250ZW50KSk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLm1hcmtlckxheWVyLmFkZExheWVyKG1hcmtlcik7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnRyb2xzOiB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXTogSUNvbnRyb2w7XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgYWRkQ29udHJvbChrZXk6IHN0cmluZywgY29udHJvbDogSUNvbnRyb2wpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250cm9sc1trZXldKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udHJvbCB3aXRoIGtleSAke2tleX0gYWxyZWFkeSBleGlzdHNgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHNba2V5XSA9IGNvbnRyb2w7XHJcblxyXG4gICAgICAgIHRoaXMubWFwLmFkZENvbnRyb2woY29udHJvbC5nZXRDb250cm9sKCkpXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBZGRlZCBjb250cm9sJywga2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNYXJrZXJGaWx0ZXIoZmlsdGVyOiAocGxhY2U6IE5iblBsYWNlKSA9PiBib29sZWFuKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5tYXJrZXJMYXllcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcmtlciBMYXllciBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1hcmtlckZpbHRlciA9IGZpbHRlcjtcclxuICAgICAgICAvL3RoaXMubWFya2VyTGF5ZXIucmVmcmVzaE1hcmtlcnNJbnNpZGVCb3VuZHModGhpcy5tYXAuZ2V0Qm91bmRzKCksIHRoaXMubWFya2VyRmlsdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNb2RlSGFuZGxlcihtb2RlSGFuZGxlcjogSU1vZGUpIHtcclxuICAgICAgICB0aGlzLm1vZGVIYW5kbGVyID0gbW9kZUhhbmRsZXI7XHJcbiAgICAgICAgdGhpcy5tYXJrZXJMYXllcj8uc2V0TW9kZUhhbmRsZXIobW9kZUhhbmRsZXIsIHRoaXMucGxhY2VTdG9yZSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0ICogYXMgTCBmcm9tICdsZWFmbGV0JztcclxuaW1wb3J0IElDb250cm9sIGZyb20gXCIuLi9pbnRlcmZhY2VzL2NvbnRyb2wuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBOYm5UZWNoTWFwIGZyb20gXCIuLi9uYm5fdGVjaF9tYXAuY2xhc3NcIjtcclxuaW1wb3J0IHsgQ29udHJvbEV2ZW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQUNvbnRyb2wgaW1wbGVtZW50cyBJQ29udHJvbCB7XHJcblxyXG4gICAgLy9wcm90ZWN0ZWQgbWFwOiBOYm5UZWNoTWFwO1xyXG4gICAgcHJvdGVjdGVkIGNvbnRyb2w6IEwuQ29udHJvbDtcclxuICAgIC8vcHJvdGVjdGVkIGtleTogc3RyaW5nO1xyXG5cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXZlbnRIYW5kbGVyczoge1xyXG4gICAgICAgIFtldmVudE5hbWU6IHN0cmluZ106ICgoZTogQ29udHJvbEV2ZW50KSA9PiB2b2lkKVtdXHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgY29uc3RydWN0b3IoLyprZXk6IHN0cmluZy8qLCBuYm5UZWNoTWFwOiBOYm5UZWNoTWFwKi8pIHtcclxuICAgICAgICAvL3RoaXMua2V5ID0ga2V5O1xyXG4gICAgICAgIC8vdGhpcy5tYXAgPSBuYm5UZWNoTWFwO1xyXG4gICAgICAgIHRoaXMuY29udHJvbCA9IG5ldyBMLkNvbnRyb2woKTtcclxuICAgIH1cclxuXHJcbiAgICBvbihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChlOiBDb250cm9sRXZlbnQpID0+IHZvaWQpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZW1pdChldmVudE5hbWU6IHN0cmluZywgZGF0YTogYW55KSA6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUuZGVidWcoYEVtaXR0aW5nIGV2ZW50OiAke2V2ZW50TmFtZX1gLCB7XHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIGhhbmRsZXJzOiB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLmdldFN0YXRlKCksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0U3RhdGUoKSA6IGFueTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29udHJvbCgpIDogTC5Db250cm9sIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAqIGFzIEwgZnJvbSAnbGVhZmxldCc7XHJcbi8vaW1wb3J0IE5iblRlY2hNYXAgZnJvbSBcIi4uL25ibl90ZWNoX21hcC5jbGFzc1wiO1xyXG5pbXBvcnQgQUNvbnRyb2wgZnJvbSBcIi4vY29udHJvbC5hYnN0cmFjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvRGlzcGxheU1vZGUgZXh0ZW5kcyBBQ29udHJvbCB7XHJcblxyXG4gICAgcHJpdmF0ZSBkaXNwbGF5TW9kZSA9ICdhbGwnO1xyXG4gICAgcHJpdmF0ZSBlbENvbnRyb2xEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBwcml2YXRlIGVsRHJvcGRvd246IEhUTUxTZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVDb250cm9sRGl2KCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sLm9uQWRkID0gKG1hcDogTC5NYXApID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZURyb3Bkb3duKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsQ29udHJvbERpdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdGhpcy5jb250cm9sLm9uQWRkID0gKCkgPT4gdGhpcy5hZGRDb250cm9sRGl2KCk7XHJcbiAgICAgICAgLy90aGlzLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZSgpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5TW9kZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBhbGxMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgYWxsUmFkaW86IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGFsbFRleHQ6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHVwZ3JhZGVMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgdXBncmFkZVJhZGlvOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB1cGdyYWRlVGV4dDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVMYWJlbDogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVSYWRpbzogYW55ID0gbnVsbDtcclxuICAgIHByaXZhdGUgZWVUZXh0OiBhbnkgPSBudWxsO1xyXG4gICAgXHJcbiAgICBjaGFuZ2VNb2RlKG1vZGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheU1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgbW9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUNvbnRyb2xEaXYoKSA6IHZvaWQge1xyXG4gICAgICAgIGlmKHRoaXMuZWxDb250cm9sRGl2KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29udHJvbERpdiBhbHJlYWR5IGV4aXN0cycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuY2xhc3NMaXN0LmFkZCgnaW5mbycsICdsZWdlbmQnKTtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5wYWRkaW5nID0gXCI1cHhcIjtcclxuICAgICAgICB0aGlzLmVsQ29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlRHJvcGRvd24oKSA6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmVsRHJvcGRvd24pIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEcm9wZG93biBhbHJlYWR5IGV4aXN0cycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZHJvcGRvd24gPSB0aGlzLmVsRHJvcGRvd247XHJcbiAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnY29udHJvbC1zZWxlY3QnKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWxsT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgYWxsT3B0aW9uLnZhbHVlID0gJ2FsbCc7XHJcbiAgICAgICAgYWxsT3B0aW9uLmlubmVyVGV4dCA9ICdTaG93IEFsbCBMb2NhdGlvbnMnO1xyXG4gICAgICAgIGRyb3Bkb3duLmFwcGVuZENoaWxkKGFsbE9wdGlvbik7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgY29uc3QgdXBncmFkZU9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIHVwZ3JhZGVPcHRpb24udmFsdWUgPSAndXBncmFkZSc7XHJcbiAgICAgICAgdXBncmFkZU9wdGlvbi5pbm5lclRleHQgPSAnVGVjaCBVcGdyYWRlcyc7XHJcbiAgICAgICAgZHJvcGRvd24uYXBwZW5kQ2hpbGQodXBncmFkZU9wdGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGVlT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgZWVPcHRpb24udmFsdWUgPSAnZWUnO1xyXG4gICAgICAgIGVlT3B0aW9uLmlubmVyVGV4dCA9ICdFbnRlcnByaXNlIEV0aGVybmV0JztcclxuICAgICAgICBkcm9wZG93bi5hcHBlbmRDaGlsZChlZU9wdGlvbik7XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHRoaXMuY2hhbmdlTW9kZSgoZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQpLnZhbHVlKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxEcm9wZG93biA9IGRyb3Bkb3duO1xyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmFwcGVuZENoaWxkKGRyb3Bkb3duKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyphZGRDb250cm9sRGl2KCkge1xyXG5cclxuICAgICAgICB0aGlzLmFsbExhYmVsID0gTC5Eb21VdGlsLmNyZWF0ZSgnbGFiZWwnLCAnY29udHJvbC1sYWJlbCcsIHRoaXMuY29udHJvbERpdik7XHJcbiAgICAgICAgdGhpcy5hbGxSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmFsbExhYmVsKTtcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLnR5cGUgPSAncmFkaW8nO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuYWxsUmFkaW8udmFsdWUgPSAnYWxsJztcclxuICAgICAgICB0aGlzLmFsbFJhZGlvLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy5hbGxSYWRpbywgJ2NoYW5nZScsIChlKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2FsbCcpKTtcclxuICAgICAgICB0aGlzLmFsbFRleHQgPSBMLkRvbVV0aWwuY3JlYXRlKCdzcGFuJywgJ2NvbnRyb2wtdGV4dCcsIHRoaXMuYWxsTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuYWxsVGV4dC5pbm5lclRleHQgPSAnQWxsJztcclxuXHJcbiAgICAgICAgdGhpcy51cGdyYWRlTGFiZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdsYWJlbCcsICdjb250cm9sLWxhYmVsJywgdGhpcy5jb250cm9sRGl2KTtcclxuICAgICAgICB0aGlzLnVwZ3JhZGVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLnVwZ3JhZGVMYWJlbCk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8udHlwZSA9ICdyYWRpbyc7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVJhZGlvLnZhbHVlID0gJ3VwZ3JhZGUnO1xyXG4gICAgICAgIEwuRG9tRXZlbnQub24odGhpcy51cGdyYWRlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ3VwZ3JhZGUnKSk7XHJcbiAgICAgICAgdGhpcy51cGdyYWRlVGV4dCA9IEwuRG9tVXRpbC5jcmVhdGUoJ3NwYW4nLCAnY29udHJvbC10ZXh0JywgdGhpcy51cGdyYWRlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMudXBncmFkZVRleHQuaW5uZXJUZXh0ID0gJ1RlY2ggVXBncmFkZSc7XHJcblxyXG4gICAgICAgIHRoaXMuZWVMYWJlbCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2xhYmVsJywgJ2NvbnRyb2wtbGFiZWwnLCB0aGlzLmNvbnRyb2xEaXYpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpbyA9IEwuRG9tVXRpbC5jcmVhdGUoJ2lucHV0JywgJ2NvbnRyb2wtaW5wdXQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby50eXBlID0gJ3JhZGlvJztcclxuICAgICAgICB0aGlzLmVlUmFkaW8ubmFtZSA9ICdkaXNwbGF5LW1vZGUnO1xyXG4gICAgICAgIHRoaXMuZWVSYWRpby52YWx1ZSA9ICdlZSc7XHJcbiAgICAgICAgTC5Eb21FdmVudC5vbih0aGlzLmVlUmFkaW8sICdjaGFuZ2UnLCAoKSA9PiB0aGlzLmNoYW5nZU1vZGUoJ2VlJykpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnc3BhbicsICdjb250cm9sLXRleHQnLCB0aGlzLmVlTGFiZWwpO1xyXG4gICAgICAgIHRoaXMuZWVUZXh0LmlubmVyVGV4dCA9ICdFRSc7XHJcblxyXG4gICAgfSovXHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0sIE5iblBsYWNlLCBQb2ludEFuZFBsYWNlcyB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgKiBhcyBMIGZyb20gXCJsZWFmbGV0XCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgaXNQbGFjZUZUVFAsXHJcbiAgICBpc1BsYWNlRlRUQyxcclxuICAgIGlzUGxhY2VGVFRQQXZhaWwsXHJcbiAgICBpc1BsYWNlRlRUUFNvb24sXHJcbiAgICBpc1BsYWNlRlRUUEZhcixcclxuICAgIGlzRnd0b0ZUVEMsXHJcbiAgICBpc0Z3dG9GVFROLFxyXG4gICAgaXNTYXRUb0ZXLFxyXG4gICAgaXNEZWJ1Z01vZGVcclxufSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmNvbnN0IGNvbG91ckZUVFAgXHRcdD0gJyMxRDcwNDQnO1xyXG5jb25zdCBjb2xvdXJGVFRQQXZhaWwgICA9ICcjNzVBRDZGJztcclxuY29uc3QgY29sb3VyRlRUUFNvb24gICAgPSAnI0M4RTNDNSc7XHJcbmNvbnN0IGNvbG91ckhGQyBcdFx0PSAnI0ZGQkUwMCc7XHJcbmNvbnN0IGNvbG91ckZUVEMgXHRcdD0gJyNGRjdFMDEnO1xyXG5jb25zdCBjb2xvdXJGVFRDQXZhaWwgICA9ICcjRkY3RTAxJztcclxuY29uc3QgY29sb3VyRlRUTkIgXHRcdD0gJyNFMzA3MUQnO1xyXG5jb25zdCBjb2xvdXJGVyBcdFx0ICAgID0gJyMwMkI5RTMnO1xyXG5jb25zdCBjb2xvdXJGV0F2YWlsIFx0PSAnIzAyMkJFMyc7XHJcbmNvbnN0IGNvbG91clNhdCBcdCAgICA9ICcjNkIwMkUzJztcclxuY29uc3QgY29sb3VyVW5rbm93biAgICAgID0gJyM4ODg4ODgnO1xyXG5cclxuZnVuY3Rpb24gZ2V0VGVjaENvbG91cih0ZWNoVHlwZTogc3RyaW5nKSB7XHJcbiAgICBzd2l0Y2godGVjaFR5cGUpIHtcclxuICAgICAgICBjYXNlICdGVFRQJzogcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgY2FzZSAnRlRUQyc6IHJldHVybiBjb2xvdXJGVFRDO1xyXG4gICAgICAgIGNhc2UgJ0ZUVE4nOlxyXG4gICAgICAgIGNhc2UgJ0ZUVEInOiByZXR1cm4gY29sb3VyRlRUTkI7XHJcbiAgICAgICAgY2FzZSAnSEZDJzogcmV0dXJuIGNvbG91ckhGQztcclxuICAgICAgICBjYXNlICdXSVJFTEVTUyc6IHJldHVybiBjb2xvdXJGVztcclxuICAgICAgICBjYXNlICdTQVRFTExJVEUnOiByZXR1cm4gY29sb3VyU2F0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbG91clVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsbE1vZGUgaW1wbGVtZW50cyBJTW9kZSB7XHJcblxyXG4gICAgZmlsdGVyKHBsYWNlOiBOYm5QbGFjZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwb2ludENvbG91cihwb2ludDogUG9pbnRBbmRQbGFjZXMpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGFjZUNvbG91cihwb2ludC5wbGFjZXNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYWNlQ29sb3VyKHBsYWNlOiBOYm5QbGFjZSkgOiBzdHJpbmcge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUChwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFA7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQQXZhaWwocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRQQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzUGxhY2VGVFRQU29vbihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVFBTb29uO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUUEZhcihwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFRlY2hDb2xvdXIocGxhY2UudGVjaFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChpc1BsYWNlRlRUQyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZUVEM7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzRnd0b0ZUVEMocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFRDQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGlzRnd0b0ZUVE4ocGxhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvdXJGVFROQjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzU2F0VG9GVyhwbGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG91ckZXQXZhaWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZSAhPSAnTlVMTF9OQScpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocGxhY2UpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBnZXRUZWNoQ29sb3VyKHBsYWNlLnRlY2hUeXBlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUG9wdXBDb250ZW50KHBsYWNlOiBOYm5QbGFjZSkgOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicpO1xyXG5cclxuICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8Yj4nK3BsYWNlLmxvY2lkKyc8L2I+PC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczEgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgcGxhY2UuYWRkcmVzczIgKyAnPC9icj4nXHJcbiAgICAgICAgICAgICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8Yj5UZWNobm9sb2d5IFBsYW48L2I+PC9icj4nO1xyXG5cclxuICAgICAgICAvKiogVGVjaG5vbG9neSBQbGFuIEZpbmFsIFN0YXRlICovXHJcbiAgICAgICAgaWYgKHBsYWNlLnRlY2hUeXBlID09ICdGVFRQJ1xyXG4gICAgICAgICAgICB8fCAhcGxhY2UuYWx0UmVhc29uQ29kZVxyXG4gICAgICAgICAgICB8fCBwbGFjZS5hbHRSZWFzb25Db2RlID09ICdOVUxMX05BJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGVjaG5vbG9neTogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGlmIChwbGFjZS50ZWNoVHlwZSAhPSAnRlRUUCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdObyB0ZWNoIHVwZ3JhZGUgcGxhbm5lZDxiciAvPic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGVsc2UgaWYgKHBsYWNlLmFsdFJlYXNvbkNvZGUgJiYgcGxhY2UuYWx0UmVhc29uQ29kZS5tYXRjaCgvXkZUVFAvKSkge1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnQ3VycmVudDogJyArIHBsYWNlLnRlY2hUeXBlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDaGFuZ2U6ICcgKyBwbGFjZS5hbHRSZWFzb25Db2RlICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdTdGF0dXM6ICcgKyBwbGFjZS50ZWNoQ2hhbmdlU3RhdHVzICsgJzxiciAvPic7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdQcm9ncmFtOiAnICsgcGxhY2UucHJvZ3JhbVR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1RhcmdldCBRdHI6ICcgKyBwbGFjZS50YXJnZXRFbGlnaWJpbGl0eVF1YXJ0ZXIgKyAnPGJyIC8+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICdDdXJyZW50OiAnICsgcGxhY2UudGVjaFR5cGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ0NoYW5nZTogJyArIHBsYWNlLmFsdFJlYXNvbkNvZGUgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1N0YXR1czogJyArIHBsYWNlLnRlY2hDaGFuZ2VTdGF0dXMgKyAnPGJyIC8+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgKz0gJ1Byb2dyYW06ICcgKyBwbGFjZS5wcm9ncmFtVHlwZSArICc8YnIgLz4nO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCArPSAnVGFyZ2V0IFF0cjogJyArIHBsYWNlLnRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciArICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICs9ICc8YnIgLz4nOyBcclxuICAgICAgICBcclxuICAgICAgICBpZiAocGxhY2UuZWUpIHtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICc8Yj5FbnRlcnByaXNlIEV0aGVybmV0PC9iPjwvYnI+JztcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICdQcmljZSBab25lOiAnICsgKCBwbGFjZS5jYmRwcmljaW5nID8gJ0NCRCcgOiAnWm9uZSAxLzIvMycgKSArICc8YnIgLz4nXHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MICArPSAnQnVpbGQgQ29zdDogJyArICggcGxhY2UuemVyb0J1aWxkQ29zdCA/ICckMCcgOiAnUE9BJyApICsgJzxiciAvPidcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgICs9ICc8YnIgLz4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRGVidWdNb2RlKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgaHIgPSBMLkRvbVV0aWwuY3JlYXRlKCdocicpO1xyXG4gICAgICAgICAgICBjb25zdCBwcmUgPSBMLkRvbVV0aWwuY3JlYXRlKCdwcmUnKTtcclxuICAgICAgICAgICAgcHJlLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHBsYWNlLCBudWxsLCAyKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChocik7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRvb2x0aXAocGxhY2VzOiBOYm5QbGFjZVtdKSA6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxhYmVsID0gcGxhY2VzWzBdLmFkZHJlc3MxO1xyXG5cclxuICAgICAgICBpZiAocGxhY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgbGFiZWwgKz0gJyAoICsgJyArIChwbGFjZXMubGVuZ3RoIC0gMSkgKyAnIG1vcmUpJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGVnZW5kSXRlbXMoKTogTGVnZW5kSXRlbVtdIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFRQLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZUVFAgVXBncmFkZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFBBdmFpbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFRQIFVwZ3JhZGUgU29vbicsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZUVFBTb29uLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0hGQycsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckhGQyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFRDJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyRlRUQyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVFROL0ZUVEInLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGVFROQixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGVycsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91ckZXLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZXIFVwZ3JhZGUnLFxyXG4gICAgICAgICAgICAgICAgY29sb3VyOiBjb2xvdXJGV0F2YWlsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1NhdGVsbGl0ZScsXHJcbiAgICAgICAgICAgICAgICBjb2xvdXI6IGNvbG91clNhdCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdVbmtub3duJyxcclxuICAgICAgICAgICAgICAgIGNvbG91cjogY29sb3VyVW5rbm93bixcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IElNb2RlIGZyb20gXCIuLi9pbnRlcmZhY2VzL21vZGUuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IExlZ2VuZEl0ZW0gfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuaW1wb3J0IEFDb250cm9sIGZyb20gXCIuL2NvbnRyb2wuYWJzdHJhY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xMZWdlbmQgZXh0ZW5kcyBBQ29udHJvbCB7XHJcblxyXG4gICAgcHJpdmF0ZSBlbENvbnRyb2xEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2wuc2V0UG9zaXRpb24oJ2JvdHRvbXJpZ2h0Jyk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxDb250cm9sRGl2LmNsYXNzTGlzdC5hZGQoJ2luZm8nLCAnbGVnZW5kJyk7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sLm9uQWRkID0gKG1hcDogTC5NYXApID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxDb250cm9sRGl2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUxlZ2VuZChpdGVtczogTGVnZW5kSXRlbVtdKSB7XHJcblxyXG4gICAgICAgIGxldCBodG1sID0gJyc7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaHRtbCArPSAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIGl0ZW0uY29sb3VyICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+ICcgKyBpdGVtLmxhYmVsO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jb3VudCkge1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSAnICgnICsgaXRlbS5jb3VudCArICcpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodG1sICs9ICc8YnI+JztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbENvbnRyb2xEaXYuaW5uZXJIVE1MID0gaHRtbDtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgLypcclxuXHJcbiAgICBnZXRMZWdlbmRIVE1MKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5uYm5UZWNoTWFwLmNvbnRyb2xzLmRpc3BsYXlNb2RlPy5kaXNwbGF5TW9kZSA9PSAnZWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfQ0JEX1pCQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgQ0JEICgkMCBCdWlsZCk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJFRV9DQkRfQkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBab25lIENCRCAoQnVpbGQgUE9BKTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckVFX1oxMjNfWkJDKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gWm9uZSAxLzIvMyAoJDAgQnVpbGQpPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRUVfWjEyM19CQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFpvbmUgMS8yLzMgKEJ1aWxkIFBPQSk8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJVbmtub3duKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gVW5rbm93bic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5uYm5UZWNoTWFwLmNvbnRyb2xzLmRpc3BsYXlNb2RlPy5kaXNwbGF5TW9kZSA9PSAndXBncmFkZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfQ09NUExFVEUgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQ29tcGxldGVkPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX0FWQUlMICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEF2YWlsYWJsZTxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9CVUlMREZJTkFMSVNFRCArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBCdWlsZCBGaW5hbGlzZWQ8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJysgQ09MX1RFQ0hfREVTSUdOICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEluIERlc2lnbjxicj4nXHJcbiAgICAgICAgICAgICsgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInKyBDT0xfVEVDSF9DT01NSVRURUQgKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gQ29tbWl0dGVkPGJyPidcclxuICAgICAgICAgICAgKyAnPGI+TXVsdGkgRHdlbGxpbmcgVW5pdHM8L2I+PGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX01EVV9JTkJVSUxEICsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEluIEJ1aWxkPGJyPidcclxuICAgICAgICAgICAgKyAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrIENPTF9URUNIX01EVV9FTElHSUJMRSArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBFbGxpZ2libGU8YnI+J1xyXG4gICAgICAgICAgICArICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJVbmtub3duKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gVW5rbm93bic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFArJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBGVFRQPGJyPicgKyBcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFBBdmFpbCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVFAgVXBncmFkZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZUVFBTb29uKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlRUUCBVcGdyYWRlIFNvb248YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJIRkMrJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBIRkM8YnI+JyArIFxyXG4gICAgICAgICAgICAnPHN2ZyBoZWlnaHQ9XCIxMFwiIHdpZHRoPVwiMTBcIj48Y2lyY2xlIGN4PVwiNVwiIGN5PVwiNVwiIHI9XCI1XCIgZmlsbD1cIicrY29sb3VyRlRUQysnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVEM8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGVFROQisnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IEZUVE4vRlRUQjxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91ckZXKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlc8YnI+JyArXHJcbiAgICAgICAgICAgICc8c3ZnIGhlaWdodD1cIjEwXCIgd2lkdGg9XCIxMFwiPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCI1XCIgcj1cIjVcIiBmaWxsPVwiJytjb2xvdXJGV0F2YWlsKydcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG9wYWNpdHk9XCIxXCIgZmlsbC1vcGFjaXR5PVwiMC44XCIgLz48L3N2Zz4gRlcgVXBncmFkZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clNhdCsnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMVwiIGZpbGwtb3BhY2l0eT1cIjAuOFwiIC8+PC9zdmc+IFNhdGVsbGl0ZTxicj4nICtcclxuICAgICAgICAgICAgJzxzdmcgaGVpZ2h0PVwiMTBcIiB3aWR0aD1cIjEwXCI+PGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiNVwiIGZpbGw9XCInK2NvbG91clVua25vd24rJ1wiIHN0cm9rZT1cIiMwMDAwMDBcIiBzdHJva2Utd2lkdGg9XCIxXCIgb3BhY2l0eT1cIjFcIiBmaWxsLW9wYWNpdHk9XCIwLjhcIiAvPjwvc3ZnPiBVbmtub3duJztcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb250cm9sRGl2KG1hcCkge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY29udHJvbERpdikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xEaXYgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnaW5mbyBsZWdlbmQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmNvbnRyb2xEaXYuc3R5bGUub3BhY2l0eSA9IFwiMC44XCI7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjVweFwiO1xyXG4gICAgICAgIHRoaXMuY29udHJvbERpdi5zdHlsZS53aWR0aCA9IFwiMTUwcHhcIjtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0TGVnZW5kSFRNTCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sRGl2O1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sRGl2LmlubmVySFRNTCA9IHRoaXMuZ2V0TGVnZW5kSFRNTCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sLmFkZFRvKHRoaXMubmJuVGVjaE1hcC5tYXApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZSgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2wucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgKi9cclxufSIsIi8qKlxyXG4gKiBAZmlsZSBNYWluIGVudHJ5IHBvaW50IGZvciBtYXAgc2NyaXB0cy5cclxuICogQG1vZHVsZSBpbmRleC50c1xyXG4gKiBAdmVyc2lvbiAxLjAuMFxyXG4gKiBAYXV0aG9yIEtvYWxhR1xyXG4gKiBAbGljZW5zZSBNSVRcclxuICovXHJcblxyXG5pbXBvcnQgTGlwQXBpIGZyb20gXCIuL2FwaS9saXBfYXBpLmNsYXNzXCI7XHJcbmltcG9ydCBOYm5UZWNoTWFwIGZyb20gXCIuL25ibl90ZWNoX21hcC5jbGFzc1wiO1xyXG5pbXBvcnQgQ29udHJvRGlzcGxheU1vZGUgZnJvbSBcIi4vY29udHJvbHMvY29udHJvbF9kaXNwbGF5X21vZGUuY2xhc3NcIjtcclxuaW1wb3J0IHsgTWVtb3J5RGF0YXN0b3JlIH0gZnJvbSBcIi4vZGF0YXN0b3JlL2RhdGFzdG9yZS5tZW1vcnkuY2xhc3NcIjtcclxuaW1wb3J0IEFsbE1vZGUgZnJvbSBcIi4vbW9kZXMvbW9kZS5hbGxcIjtcclxuaW1wb3J0IENvbnRyb2xMZWdlbmQgZnJvbSBcIi4vY29udHJvbHMvY29udHJvbF9sZWdlbmQuY2xhc3NcIjtcclxuXHJcbmltcG9ydCAnLi9hc3NldHMvU2NyZWVuc2hvdDEucG5nJztcclxuaW1wb3J0ICcuL2Fzc2V0cy9TY3JlZW5zaG90Mi5wbmcnO1xyXG5pbXBvcnQgJy4vYXNzZXRzL1NjcmVlbnNob3QzLnBuZyc7XHJcblxyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBOYm5QbGFjZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7IEluZGV4REJQbGFjZVN0b3JlIH0gZnJvbSBcIi4vcGxhY2VzdG9yZS9pbmRleGRiLnBsYWNlc3RvcmVcIjtcclxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignaW5kZXgudHMnKTtcclxuXHJcbmNvbnN0IGlzRGV2ZWxvcG1lbnQgPSAoKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgcHJvY2Vzcy5hcmd2LmluY2x1ZGVzKCdkZXZlbG9wbWVudCcpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSkoKTtcclxubG9nZ2VyLmRlYnVnKCdpc0RldmVsb3BtZW50JywgaXNEZXZlbG9wbWVudCk7XHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvciAmJiAhaXNEZXZlbG9wbWVudCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc2VydmljZS13b3JrZXIuanMnKS50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdTVyByZWdpc3RlcmVkOiAnLCByZWdpc3RyYXRpb24pO1xyXG4gICAgICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1NXIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIHJlZ2lzdHJhdGlvbkVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByZWFkeVxyXG4gKiBAZGVzY3JpcHRpb24gRXhlY3V0ZXMgYSBmdW5jdGlvbiB3aGVuIHRoZSBET00gaXMgcmVhZHkuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS85ODk5NzAxLzEyOTMyNTZ9XHJcbiAqL1xyXG5mdW5jdGlvbiByZWFkeShmbjogKCkgPT4gdm9pZCkge1xyXG4gICAgLy8gc2VlIGlmIERPTSBpcyBhbHJlYWR5IGF2YWlsYWJsZVxyXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCIpIHtcclxuICAgICAgICAvLyBjYWxsIG9uIG5leHQgYXZhaWxhYmxlIHRpY2tcclxuICAgICAgICBzZXRUaW1lb3V0KGZuLCAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZm4pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBFeGVjdXRlIHdoZW4gRE9NIGlzIHJlYWR5LlxyXG5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICBjb25zdCBtYXBBcGkgPSBuZXcgTGlwQXBpKCk7XHJcbiAgICAvL2NvbnN0IGRhdGFzdG9yZSA9IG5ldyBJbmRleERCRGF0YXN0b3JlKCk7XHJcbiAgICAvLyBjb25zdCBkYXRhc3RvcmUgPSBuZXcgTWVtb3J5RGF0YXN0b3JlKCk7XHJcbiAgICAvL2NvbnN0IG1hcmtlckxheWVyID0gbmV3IE1hcmtlckxheWVyQ2x1c3RlcigpO1xyXG5cclxuICAgIGNvbnN0IG1vZGVBbGwgPSBuZXcgQWxsTW9kZSgpO1xyXG4gICAgY29uc3QgcGxhY2VTdG9yZSA9IG5ldyBJbmRleERCUGxhY2VTdG9yZSgpO1xyXG5cclxuICAgIGNvbnN0IG5iblRlY2hNYXAgPSBuZXcgTmJuVGVjaE1hcCh7XHJcbiAgICAgICAgbWFwQ29udGFpbmVySWQ6ICdtYXAnLFxyXG4gICAgICAgIGFwaTogbWFwQXBpLFxyXG4gICAgICAgIC8vZGF0YXN0b3JlOiBkYXRhc3RvcmUsXHJcbiAgICAgICAgLy9tYXJrZXJMYXllcjogbWFya2VyTGF5ZXIsXHJcbiAgICAgICAgZGVmYXVsdE1vZGVIYW5kbGVyOiBtb2RlQWxsLFxyXG4gICAgICAgIHBsYWNlc3RvcmU6IHBsYWNlU3RvcmUsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBDb250cm9scyB0byBNYXBcclxuICAgICAqL1xyXG5cclxuICAgIC8vIERpc3BsYXkgTW9kZSBDb250cm9sXHJcbiAgICBjb25zdCBjRGlzcGxheU1vZGUgPSBuZXcgQ29udHJvRGlzcGxheU1vZGUoKTtcclxuICAgIG5iblRlY2hNYXAuYWRkQ29udHJvbCgnZGlzcGxheW1vZGUnLCBjRGlzcGxheU1vZGUpO1xyXG5cclxuICAgIC8vIExlZ2VuZCBDb250cm9sXHJcbiAgICBjb25zdCBjTGVnZW5kID0gbmV3IENvbnRyb2xMZWdlbmQoKTtcclxuICAgIGNMZWdlbmQudXBkYXRlTGVnZW5kKG1vZGVBbGwuZ2V0TGVnZW5kSXRlbXMoKSk7XHJcbiAgICBuYm5UZWNoTWFwLmFkZENvbnRyb2woJ2xlZ2VuZCcsIGNMZWdlbmQpO1xyXG5cclxuICAgIC8vIFNlYXJjaCBDb250cm9sXHJcblxyXG4gICAgLy8gUHJvZ3Jlc3MgQ29udHJvbFxyXG5cclxuICAgIC8vIEFkZCBldmVudCBMaXN0ZW5lcnNcclxuICAgIGNEaXNwbGF5TW9kZS5vbignY2hhbmdlJywgKGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKGUuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnYWxsJzpcclxuICAgICAgICAgICAgICAgIG5iblRlY2hNYXAuc2V0TW9kZUhhbmRsZXIobW9kZUFsbCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndXBncmFkZSc6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZWUnOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn0pIiwiaW1wb3J0IElQbGFjZVN0b3JlIGZyb20gJy4uL2ludGVyZmFjZXMvcGxhY2VzdG9yZS5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBOYm5QbGFjZSB9IGZyb20gXCIuLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBEQlNjaGVtYSwgSURCUERhdGFiYXNlLCBvcGVuREIgfSBmcm9tICdpZGInO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5CTlRlY2hNYXBEQiBleHRlbmRzIERCU2NoZW1hIHtcclxuICAgIG5iblBsYWNlU3RvcmU6IHtcclxuICAgICAgICBrZXk6IHN0cmluZztcclxuICAgICAgICB2YWx1ZTogTmJuUGxhY2U7XHJcbiAgICAgICAgaW5kZXhlczoge1xyXG4gICAgICAgICAgICAvL2xvY2lkOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIC8vbGF0bG5nOiBbbnVtYmVyLCBudW1iZXJdO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbmRleERCUGxhY2VTdG9yZSBpbXBsZW1lbnRzIElQbGFjZVN0b3JlIHtcclxuXHJcbiAgICBwcml2YXRlIERCX05BTUUgPSAnbnNtLXBsYWNlc3RvcmUnO1xyXG5cclxuICAgIHByaXZhdGUgbG9nZ2VyID0gbmV3IExvZ2dlcignSW5kZXhEQlBsYWNlU3RvcmUnKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBkYXRhYmFzZS5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBkYj86IElEQlBEYXRhYmFzZTxOQk5UZWNoTWFwREI+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgZGF0YWJhc2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ1NldHRpbmcgdXAgZGF0YWJhc2UuLi4nKTtcclxuXHJcbiAgICAgICAgb3BlbkRCPE5CTlRlY2hNYXBEQj4odGhpcy5EQl9OQU1FLCAxLCB7XHJcblxyXG4gICAgICAgICAgICB1cGdyYWRlKGRiLCBvbGRWZXJzaW9uLCBuZXdWZXJzaW9uLCB0cmFuc2FjdGlvbiwgZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZU5hbWVzID0gZGIub2JqZWN0U3RvcmVOYW1lcztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmJuIHBsYWNlIHN0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcclxuICAgICAgICAgICAgICAgIGlmICghb2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnbmJuUGxhY2VTdG9yZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ25iblBsYWNlU3RvcmUnLCB7IGtleVBhdGg6ICdsb2NpZCcgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgYmxvY2tlZDogKGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0RhdGFiYXNlIGJsb2NrZWQhJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGJsb2NraW5nOiAoY3VycmVudFZlcnNpb24sIGJsb2NrZWRWZXJzaW9uLCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRGF0YWJhc2UgYmxvY2tpbmchJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZXJzaW9uLCBibG9ja2VkVmVyc2lvbiwgZXZlbnRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgdGVybWluYXRlZDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignRGF0YWJhc2UgdGVybWluYXRlZCEnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRiID0gZGI7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0RhdGFiYXNlIHJlYWR5IScpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBvcGVuIGRhdGFiYXNlOiAnLCBlcnIpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnRGF0YWJhc2Ugc2V0dXAgY29tcGxldGUuJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdGhlIGRhdGFiYXNlIGlzIHJlYWR5LlxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIGlzUmVhZHkoKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuZGI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXYWl0IHVudGlsIHRoZSBkYXRhYmFzZSBpcyByZWFkeS5cclxuICAgICAqIEBwYXJhbSB0aW1lb3V0U2Vjb25kcyBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBhc3luYyB3YWl0VW50aWxSZWFkeSh0aW1lb3V0U2Vjb25kczogbnVtYmVyKSA6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZUVsYXBzZWQgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNSZWFkeSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aW1lRWxhcHNlZCA+IHRpbWVvdXRTZWNvbmRzICogMTAwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYERhdGFiYXNlIG5vdCByZWFkeSBhZnRlciAke3RpbWVvdXRTZWNvbmRzfSBzZWNvbmRzLmApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlIGEgc2luZ2xlIHBsYWNlLlxyXG4gICAgICogQHBhcmFtIHBsYWNlIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzdG9yZVBsYWNlKHBsYWNlOiBOYm5QbGFjZSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5nZXREYigpO1xyXG4gICAgICAgIGF3YWl0IGRiLnB1dCgnbmJuUGxhY2VTdG9yZScsIHBsYWNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlIGEgYmF0Y2ggb2YgcGxhY2VzLlxyXG4gICAgICogVXNlcyBhIHRyYW5zYWN0aW9uIHRvIHByb3ZpZGUgYmV0dGVyIHBlcmZvcm1hbmNlLlxyXG4gICAgICogQHBhcmFtIHBsYWNlcyBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3RvcmVQbGFjZXMocGxhY2VzOiBOYm5QbGFjZVtdKSA6IFByb21pc2U8dm9pZD4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGRhdGFiYXNlXHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmdldERiKCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ25iblBsYWNlU3RvcmUnXSwgJ3JlYWR3cml0ZScsIHtcclxuICAgICAgICAgICAgJ2R1cmFiaWxpdHknOiAncmVsYXhlZCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgb2JqZWN0IHN0b3JlXHJcbiAgICAgICAgY29uc3QgcGxhY2VTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCduYm5QbGFjZVN0b3JlJyk7XHJcblxyXG4gICAgICAgIC8vIFB1dCBlYWNoIHBsYWNlIGludG8gdGhlIHN0b3JlXHJcbiAgICAgICAgYXdhaXQgcGxhY2VzLm1hcChwbGFjZSA9PiBwbGFjZVN0b3JlLnB1dChwbGFjZSkpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlXHJcbiAgICAgICAgYXdhaXQgdHguZG9uZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBzaW5nbGUgcGxhY2UuXHJcbiAgICAgKiBAcGFyYW0gbG9jaWQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0UGxhY2UobG9jaWQ6IHN0cmluZykgOiBQcm9taXNlPE5iblBsYWNlIHwgdW5kZWZpbmVkPiB7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgZGF0YWJhc2VcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBwbGFjZVxyXG4gICAgICAgIHJldHVybiBhd2FpdCBkYi5nZXQoJ25iblBsYWNlU3RvcmUnLCBsb2NpZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgYmF0Y2ggb2YgcGxhY2VzLlxyXG4gICAgICogVXNlcyBhIHRyYW5zYWN0aW9uIHRvIHByb3ZpZGUgYmV0dGVyIHBlcmZvcm1hbmNlLlxyXG4gICAgICogQHBhcmFtIGxvY2lkcyBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRQbGFjZXMobG9jaWRzOiBzdHJpbmdbXSk6IFByb21pc2U8TmJuUGxhY2VbXT4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIGRhdGFiYXNlXHJcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmdldERiKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gT3BlbiBhIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ25iblBsYWNlU3RvcmUnXSwgJ3JlYWRvbmx5Jyk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgb2JqZWN0IHN0b3JlXHJcbiAgICAgICAgY29uc3QgcGxhY2VTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCduYm5QbGFjZVN0b3JlJyk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgcGxhY2VzXHJcbiAgICAgICAgY29uc3QgcGxhY2VzID0gYXdhaXQgUHJvbWlzZS5hbGwobG9jaWRzLm1hcChsb2NpZCA9PiBwbGFjZVN0b3JlLmdldChsb2NpZCkpKTtcclxuXHJcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlXHJcbiAgICAgICAgYXdhaXQgdHguZG9uZTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBwbGFjZXNcclxuICAgICAgICByZXR1cm4gcGxhY2VzLmZpbHRlcihwbGFjZSA9PiAhIXBsYWNlKSBhcyBOYm5QbGFjZVtdO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKiBAcGFyYW0gdGltZW91dCBcclxuICAgICAqIEByZXR1cm5zIFByb21pc2U8SURCUERhdGFiYXNlPE5CTlRlY2hNYXBEQj4+XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0RGIodGltZW91dCA9IDUpIDogUHJvbWlzZTxJREJQRGF0YWJhc2U8TkJOVGVjaE1hcERCPj4ge1xyXG4gICAgICAgIGF3YWl0IHRoaXMud2FpdFVudGlsUmVhZHkodGltZW91dCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRiKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2Ugbm90IHJlYWR5LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5kYjtcclxuICAgIH1cclxuXHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTQzOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gPSBzZWxmW1wid2VicGFja0NodW5rXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1NzhdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXygyMjQpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJmZXRjaFBhZ2UiLCJib3VuZHMiLCJwYWdlIiwicHJvY2VlZCIsIm5vcnRoIiwiZ2V0Tm9ydGgiLCJ0b0ZpeGVkIiwiZWFzdCIsImdldEVhc3QiLCJzb3V0aCIsImdldFNvdXRoIiwid2VzdCIsImdldFdlc3QiLCJFcnJvciIsIk1hdGgiLCJtYXgiLCJOdW1iZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZldGNoIiwibWV0aG9kIiwicmVkaXJlY3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJ0ZXh0IiwicmVzdWx0IiwicGFyc2VkUmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiZGF0YSIsImNhdGNoIiwibWFwIiwibW9kZUhhbmRsZXIiLCJwbGFjZVN0b3JlIiwicG9pbnRNYXAiLCJNYXAiLCJ0aGlzIiwibWFya2VycyIsIm1heENsdXN0ZXJSYWRpdXMiLCJtYXJrZXJDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlPbk1heFpvb20iLCJkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbSIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJ6b29tVG9Cb3VuZHNPbkNsaWNrIiwicmVtb3ZlT3V0c2lkZVZpc2libGVCb3VuZHMiLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJjaHVua2VkTG9hZGluZyIsImNodW5rSW50ZXJ2YWwiLCJjaHVua0RlbGF5IiwiY2h1bmtQcm9ncmVzcyIsInByb2Nlc3NlZCIsInRvdGFsIiwiZWxhcHNlZCIsImNvbnNvbGUiLCJsb2ciLCJhZGRUbyIsIm9uIiwiZXZlbnQiLCJ0YXJnZXQiLCJnZXRab29tIiwiYWRkUG9pbnRzIiwicG9pbnRzIiwibmV3TGF5ZXJzIiwiZm9yRWFjaCIsInBvaW50IiwibGF0TG5nU3RyaW5nIiwibGF0IiwibG5nIiwiZ2V0IiwibmV3TGF5ZXIiLCJyZW5kZXJQb2ludCIsInB1c2giLCJzZXQiLCJsYXllciIsImxlbmd0aCIsImFkZExheWVycyIsInpvb20iLCJ1cGRhdGVQb2ludFN0eWxlIiwicGxhY2VzIiwic2V0U3R5bGUiLCJmaWxsQ29sb3IiLCJwbGFjZUNvbG91ciIsInNldFRvb2x0aXBDb250ZW50IiwicmVuZGVyVG9vbHRpcCIsInJlZHJhdyIsInNldE1vZGVIYW5kbGVyIiwicGxhY2VzdG9yZSIsImdldFBsYWNlcyIsImlkcyIsImdldExheWVycyIsInJlZnJlc2hDbHVzdGVycyIsIkRFUF9yZWZyZXNoTWFya2Vyc0luc2lkZUJvdW5kcyIsIm1GaWx0ZXIiLCJyZW1vdmVNYXJrZXJzT3V0c2lkZUJvdW5kcyIsInJlbW92ZUFsbE1hcmtlcnMiLCJjbGVhckxheWVycyIsImNpcmNsZU1hcmtlckxheWVyIiwicmFkaXVzIiwiY29sIiwidW5kZWZpbmVkIiwiY29sb3IiLCJ3ZWlnaHQiLCJvcGFjaXR5IiwiZmlsbE9wYWNpdHkiLCJiaW5kUG9wdXAiLCJwb3B1cCIsInJlbmRlclBvcHVwIiwic2V0UG9wdXBDb250ZW50IiwibG9hZGluZ1BvcHVwIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXV0b1BhbiIsImF1dG9DbG9zZSIsImJpbmRUb29sdGlwIiwibGFiZWwiLCJhZGQiLCJyZW5kZXJQb3B1cENvbnRlbnQiLCJyZW5kb3JQb3B1cE11bHRpIiwiZ3JvdXBEaXYiLCJwbGFjZUNvbnRhaW5lcnMiLCJzb3J0IiwiYSIsImIiLCJhZGRyZXNzMSIsInBsYWNlIiwicGxhY2VDb250YWluZXIiLCJidXR0b24iLCJjbGFzc0xpc3QiLCJ0eXBlIiwicGFuZWwiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjdXJyZW50bHlBY3RpdmUiLCJjb250YWlucyIsInJlbW92ZSIsImNsdXN0ZXIiLCJjb2xvckFycmF5IiwiZ2V0QWxsQ2hpbGRNYXJrZXJzIiwibWFya2VyIiwib3B0aW9ucyIsImNvbG9yQ291bnRzIiwiY29sb3JBcnJheVNvcnRlZCIsIk9iamVjdCIsImtleXMiLCJiYWNrZ3JvdW5kIiwibGFzdENvbG91clBlcmNlbnQiLCJpbmRleCIsInRoaXNDb2xvdXJQZXJjZW50IiwicmFuZG9tSWQiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImh0bWwiLCJnZXRDaGlsZENvdW50IiwiY2xhc3NOYW1lIiwibmFtZSIsInN1YiIsIkxvZ2dlciIsImVycm9yIiwiYXJncyIsIndhcm4iLCJkZWJ1ZyIsImlzRGVidWdNb2RlIiwiaW5mbyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImluY2x1ZGVzIiwibG9nZ2VyIiwibWFya2VyRmlsdGVyIiwiaW5pdGlhbFZpZXdTZXQiLCJmZXRjaGVkQm94ZXMiLCJTZXQiLCJwcm9ncmVzc0NvbnRyb2wiLCJwb3NpdGlvbiIsInByb2dyZXNzSXRlbXMiLCJjb250cm9scyIsIk5iblRlY2hNYXAiLCJERUZBVUxUX09QVElPTlMiLCJhcGkiLCJkZWZhdWx0TW9kZUhhbmRsZXIiLCJtYXBDb250YWluZXJJZCIsInByZWZlckNhbnZhcyIsIm1hcmtlckxheWVyIiwibWFwVGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJzdWJkb21haW5zIiwiY3Jvc3NPcmlnaW4iLCJtaW5ab29tIiwibWF4Wm9vbSIsIkwiLCJHZW9jb2RlciIsImdlb2NvZGVyIiwibWFwR2VvY29kZXIiLCJBcmNHaXMiLCJhcGlLZXkiLCJnZW9jb2RpbmdRdWVyeVBhcmFtcyIsImNvdW50cnlDb2RlIiwiY2F0ZWdvcnkiLCJtYXBTZWFyY2giLCJjb2xsYXBzZWQiLCJkZWZhdWx0TWFya0dlb2NvZGUiLCJzdWdnZXN0TWluTGVuZ3RoIiwic3VnZ2VzdFRpbWVvdXQiLCJiYm94IiwiZ2VvY29kZSIsImZpdEJvdW5kcyIsIm1hcExvY2F0ZSIsImxvY2F0ZSIsImxvY2F0ZU9wdGlvbnMiLCJzZXRWaWV3Iiwia2VlcEN1cnJlbnRab29tTGV2ZWwiLCJpbml0aWFsWm9vbUxldmVsIiwiY2FjaGVMb2NhdGlvbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic2V0SW5pdGlhbE1hcFZpZXciLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJzdHJpbmdpZnkiLCJwdXNoQnJvd3Nlckhpc3RvcnkiLCJmZXRjaERhdGFGb3JDdXJyZW50VmlldyIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsInBhcnNlSW50IiwibmV3VXJsIiwicGF0aG5hbWUiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZ2V0U3RhcnRQb3MiLCJzdGFydFBvc1N0cmluZyIsImdldEl0ZW0iLCJnZW9GbGFnIiwic3RhcnRQb3MiLCJzdGFydCIsInNldFpvb20iLCJnZXRCb3hlc0luQm91bmRzIiwibm9ydGhtb3N0IiwiY2VpbCIsIndlc3RtbW9zdCIsImZsb29yIiwiYm94ZXMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImJveCIsImdldEN1cnJlbnRWaWV3Qm94ZXMiLCJnZXRCb3VuZHMiLCJoaWRlTWFya2Vyc091dHNpZGVDdXJyZW50VmlldyIsIm1hcEJvdW5kcyIsInBhZCIsIkRFUF9kaXNwbGF5TWFya2Vyc0luQ3VycmVudFZpZXciLCJhdHRlbXB0Iiwic2hvd1pvb21Jbldhcm5pbmciLCJ6b29tSW5XYXJuaW5nQ29udHJvbCIsIm9uQWRkIiwiZGl2IiwiY3JlYXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYWRkaW5nIiwic2V0VGltZW91dCIsImFkZENvbnRyb2wiLCJoaWRlWm9vbUluV2FybmluZyIsInJlbW92ZUNvbnRyb2wiLCJ1bmZldGNoZWRCb3hlcyIsImZpbHRlciIsImhhcyIsInVwZGF0ZUtleSIsInByb2dyZXNzSXRlbSIsImNyZWF0ZVByb2dyZXNzIiwicmVuZGVyUHJvZ3Jlc3MiLCJib3hlc1Byb2Nlc3NlZCIsInVwZGF0ZVByb2dyZXNzIiwiZmV0Y2hEYXRhIiwia2V5Iiwic3RhcnRlZCIsIkRhdGUiLCJmaW5pc2hlZCIsImNvbXBsZXRlIiwicHJvZ3Jlc3MiLCJub3ciLCJpIiwiZ2V0VGltZSIsIml0ZW1zIiwidmFsdWVzIiwiaXRlbSIsInByb2dyZXNzVGV4dCIsImV2ZXJ5IiwiaGlkZVByb2dyZXNzIiwiaW50ZXJzZWN0cyIsInByb2Nlc3NGZXRjaFJlc3VsdCIsIm5leHQiLCJtZXNzYWdlIiwic3RvcmVQbGFjZXMiLCJsYXRMbmciLCJsb2NpZCIsInBvaW50c0FycmF5IiwiREVQUl9yZWZyZXNoUG9pbnRzRnJvbVN0b3JlIiwicm91bmRCb3VuZHMiLCJjb250cm9sIiwiZ2V0Q29udHJvbCIsInNldE1hcmtlckZpbHRlciIsImV2ZW50SGFuZGxlcnMiLCJldmVudE5hbWUiLCJjYWxsYmFjayIsImVtaXQiLCJoYW5kbGVycyIsInN0YXRlIiwiZ2V0U3RhdGUiLCJkaXNwbGF5TW9kZSIsImVsQ29udHJvbERpdiIsImVsRHJvcGRvd24iLCJhbGxMYWJlbCIsImFsbFJhZGlvIiwiYWxsVGV4dCIsInVwZ3JhZGVMYWJlbCIsInVwZ3JhZGVSYWRpbyIsInVwZ3JhZGVUZXh0IiwiZWVMYWJlbCIsImVlUmFkaW8iLCJlZVRleHQiLCJnZW5lcmF0ZUNvbnRyb2xEaXYiLCJnZW5lcmF0ZURyb3Bkb3duIiwiY2hhbmdlTW9kZSIsIm1vZGUiLCJib3JkZXJSYWRpdXMiLCJkcm9wZG93biIsImFsbE9wdGlvbiIsInZhbHVlIiwiaW5uZXJUZXh0IiwiZSIsImdldFRlY2hDb2xvdXIiLCJ0ZWNoVHlwZSIsInBvaW50Q29sb3VyIiwiaXNQbGFjZUZUVFAiLCJhbHRSZWFzb25Db2RlIiwibWF0Y2giLCJ0ZWNoQ2hhbmdlU3RhdHVzIiwiaXNQbGFjZUZUVFBBdmFpbCIsImlzUGxhY2VGVFRQU29vbiIsImlzUGxhY2VGVFRQRmFyIiwicmVhc29uQ29kZSIsImlzUGxhY2VGVFRDIiwiaXNGd3RvRlRUQyIsImlzRnd0b0ZUVE4iLCJpc1NhdFRvRlciLCJjb250ZW50IiwiYWRkcmVzczIiLCJwcm9ncmFtVHlwZSIsInRhcmdldEVsaWdpYmlsaXR5UXVhcnRlciIsImVlIiwiY2JkcHJpY2luZyIsInplcm9CdWlsZENvc3QiLCJociIsInByZSIsImdldExlZ2VuZEl0ZW1zIiwiY29sb3VyIiwic2V0UG9zaXRpb24iLCJ1cGRhdGVMZWdlbmQiLCJjb3VudCIsImZuIiwiREJfTkFNRSIsInVwZ3JhZGUiLCJkYiIsIm9sZFZlcnNpb24iLCJuZXdWZXJzaW9uIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZU5hbWVzIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiYmxvY2tlZCIsImN1cnJlbnRWZXJzaW9uIiwiYmxvY2tlZFZlcnNpb24iLCJibG9ja2luZyIsInRlcm1pbmF0ZWQiLCJlcnIiLCJmaW5hbGx5IiwiaXNSZWFkeSIsIndhaXRVbnRpbFJlYWR5IiwidGltZW91dFNlY29uZHMiLCJzdGFydFRpbWUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwidGltZUVsYXBzZWQiLCJjbGVhckludGVydmFsIiwic3RvcmVQbGFjZSIsImdldERiIiwicHV0IiwidHgiLCJvYmplY3RTdG9yZSIsImRvbmUiLCJnZXRQbGFjZSIsImxvY2lkcyIsImFsbCIsInRpbWVvdXQiLCJpc0RldmVsb3BtZW50IiwicHJvY2VzcyIsImFyZ3YiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciIsIm1hcEFwaSIsIm1vZGVBbGwiLCJJbmRleERCUGxhY2VTdG9yZSIsIm5iblRlY2hNYXAiLCJjRGlzcGxheU1vZGUiLCJjTGVnZW5kIiwicmVhZHlTdGF0ZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwibSIsIk8iLCJjaHVua0lkcyIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJqIiwic3BsaWNlIiwiciIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVwbGFjZSIsInAiLCJiYXNlVVJJIiwic2VsZiIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsImJpbmQiLCJuYyIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9